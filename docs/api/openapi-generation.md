# OpenAPI generation

- Owner: `api-contracts`
- Type: `guide`
- Audience: `contributor`
- Stability: `stable`
- Last verified against: `main@8641e5b0`
- Reason to exist: explain how the published OpenAPI contract is generated, verified, and consumed.

## Canonical output

- Published generated contract: `configs/openapi/v1/openapi.generated.json`
- Runtime endpoint: `GET /v1/openapi.json`
- Endpoint registry cross-check: [Reference contracts endpoints](../reference/contracts/endpoints.md)

## How generation works

- The API crate produces the `v1` OpenAPI document from the canonical route and schema surface.
- The committed generated file is the review artifact for drift checks.
- CI compares generated bytes and the pinned contract hash before merge.

## Verification

```bash
cargo test -q -p bijux-atlas-api openapi_snapshot_is_deterministic_and_matches_committed_contract -- --exact
cargo test -q -p bijux-atlas-api openapi_hash_matches_pinned_contract -- --exact
```

Expected output: both tests exit `0` and report no committed OpenAPI drift.

## Next steps

- [Compatibility test plan](compatibility-test-plan.md)
- [Reference contracts endpoints](../reference/contracts/endpoints.md)
