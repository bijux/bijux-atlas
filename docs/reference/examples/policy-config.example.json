{
  "schema_version": 1,
  "mode": "strict",
  "allow_override": false,
  "modes": {
    "strict": {
      "allow_override": false,
      "max_page_size": 500,
      "max_region_span": 1000000,
      "max_response_bytes": 1048576
    },
    "compat": {
      "allow_override": false,
      "max_page_size": 1000,
      "max_region_span": 2000000,
      "max_response_bytes": 2097152
    },
    "dev": {
      "allow_override": false,
      "max_page_size": 1000,
      "max_region_span": 2000000,
      "max_response_bytes": 2097152
    }
  },
  "network_in_unit_tests": false,
  "query_budget": {
    "cheap": 10,
    "medium": 100,
    "heavy": 1000,
    "max_limit": 500,
    "max_prefix_length": 64
  },
  "response_budget": {
    "cheap_max_bytes": 65536,
    "medium_max_bytes": 131072,
    "heavy_max_bytes": 524288,
    "max_serialization_bytes": 1048576
  },
  "cache_budget": {
    "max_disk_bytes": 2147483648,
    "max_dataset_count": 8,
    "pinned_datasets_max": 4,
    "shard_count_policy_max": 128,
    "max_open_shards_per_pod": 64
  },
  "store_resilience": {
    "retry_budget": 3,
    "retry_attempts": 3,
    "breaker_failure_threshold": 5
  },
  "rate_limit": {
    "per_ip_rps": 50,
    "per_api_key_rps": 100
  },
  "concurrency_bulkheads": {
    "cheap": 64,
    "medium": 32,
    "heavy": 8
  },
  "telemetry": {
    "metrics_enabled": true,
    "tracing_enabled": true,
    "slow_query_log_enabled": true,
    "request_id_required": true,
    "required_metric_labels": ["route", "status", "method"],
    "trace_sampling_per_10k": 100
  },
  "publish_gates": {
    "required_indexes": ["idx_gene_id", "idx_seqid_start_end"],
    "min_gene_count": 1,
    "max_missing_parents": 0
  },
  "documented_defaults": [
    {
      "field": "rate_limit.per_ip_rps",
      "reason": "default local guard"
    }
  ]
}
