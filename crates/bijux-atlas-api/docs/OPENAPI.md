# OpenAPI

- License: Apache-2.0

- Source of truth:
  - Paths registry: `docs/reference/contracts/schemas/ENDPOINTS.json`
  - Error codes: `docs/reference/contracts/schemas/ERROR_CODES.json`
  - Type/schema composition: `src/openapi.rs` (`openapi_v1_spec`)
- Writer binary: `src/bin/openapi.rs` writes canonical stable JSON.
- Versioning: this crate currently emits `v1` spec only.
- Drift rule: CI compares generated bytes to tracked snapshot and fails on mismatch.
- Determinism rule: output must be byte-identical across repeated runs in same commit.
- Build-chain rule: `make openapi-generate` validates generated paths against `docs/reference/contracts/schemas/ENDPOINTS.json`.
- Transcript v1 routes are included:
  - `/v1/genes/{gene_id}/transcripts`
  - `/v1/transcripts/{tx_id}`
- Sequence v1 routes are included:
  - `/v1/sequence/region`
  - `/v1/genes/{gene_id}/sequence`
- Diff v1 routes are included:
  - `/v1/diff/genes`
  - `/v1/diff/region`
