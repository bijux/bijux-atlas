{"checks": [{"category": "hygiene", "description": "forbid duplicate pyproject tool blocks", "domain": "configs", "effects": [], "external_tools": [], "fix_hint": "Deduplicate tool.atlasctl/tool.pytest sections in packages/atlasctl/pyproject.toml.", "id": "configs.pyproject_no_duplicate_tool_config", "owners": [], "severity": "error", "slow": false, "tags": ["configs", "fast", "refgrade", "refgrade_required"], "title": "forbid duplicate pyproject tool blocks"}, {"category": "hygiene", "description": "validate required pyproject blocks", "domain": "configs", "effects": [], "external_tools": [], "fix_hint": "Restore missing [project]/[build-system]/tool config blocks in packages/atlasctl/pyproject.toml.", "id": "configs.pyproject_required_blocks", "owners": [], "severity": "error", "slow": false, "tags": ["configs", "fast", "refgrade", "refgrade_required"], "title": "validate required pyproject blocks"}, {"category": "contract", "description": "validate atlasctl CLI contract surface", "domain": "contracts", "effects": [], "external_tools": [], "fix_hint": "Update CLI contract docs/tests to match behavior.", "id": "contracts.atlasctl_cli", "owners": [], "severity": "error", "slow": false, "tags": ["contracts", "fast", "policies", "refgrade", "refgrade_required"], "title": "validate atlasctl CLI contract surface"}, {"category": "contract", "description": "validate repository layout contract", "domain": "contracts", "effects": [], "external_tools": ["bash"], "fix_hint": "Fix layout violations reported by the contract checker.", "id": "contracts.layout", "owners": [], "severity": "error", "slow": true, "tags": ["contracts", "policies", "refgrade", "refgrade_required", "slow"], "title": "validate repository layout contract"}, {"category": "contract", "description": "validate schema catalog for duplicate names and missing files", "domain": "contracts", "effects": [], "external_tools": [], "fix_hint": "Fix catalog duplicates and missing schema files.", "id": "contracts.schema_catalog", "owners": [], "severity": "error", "slow": false, "tags": ["contracts", "fast", "policies", "refgrade", "refgrade_required"], "title": "validate schema catalog for duplicate names and missing files"}, {"category": "contract", "description": "ensure schemas listed in catalog exist on disk", "domain": "contracts", "effects": [], "external_tools": [], "fix_hint": "Add missing schema files or fix catalog file entries.", "id": "contracts.schema_catalog_files_exist", "owners": [], "severity": "error", "slow": false, "tags": ["contracts", "fast", "policies", "refgrade", "refgrade_required"], "title": "ensure schemas listed in catalog exist on disk"}, {"category": "contract", "description": "ensure schema catalog contains only referenced schemas", "domain": "contracts", "effects": [], "external_tools": [], "fix_hint": "Remove or reference orphan schemas in catalog.", "id": "contracts.schema_catalog_referenced", "owners": [], "severity": "error", "slow": false, "tags": ["contracts", "fast", "policies", "refgrade", "refgrade_required"], "title": "ensure schema catalog contains only referenced schemas"}, {"category": "contract", "description": "ensure schema catalog order is deterministic", "domain": "contracts", "effects": [], "external_tools": [], "fix_hint": "Sort catalog.json entries by schema name.", "id": "contracts.schema_catalog_sorted", "owners": [], "severity": "error", "slow": false, "tags": ["contracts", "fast", "policies", "refgrade", "refgrade_required"], "title": "ensure schema catalog order is deterministic"}, {"category": "contract", "description": "enforce contracts catalog.json as schema SSOT", "domain": "contracts", "effects": [], "external_tools": [], "fix_hint": "Route schema catalog access through atlasctl.contracts.catalog only.", "id": "contracts.schema_catalog_ssot", "owners": [], "severity": "error", "slow": false, "tags": ["contracts", "fast", "policies", "refgrade", "refgrade_required"], "title": "enforce contracts catalog.json as schema SSOT"}, {"category": "contract", "description": "ensure no schema file exists outside catalog", "domain": "contracts", "effects": [], "external_tools": [], "fix_hint": "Add schema file to catalog.json or remove stale schema file.", "id": "contracts.schema_disk_files_listed", "owners": [], "severity": "error", "slow": false, "tags": ["contracts", "fast", "policies", "refgrade", "refgrade_required"], "title": "ensure no schema file exists outside catalog"}, {"category": "contract", "description": "validate JSON goldens against declared schemas", "domain": "contracts", "effects": [], "external_tools": [], "fix_hint": "Fix golden payload shape/schema alignment.", "id": "contracts.schema_goldens", "owners": [], "severity": "error", "slow": false, "tags": ["contracts", "fast", "policies", "refgrade", "refgrade_required"], "title": "validate JSON goldens against declared schemas"}, {"category": "contract", "description": "enforce schema id naming/version suffix policy", "domain": "contracts", "effects": [], "external_tools": [], "fix_hint": "Use atlasctl.<name>.v<major> and keep catalog version aligned with suffix.", "id": "contracts.schema_id_naming", "owners": [], "severity": "error", "slow": false, "tags": ["contracts", "fast", "policies", "refgrade", "refgrade_required"], "title": "enforce schema id naming/version suffix policy"}, {"category": "contract", "description": "validate sample payloads against declared schemas", "domain": "contracts", "effects": [], "external_tools": [], "fix_hint": "Update sample payloads or schema definitions.", "id": "contracts.schema_samples", "owners": [], "severity": "error", "slow": false, "tags": ["contracts", "fast", "policies", "refgrade", "refgrade_required"], "title": "validate sample payloads against declared schemas"}, {"category": "hygiene", "description": "enforce docker image size budget", "domain": "docker", "effects": [], "external_tools": [], "fix_hint": "Reduce image size or adjust documented budget.", "id": "docker.image_size", "owners": [], "severity": "error", "slow": false, "tags": ["docker", "fast", "ops", "refgrade", "refgrade_required"], "title": "enforce docker image size budget"}, {"category": "hygiene", "description": "validate docker layout contracts", "domain": "docker", "effects": [], "external_tools": [], "fix_hint": "Align docker files to layout contract.", "id": "docker.layout", "owners": [], "severity": "error", "slow": false, "tags": ["docker", "fast", "ops", "refgrade", "refgrade_required"], "title": "validate docker layout contracts"}, {"category": "hygiene", "description": "forbid floating latest image tags", "domain": "docker", "effects": [], "external_tools": [], "fix_hint": "Pin image tags to immutable versions.", "id": "docker.no_latest_tags", "owners": [], "severity": "error", "slow": false, "tags": ["docker", "fast", "ops", "refgrade", "refgrade_required"], "title": "forbid floating latest image tags"}, {"category": "hygiene", "description": "validate docker policy contracts", "domain": "docker", "effects": [], "external_tools": [], "fix_hint": "Resolve policy violations in docker contracts.", "id": "docker.policy", "owners": [], "severity": "error", "slow": false, "tags": ["docker", "fast", "ops", "refgrade", "refgrade_required"], "title": "validate docker policy contracts"}, {"category": "hygiene", "description": "validate docs/index.md covers all docs files", "domain": "docs", "effects": [], "external_tools": [], "fix_hint": "Add missing docs entries to packages/atlasctl/docs/index.md.", "id": "docs.index_complete", "owners": [], "severity": "error", "slow": false, "tags": ["docs", "fast", "refgrade", "refgrade_required"], "title": "validate docs/index.md covers all docs files"}, {"category": "hygiene", "description": "validate docs markdown link targets exist", "domain": "docs", "effects": [], "external_tools": [], "fix_hint": "Fix broken relative links in packages/atlasctl/docs.", "id": "docs.links_exist", "owners": [], "severity": "error", "slow": false, "tags": ["docs", "fast", "refgrade", "refgrade_required"], "title": "validate docs markdown link targets exist"}, {"category": "hygiene", "description": "forbid runtime ops generated path references in docs", "domain": "docs", "effects": [], "external_tools": [], "fix_hint": "Use stable docs or generated index links.", "id": "docs.no_ops_generated_run_path_refs", "owners": [], "severity": "error", "slow": false, "tags": ["docs", "fast", "refgrade", "refgrade_required"], "title": "forbid runtime ops generated path references in docs"}, {"category": "hygiene", "description": "forbid scripts/ path references in docs", "domain": "docs", "effects": [], "external_tools": [], "fix_hint": "Update docs references to atlasctl commands.", "id": "docs.no_scripts_path_refs", "owners": [], "severity": "error", "slow": false, "tags": ["docs", "fast", "refgrade", "refgrade_required"], "title": "forbid scripts/ path references in docs"}, {"category": "hygiene", "description": "forbid markdown files at package root except README", "domain": "docs", "effects": [], "external_tools": [], "fix_hint": "Move package root markdown docs into packages/atlasctl/docs/.", "id": "docs.package_root_markdown", "owners": [], "severity": "error", "slow": false, "tags": ["docs", "fast", "refgrade", "refgrade_required"], "title": "forbid markdown files at package root except README"}, {"category": "contract", "description": "ensure package license file exists and is MIT", "domain": "license", "effects": [], "external_tools": [], "fix_hint": "Create packages/atlasctl/LICENSE with canonical MIT text and copyright.", "id": "license.file_mit", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "license", "policies", "refgrade", "refgrade_required"], "title": "ensure package license file exists and is MIT"}, {"category": "policy", "description": "enforce SPDX policy for python source headers", "domain": "license", "effects": [], "external_tools": [], "fix_hint": "If SPDX header is present, set it to SPDX-License-Identifier: MIT.", "id": "license.spdx_policy", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "license", "policies", "refgrade", "refgrade_required"], "title": "enforce SPDX policy for python source headers"}, {"category": "policy", "description": "ensure package docs contain only MIT-compatible license statements", "domain": "license", "effects": [], "external_tools": [], "fix_hint": "Update README/docs license references to MIT and remove conflicting statements.", "id": "license.statements_consistent", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "license", "policies", "refgrade", "refgrade_required"], "title": "ensure package docs contain only MIT-compatible license statements"}, {"category": "hygiene", "description": "validate CI workflow entrypoints contract", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Keep workflow run commands on approved make/atlasctl entrypoints.", "id": "make.ci_entrypoints_contract", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "validate CI workflow entrypoints contract"}, {"category": "hygiene", "description": "enforce allowed direct recipe commands", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Use allowed command wrappers in make targets.", "id": "make.command_allowlist", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "enforce allowed direct recipe commands"}, {"category": "hygiene", "description": "forbid direct forbidden paths in make recipes", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Route commands through allowed wrappers.", "id": "make.forbidden_paths", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "forbid direct forbidden paths in make recipes"}, {"category": "hygiene", "description": "ensure deterministic make help output", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Regenerate and normalize make help output.", "id": "make.help_determinism", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "ensure deterministic make help output"}, {"category": "hygiene", "description": "enforce makefiles index drift contract", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Regenerate and commit makefiles index changes.", "id": "make.index_drift_contract", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "enforce makefiles index drift contract"}, {"category": "hygiene", "description": "require lane reports to be emitted through atlasctl reporting command", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Use `atlasctl report make-area-write` for lane report emission.", "id": "make.lane_reports_via_atlasctl_reporting", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "require lane reports to be emitted through atlasctl reporting command"}, {"category": "hygiene", "description": "forbid make recipes bypassing atlasctl without explicit allowlist", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Route recipe logic through atlasctl, or add a documented delegation exception.", "id": "make.no_bypass_atlasctl", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "forbid make recipes bypassing atlasctl without explicit allowlist"}, {"category": "hygiene", "description": "forbid direct artifact writes in make recipes", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Write artifacts via atlasctl reporting and command surfaces only.", "id": "make.no_direct_artifact_writes", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "forbid direct artifact writes in make recipes"}, {"category": "hygiene", "description": "forbid direct python script execution in make recipes", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Replace `python3 path/to/script.py` with atlasctl commands.", "id": "make.no_direct_python", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "forbid direct python script execution in make recipes"}, {"category": "hygiene", "description": "forbid direct python invocations in make recipes", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Use atlasctl entrypoints instead of direct python invocations.", "id": "make.no_direct_python_only_atlasctl", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "forbid direct python invocations in make recipes"}, {"category": "hygiene", "description": "drift check for direct script execution in make recipes", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Replace direct script execution with atlasctl command wrappers.", "id": "make.no_direct_script_exec_drift", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "drift check for direct script execution in make recipes"}, {"category": "hygiene", "description": "forbid direct script path invocations in make recipes", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Delegate script execution through atlasctl commands.", "id": "make.no_direct_scripts_only_atlasctl", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "forbid direct script path invocations in make recipes"}, {"category": "hygiene", "description": "require documented public make targets", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Document every public make target in generated/public docs.", "id": "make.public_targets_documented", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "require documented public make targets"}, {"category": "hygiene", "description": "forbid scripts/ references in make recipes", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Replace scripts/ invocations with atlasctl commands.", "id": "make.scripts_refs", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "forbid scripts/ references in make recipes"}, {"category": "hygiene", "description": "enforce make target boundary contracts", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Keep target cross-area dependencies within contract boundaries.", "id": "make.target_boundaries_enforced", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "enforce make target boundary contracts"}, {"category": "hygiene", "description": "require make target ownership coverage", "domain": "make", "effects": [], "external_tools": [], "fix_hint": "Add missing make target ownership metadata.", "id": "make.target_ownership_complete", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "make", "refgrade", "refgrade_required"], "title": "require make target ownership coverage"}, {"category": "hygiene", "description": "validate deterministic committed generated assets", "domain": "ops", "effects": [], "external_tools": [], "fix_hint": "Regenerate committed outputs deterministically.", "id": "ops.committed_generated_hygiene", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "ops", "refgrade", "refgrade_required"], "title": "validate deterministic committed generated assets"}, {"category": "hygiene", "description": "forbid tracked files in generated ops dirs", "domain": "ops", "effects": [], "external_tools": [], "fix_hint": "Untrack generated ops files.", "id": "ops.no_tracked_generated", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "ops", "refgrade", "refgrade_required"], "title": "forbid tracked files in generated ops dirs"}, {"category": "hygiene", "description": "forbid tracked timestamped paths", "domain": "ops", "effects": [], "external_tools": [], "fix_hint": "Remove timestamped tracked paths.", "id": "ops.no_tracked_timestamps", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "ops", "refgrade", "refgrade_required"], "title": "forbid tracked timestamped paths"}, {"category": "contract", "description": "validate python lock format", "domain": "python", "effects": [], "external_tools": [], "fix_hint": "Regenerate and normalize python lock entries.", "id": "python.lock", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "python", "refgrade", "refgrade_required"], "title": "validate python lock format"}, {"category": "policy", "description": "fail on expired python migration exceptions", "domain": "python", "effects": [], "external_tools": [], "fix_hint": "Update or remove expired migration exceptions.", "id": "python.migration_exceptions_expiry", "owners": [], "severity": "error", "slow": false, "tags": ["dev", "fast", "python", "refgrade", "refgrade_required"], "title": "fail on expired python migration exceptions"}, {"category": "hygiene", "description": "restrict direct argparse parser construction to canonical parser modules", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Move parser construction into cli/parser.py or commands/*/parser.py.", "id": "repo.argparse_policy", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "restrict direct argparse parser construction to canonical parser modules"}, {"category": "hygiene", "description": "require atlasctl package root to contain only allowed files and directories", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep only LICENSE, README.md, docs/, pyproject.toml, src/, tests/ (+ optional requirements input/lock) in packages/atlasctl root.", "id": "repo.atlasctl_package_root_shape", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require atlasctl package root to contain only allowed files and directories"}, {"category": "hygiene", "description": "forbid budget loosening without explicit approval marker", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Update configs/policy/atlasctl-budgets-baseline.json or add approved budget-loosening marker.", "id": "repo.budget_drift_approval", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid budget loosening without explicit approval marker"}, {"category": "hygiene", "description": "forbid duplicate top-level concept packages for registry/runner/contracts/output", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep only canonical concept homes: registry, suite, contracts, reporting.", "id": "repo.canonical_concept_homes", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid duplicate top-level concept packages for registry/runner/contracts/output"}, {"category": "hygiene", "description": "forbid direct CLI imports from check implementation files", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep check implementations pure and route CLI wiring through commands/cli modules.", "id": "repo.check_impl_no_cli_imports", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid direct CLI imports from check implementation files"}, {"category": "hygiene", "description": "ensure repo check modules are imported and reachable via registry", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Import new repo check modules in checks/repo/__init__.py.", "id": "repo.check_module_reachability", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure repo check modules are imported and reachable via registry"}, {"category": "hygiene", "description": "ensure each registered check has test or golden coverage marker", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add test/golden references for uncovered checks.", "id": "repo.check_test_coverage", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure each registered check has test or golden coverage marker"}, {"category": "hygiene", "description": "require check implementations under atlasctl/checks canonical tree", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Move check_*.py implementations under packages/atlasctl/src/atlasctl/checks/ or extend migration allowlist explicitly.", "id": "repo.checks_canonical_location", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require check implementations under atlasctl/checks canonical tree"}, {"category": "hygiene", "description": "require canonical check domain tree (repo_shape/makefiles/ops/docs/observability/artifacts)", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Create or migrate domain packages under packages/atlasctl/src/atlasctl/checks/.", "id": "repo.checks_domain_split", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require canonical check domain tree (repo_shape/makefiles/ops/docs/observability/artifacts)"}, {"category": "hygiene", "description": "enforce checks module import boundaries", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Restrict checks imports to core/contracts/reporting/adapters/checks.", "id": "repo.checks_import_lint", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce checks module import boundaries"}, {"category": "hygiene", "description": "enforce canonical cli parser/dispatch/output path", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep parser in cli/main.py, dispatch in cli/dispatch.py, and payload formatting in cli/output.py.", "id": "repo.cli_canonical_paths", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce canonical cli parser/dispatch/output path"}, {"category": "hygiene", "description": "enforce cold import time budget for atlasctl package", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Reduce top-level imports and defer heavy initialization.", "id": "repo.cold_import_budget", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce cold import time budget for atlasctl package"}, {"category": "hygiene", "description": "enforce command alias/name budget", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove duplicate alias identifiers from command surface.", "id": "repo.command_alias_budget", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce command alias/name budget"}, {"category": "hygiene", "description": "check command help/docs drift", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Regenerate docs/_generated/cli.md from current CLI surface.", "id": "repo.command_help_docs_drift", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "check command help/docs drift"}, {"category": "hygiene", "description": "enforce command module import boundaries", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Restrict command imports to core/contracts/checks/adapters/commands/cli.", "id": "repo.command_import_lint", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce command module import boundaries"}, {"category": "hygiene", "description": "ensure command metadata includes touches/tools/effect declarations", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add touches/tools/effect metadata in cli registry.", "id": "repo.command_metadata_contract", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure command metadata includes touches/tools/effect declarations"}, {"category": "hygiene", "description": "enforce command.py modules as CLI entry shims only", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Ensure command.py files include configure_* parser and run_* command entrypoints.", "id": "repo.command_module_cli_intent", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce command.py modules as CLI entry shims only"}, {"category": "hygiene", "description": "ensure command owners are documented", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Document all command owners in packages/atlasctl/docs/ownership.md.", "id": "repo.command_ownership_docs", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure command owners are documented"}, {"category": "hygiene", "description": "enforce strict command surface compatibility against commands golden", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Regenerate commands goldens intentionally via `python -m atlasctl.cli gen goldens`.", "id": "repo.command_surface_stability", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce strict command surface compatibility against commands golden"}, {"category": "hygiene", "description": "ensure each command has explicit test coverage marker", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add at least one test mentioning each command.", "id": "repo.command_test_coverage", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure each command has explicit test coverage marker"}, {"category": "hygiene", "description": "ensure atlasctl source compiles with compileall", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Fix syntax/import issues until python -m compileall passes.", "id": "repo.compileall_gate", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure atlasctl source compiles with compileall"}, {"category": "hygiene", "description": "ensure atlasctl console script entry exists and points to callable target", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Set [project.scripts] atlasctl = \"atlasctl.cli.main:main\" and ensure target is importable.", "id": "repo.console_script_entry", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure atlasctl console script entry exists and points to callable target"}, {"category": "hygiene", "description": "enforce contracts/core-contracts import boundaries", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Commands/checks should import schema contracts from atlasctl.contracts only.", "id": "repo.contract_import_boundaries", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce contracts/core-contracts import boundaries"}, {"category": "hygiene", "description": "enforce contracts namespace for schema and validation modules only", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep random non-schema logic out of atlasctl/contracts and move it to proper domains.", "id": "repo.contracts_namespace_purpose", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce contracts namespace for schema and validation modules only"}, {"category": "hygiene", "description": "enforce dead module candidates are explicitly allowlisted", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Update configs/policy/dead-modules-allowlist.json with intended exceptions.", "id": "repo.dead_module_reachability", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce dead module candidates are explicitly allowlisted"}, {"category": "hygiene", "description": "ensure dead modules analyzer runs and returns canonical payload", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep policies/dead_modules.py runnable and deterministic.", "id": "repo.dead_modules", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure dead modules analyzer runs and returns canonical payload"}, {"category": "hygiene", "description": "ensure pyproject dependency declarations match imports", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add missing dependencies or remove unused declarations.", "id": "repo.dependency_declarations", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure pyproject dependency declarations match imports"}, {"category": "hygiene", "description": "ensure dependency gate make targets exist", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Define deps-lock/deps-sync/deps-check-venv/deps-cold-start in makefiles/scripts.mk.", "id": "repo.dependency_gate_targets", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure dependency gate make targets exist"}, {"category": "hygiene", "description": "ensure each dependency has owner and justification", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add dependency ownership + justification entries in docs/deps.md.", "id": "repo.dependency_owner_justification", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure each dependency has owner and justification"}, {"category": "hygiene", "description": "ensure atlasctl deps command surface is runnable", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Wire atlasctl deps parser/runner and keep command import path valid.", "id": "repo.deps_command_surface", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure atlasctl deps command surface is runnable"}, {"category": "hygiene", "description": "ensure docs/deps.md matches chosen dependency workflow", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Update docs/deps.md and keep requirements.in/requirements.lock.txt in sync.", "id": "repo.deps_workflow_doc", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure docs/deps.md matches chosen dependency workflow"}, {"category": "hygiene", "description": "ensure budget exceptions are documented", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Document each budget exception path in packages/atlasctl/docs/architecture.md.", "id": "repo.dir_budget_exceptions_documented", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure budget exceptions are documented"}, {"category": "hygiene", "description": "ensure budget exceptions are sorted deterministically", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Sort [[tool.atlasctl.budgets.exceptions]] entries by path in pyproject.toml.", "id": "repo.dir_budget_exceptions_sorted", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure budget exceptions are sorted deterministically"}, {"category": "hygiene", "description": "enforce per-directory total LOC budget", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Move unrelated files into domain subpackages to reduce dir-level LOC density.", "id": "repo.dir_budget_loc", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce per-directory total LOC budget"}, {"category": "hygiene", "description": "enforce per-directory python module count budget", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Split high-density directories into intent-focused subpackages.", "id": "repo.dir_budget_modules", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce per-directory python module count budget"}, {"category": "hygiene", "description": "enforce per-directory python file count budget", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Split high-density directories and keep directory fan-in bounded.", "id": "repo.dir_budget_py_files", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce per-directory python file count budget"}, {"category": "hygiene", "description": "enforce per-directory shell file count budget", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Move shell scripts into approved layout/ops directories and split crowded directories.", "id": "repo.dir_budget_shell_files", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce per-directory shell file count budget"}, {"category": "hygiene", "description": "forbid critical directory file/module count drift above baseline", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Split critical directories or update configs/policy/atlasctl-dir-count-baseline.json with approval.", "id": "repo.dir_count_trend_gate", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid critical directory file/module count drift above baseline"}, {"category": "hygiene", "description": "disallow docs refs to ops generated runtime paths", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Replace generated runtime paths with canonical docs references.", "id": "repo.docs_no_ops_generated_refs", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "disallow docs refs to ops generated runtime paths"}, {"category": "hygiene", "description": "forbid duplicate contract assertions inside one test module", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Consolidate duplicate validate(schema) assertions into one test.", "id": "repo.duplicate_contract_assertions", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid duplicate contract assertions inside one test module"}, {"category": "hygiene", "description": "forbid duplicate script stem names", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Rename colliding script names.", "id": "repo.duplicate_script_names", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid duplicate script stem names"}, {"category": "hygiene", "description": "forbid direct subprocess/fs/env/network effects outside core boundaries", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Route effects through core.exec/core.process/core.fs/core.env/core.network.", "id": "repo.effect_boundaries", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid direct subprocess/fs/env/network effects outside core boundaries"}, {"category": "hygiene", "description": "enforce explicit sorted effect boundary exceptions with reasons", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep configs/policy/effect-boundary-exceptions.json sorted and justified.", "id": "repo.effect_boundary_exceptions_policy", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce explicit sorted effect boundary exceptions with reasons"}, {"category": "hygiene", "description": "ensure docs/env.md exists and lists canonical env vars", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Create docs/env.md and document canonical runtime environment variables.", "id": "repo.env_docs_present", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure docs/env.md exists and lists canonical env vars"}, {"category": "hygiene", "description": "enforce complexity heuristic budget in core/cli", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Split high-complexity control flow and extract focused helpers.", "id": "repo.file_complexity_budget", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce complexity heuristic budget in core/cli"}, {"category": "hygiene", "description": "enforce python import count budget per file", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Reduce import fan-in and use lazy imports where needed.", "id": "repo.file_import_budget", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce python import count budget per file"}, {"category": "hygiene", "description": "enforce public symbol budget per module", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Split dumping-ground modules and narrow __all__ exports.", "id": "repo.file_public_symbol_budget", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce public symbol budget per module"}, {"category": "hygiene", "description": "require intent marker for checks directories", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add README.md or check_*.py module in each checks directory.", "id": "repo.folder_intent_contract", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require intent marker for checks directories"}, {"category": "hygiene", "description": "forbid junk files at repository root", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove forbidden junk files from repository root.", "id": "repo.forbidden_root_files", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid junk files at repository root"}, {"category": "hygiene", "description": "forbid legacy top-level root names", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove forbidden top-level legacy names from repository root.", "id": "repo.forbidden_root_names", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid legacy top-level root names"}, {"category": "hygiene", "description": "forbid top-level forbidden directories", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove forbidden root directories.", "id": "repo.forbidden_top_dirs", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid top-level forbidden directories"}, {"category": "hygiene", "description": "ensure atlasctl package imports in minimal environment", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep top-level imports light and dependency-safe.", "id": "repo.import_smoke", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure atlasctl package imports in minimal environment"}, {"category": "hygiene", "description": "ensure unstable/internal commands are not exposed in public docs", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Mark internal commands stable=false and exclude them from public docs.", "id": "repo.internal_commands_not_public", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure unstable/internal commands are not exposed in public docs"}, {"category": "hygiene", "description": "forbid atlasctl.internal imports outside internal namespace", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Route shared helpers through public modules instead of atlasctl.internal.", "id": "repo.internal_import_boundaries", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid atlasctl.internal imports outside internal namespace"}, {"category": "hygiene", "description": "prefer stdlib-only internal utility modules", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Replace third-party imports in atlasctl/internal with stdlib equivalents or add a justified exception.", "id": "repo.internal_utils_stdlib_only", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "prefer stdlib-only internal utility modules"}, {"category": "hygiene", "description": "forbid conflicting JSON goldens for the same schema surface", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep one .json.golden per schema surface.", "id": "repo.json_golden_conflicts", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid conflicting JSON goldens for the same schema surface"}, {"category": "hygiene", "description": "require schema validation in JSON golden tests", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Call contracts.validate() before asserting JSON golden snapshots.", "id": "repo.json_goldens_validate_schema", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require schema validation in JSON golden tests"}, {"category": "hygiene", "description": "forbid deprecated layout registry aliases", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Use domain-specific check packages and remove deprecated checks/layout alias modules.", "id": "repo.layout_domain_alias_cleanup", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid deprecated layout registry aliases"}, {"category": "hygiene", "description": "ensure each layout check domain includes a README", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add README.md to each checks/layout/<domain>/ directory.", "id": "repo.layout_domain_readmes", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure each layout check domain includes a README"}, {"category": "hygiene", "description": "forbid legacy imports in checks/layout modules", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove atlasctl.legacy imports from layout checks.", "id": "repo.layout_no_legacy_imports", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid legacy imports in checks/layout modules"}, {"category": "hygiene", "description": "enforce no-shadow config policy", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Resolve shadow config sources reported by atlasctl/layout/no_shadow.py.", "id": "repo.layout_no_shadow", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce no-shadow config policy"}, {"category": "hygiene", "description": "require atlasctl legacy package to be absent", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Delete packages/atlasctl/src/atlasctl/legacy and migrate importers.", "id": "repo.legacy_package_absent", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require atlasctl legacy package to be absent"}, {"category": "hygiene", "description": "require zero importers of removed atlasctl legacy namespace", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove imports/references to atlasctl.legacy.", "id": "repo.legacy_zero_importers", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require zero importers of removed atlasctl legacy namespace"}, {"category": "hygiene", "description": "forbid modern modules from importing atlasctl.legacy", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Migrate callers to canonical modules under atlasctl.core/commands/checks.", "id": "repo.modern_no_legacy_imports", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid modern modules from importing atlasctl.legacy"}, {"category": "hygiene", "description": "forbid modern modules from importing atlasctl.legacy.obs", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Migrate observability imports to atlasctl.observability.", "id": "repo.modern_no_legacy_obs_imports", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid modern modules from importing atlasctl.legacy.obs"}, {"category": "hygiene", "description": "enforce module count budget per top-level atlasctl domain", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Split high-density top-level domains and relocate modules by control-plane ownership.", "id": "repo.module_budget_domains", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce module count budget per top-level atlasctl domain"}, {"category": "hygiene", "description": "enforce module size budget", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Split oversized modules into focused submodules.", "id": "repo.module_size", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce module size budget"}, {"category": "hygiene", "description": "forbid ad-hoc python files outside package boundaries", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Migrate ad-hoc python files into package modules.", "id": "repo.no_adhoc_python", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid ad-hoc python files outside package boundaries"}, {"category": "hygiene", "description": "forbid deprecated core/integration namespace", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Use top-level atlasctl.adapters for integration concerns.", "id": "repo.no_core_integration_dir", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid deprecated core/integration namespace"}, {"category": "hygiene", "description": "forbid deprecated atlasctl/check report obs directories", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove deprecated namespace directories and keep checks/reporting/observability as canonical roots.", "id": "repo.no_deprecated_namespace_dirs", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid deprecated atlasctl/check report obs directories"}, {"category": "hygiene", "description": "forbid imports from atlasctl.check/report/obs namespaces", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Use atlasctl.checks and atlasctl.reporting canonical namespaces.", "id": "repo.no_deprecated_namespaces", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid imports from atlasctl.check/report/obs namespaces"}, {"category": "hygiene", "description": "forbid direct bash script calls in docs/makefiles", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Use atlasctl commands instead of bash scripts/... invocations.", "id": "repo.no_direct_bash_invocations", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid direct bash script calls in docs/makefiles"}, {"category": "hygiene", "description": "forbid direct python script calls in docs/makefiles", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Use atlasctl command entrypoints instead of python path/to/script.py.", "id": "repo.no_direct_python_invocations", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid direct python script calls in docs/makefiles"}, {"category": "hygiene", "description": "forbid direct scripts/ or ops/ invocations in GitHub workflows", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Invoke workflows through make targets instead of direct scripts/ops paths.", "id": "repo.no_direct_script_runs", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid direct scripts/ or ops/ invocations in GitHub workflows"}, {"category": "hygiene", "description": "forbid duplicate command implementation patterns", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Pick one command implementation pattern and remove duplicate modules.", "id": "repo.no_duplicate_command_impl_patterns", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid duplicate command implementation patterns"}, {"category": "hygiene", "description": "ensure command names are unique", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Rename duplicate command/alias entries.", "id": "repo.no_duplicate_command_names", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure command names are unique"}, {"category": "hygiene", "description": "forbid empty non-legacy packages without README", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add a real module or README.md to package directories.", "id": "repo.no_empty_packages", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid empty non-legacy packages without README"}, {"category": "hygiene", "description": "forbid executable python outside package boundaries", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Move script into package module or remove executable bit.", "id": "repo.no_exec_python_outside_packages", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid executable python outside package boundaries"}, {"category": "hygiene", "description": "forbid legacy root path references in tracked text surfaces", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove forbidden legacy path references from make/docs/workflows.", "id": "repo.no_forbidden_paths", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid legacy root path references in tracked text surfaces"}, {"category": "hygiene", "description": "forbid nested package segments with same name", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Flatten nested same-name package segments (example: checks/checks).", "id": "repo.no_nested_same_name_packages", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid nested package segments with same name"}, {"category": "hygiene", "description": "forbid placeholder generated dirs", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove placeholder generated files/directories.", "id": "repo.no_ops_generated_placeholder", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid placeholder generated dirs"}, {"category": "hygiene", "description": "forbid Path.cwd usage outside core/repo_root.py", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Use ctx.repo_root or core.repo_root helpers.", "id": "repo.no_path_cwd_usage", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid Path.cwd usage outside core/repo_root.py"}, {"category": "hygiene", "description": "forbid placeholder-like module filenames in modern code", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Rename modules to intent-revealing names.", "id": "repo.no_placeholder_module_names", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid placeholder-like module filenames in modern code"}, {"category": "hygiene", "description": "forbid legacy root scripts dir", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Migrate scripts into atlasctl package commands.", "id": "repo.no_scripts_dir", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid legacy root scripts dir"}, {"category": "hygiene", "description": "ensure ops/_generated has no tracked files", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Untrack generated files and add to ignore policy.", "id": "repo.no_tracked_ops_generated", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure ops/_generated has no tracked files"}, {"category": "hygiene", "description": "forbid timestamp-like tracked paths", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove timestamped tracked files/dirs.", "id": "repo.no_tracked_timestamp_paths", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid timestamp-like tracked paths"}, {"category": "hygiene", "description": "forbid undocumented commands in public help surface", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Document command in packages/atlasctl/docs/commands/index.md or mark it internal.", "id": "repo.no_undocumented_help_commands", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid undocumented commands in public help surface"}, {"category": "hygiene", "description": "forbid wildcard imports/exports outside public surface", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Replace wildcard imports with explicit module references and __all__.", "id": "repo.no_wildcard_exports", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid wildcard imports/exports outside public surface"}, {"category": "hygiene", "description": "forbid xtask references", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove xtask references and use atlasctl workflows.", "id": "repo.no_xtask_refs", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid xtask references"}, {"category": "hygiene", "description": "enforce immutability of ops examples", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Restore example fixtures to committed canonical content.", "id": "repo.ops_examples_immutable", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce immutability of ops examples"}, {"category": "hygiene", "description": "ensure required pyproject optional-dependency groups exist and are non-empty", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add required [project.optional-dependencies] groups with entries: dev/ci/test/ops/docs.", "id": "repo.optional_dependency_groups", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure required pyproject optional-dependency groups exist and are non-empty"}, {"category": "hygiene", "description": "forbid optional dependency usage without explicit allowlist gate", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Move dependency to base deps or add justified exception in configs/policy/dependency-exceptions.json.", "id": "repo.optional_dependency_usage_gates", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid optional dependency usage without explicit allowlist gate"}, {"category": "hygiene", "description": "require each non-legacy package to contain a module or README", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add module implementation or README.md to document empty package.", "id": "repo.package_has_module_or_readme", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require each non-legacy package to contain a module or README"}, {"category": "hygiene", "description": "enforce maximum atlasctl package nesting depth", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Flatten deep package hierarchies under packages/atlasctl/src/atlasctl.", "id": "repo.package_max_depth", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce maximum atlasctl package nesting depth"}, {"category": "hygiene", "description": "require canonical PUBLIC_API.md documentation file", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add packages/atlasctl/docs/PUBLIC_API.md and keep API docs there.", "id": "repo.public_api_doc_exists", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require canonical PUBLIC_API.md documentation file"}, {"category": "hygiene", "description": "enforce docs/PUBLIC_API.md coverage for __all__ exports", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Document exported symbols in docs/PUBLIC_API.md or remove them from __all__.", "id": "repo.public_api_exports", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce docs/PUBLIC_API.md coverage for __all__ exports"}, {"category": "hygiene", "description": "ensure public commands are listed in docs/commands/index.md", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add missing public commands to packages/atlasctl/docs/commands/index.md.", "id": "repo.public_commands_docs_index", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure public commands are listed in docs/commands/index.md"}, {"category": "hygiene", "description": "forbid dead/unknown pyproject tool keys", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove unknown [tool.*] sections or document and allow them explicitly.", "id": "repo.pyproject_minimalism", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid dead/unknown pyproject tool keys"}, {"category": "hygiene", "description": "forbid duplicate tool config files beside pyproject", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Remove duplicated tool config files and keep pyproject as SSOT.", "id": "repo.pyproject_no_duplicate_tool_config", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid duplicate tool config files beside pyproject"}, {"category": "hygiene", "description": "ensure pyproject contains required project and tool config blocks", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add required [project]/[tool.*] blocks to packages/atlasctl/pyproject.toml.", "id": "repo.pyproject_required_blocks", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure pyproject contains required project and tool config blocks"}, {"category": "hygiene", "description": "ensure python -m atlasctl --help works", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Ensure atlasctl package entrypoint remains runnable with python -m atlasctl.", "id": "repo.python_module_help", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure python -m atlasctl --help works"}, {"category": "hygiene", "description": "enforce pyproject requires-python and CI python version alignment", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Pin requires-python to >=3.11 and set actions/setup-python python-version: 3.11 in CI.", "id": "repo.python_requires_version_and_ci", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce pyproject requires-python and CI python version alignment"}, {"category": "hygiene", "description": "enforce package root minimalism and src no-symlink target shape", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep package-root items minimal and remove symlinks from src tree.", "id": "repo.refgrade_target_shape", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce package root minimalism and src no-symlink target shape"}, {"category": "hygiene", "description": "ensure only route-B requirements artifacts exist", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep only requirements.in and requirements.lock.txt in package root for route-B workflow.", "id": "repo.requirements_artifact_policy", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure only route-B requirements artifacts exist"}, {"category": "hygiene", "description": "ensure requirements files match pyproject dev dependency declarations", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Regenerate requirements.lock.txt from requirements.in and keep pyproject optional-deps dev aligned.", "id": "repo.requirements_sync", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure requirements files match pyproject dev dependency declarations"}, {"category": "hygiene", "description": "verify deterministic root output across two make root runs", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Stabilize generated root outputs so consecutive runs are identical.", "id": "repo.root_determinism", "owners": [], "severity": "error", "slow": true, "tags": ["policies", "refgrade", "refgrade_required", "repo", "slow"], "title": "verify deterministic root output across two make root runs"}, {"category": "hygiene", "description": "enforce repository root shape contract from root_whitelist.json", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Align root entries with checks/layout/root_whitelist.json.", "id": "repo.root_shape", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce repository root shape contract from root_whitelist.json"}, {"category": "hygiene", "description": "ensure RunContext is built only in core/context.py", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Use RunContext.from_args and avoid constructing context-like objects elsewhere.", "id": "repo.runcontext_single_builder", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure RunContext is built only in core/context.py"}, {"category": "hygiene", "description": "validate script help contract coverage", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add --help contract output to required scripts.", "id": "repo.script_help_coverage", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "validate script help contract coverage"}, {"category": "hygiene", "description": "validate script ownership coverage", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Update ownership metadata for uncovered scripts.", "id": "repo.script_ownership_coverage", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "validate script ownership coverage"}, {"category": "hygiene", "description": "require shell directory README and policy docs", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add README.md and POLICY.md under checks/layout/shell.", "id": "repo.shell_docs_present", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require shell directory README and policy docs"}, {"category": "hygiene", "description": "forbid direct shell subprocess invocations outside core.exec", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Route shell invocations through core.exec wrapper helpers.", "id": "repo.shell_invocation_boundary", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid direct shell subprocess invocations outside core.exec"}, {"category": "hygiene", "description": "forbid shell scripts outside approved directories", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep shell scripts under checks/layout or ops only.", "id": "repo.shell_location_policy", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid shell scripts outside approved directories"}, {"category": "hygiene", "description": "forbid direct python invocation in shell scripts", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Call atlasctl entrypoints instead of python commands in shell scripts.", "id": "repo.shell_no_direct_python", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid direct python invocation in shell scripts"}, {"category": "hygiene", "description": "forbid direct curl/wget usage in shell scripts", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Use atlasctl-managed fetch entrypoints or explicit allow annotation.", "id": "repo.shell_no_network_fetch", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid direct curl/wget usage in shell scripts"}, {"category": "hygiene", "description": "forbid direct file writes in layout shell checks", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep layout shell checks read-only and route outputs through stdout/stderr only.", "id": "repo.shell_readonly_checks", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid direct file writes in layout shell checks"}, {"category": "hygiene", "description": "cap total shell script count in repository", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Port shell scripts to Python modules and delete duplicates.", "id": "repo.shell_script_budget", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "cap total shell script count in repository"}, {"category": "hygiene", "description": "require shell header and strict mode", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add #!/usr/bin/env bash and set -euo pipefail to all shell scripts.", "id": "repo.shell_strict_mode", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require shell header and strict mode"}, {"category": "hygiene", "description": "enforce a single canonical registry.py module", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep only packages/atlasctl/src/atlasctl/checks/registry.py as registry.py.", "id": "repo.single_registry_module", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce a single canonical registry.py module"}, {"category": "hygiene", "description": "enforce a single canonical runner.py module", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep only packages/atlasctl/src/atlasctl/checks/runner.py as runner.py.", "id": "repo.single_runner_module", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce a single canonical runner.py module"}, {"category": "hygiene", "description": "forbid breaking changes in stable command contracts", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Avoid breaking stable command metadata or intentionally refresh commands goldens.", "id": "repo.stable_command_no_breaking_changes", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid breaking changes in stable command contracts"}, {"category": "hygiene", "description": "restrict subprocess imports to core execution boundary", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Use core.exec/core.process for subprocess calls.", "id": "repo.subprocess_boundary", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "restrict subprocess imports to core execution boundary"}, {"category": "hygiene", "description": "validate suite inventory coverage and refgrade-required tag policy", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Assign checks to suites and ensure refgrade complete suites include all refgrade_required checks.", "id": "repo.suite_inventory_policy", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "validate suite inventory coverage and refgrade-required tag policy"}, {"category": "hygiene", "description": "enforce check-suite-coverage marker file policy", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep check-suite-coverage.markers.txt sorted, unique, and only registered check ids.", "id": "repo.suite_marker_rules", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce check-suite-coverage marker file policy"}, {"category": "hygiene", "description": "forbid nondeterministic test patterns without explicit marker", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Replace unstable time/random/env usage or annotate with determinism-allow: reason.", "id": "repo.test_determinism_patterns", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid nondeterministic test patterns without explicit marker"}, {"category": "hygiene", "description": "forbid duplicated golden coverage across multiple tests", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Keep one canonical test per golden surface and remove duplicate assertions.", "id": "repo.test_no_duplicated_coverage", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid duplicated golden coverage across multiple tests"}, {"category": "hygiene", "description": "forbid test network usage unless marked", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add @pytest.mark.network or '# network-test: allowed' near intentional network tests.", "id": "repo.test_no_unmarked_network", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid test network usage unless marked"}, {"category": "hygiene", "description": "ensure tests declare ownership tags or live in domain directories", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add '# test-domain: <domain>' header to top-level tests.", "id": "repo.test_ownership_tags", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "ensure tests declare ownership tags or live in domain directories"}, {"category": "hygiene", "description": "forbid skipped tests without justification and expiry markers", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add skip-justification and skip-expires markers near skip usage.", "id": "repo.test_skip_justification", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid skipped tests without justification and expiry markers"}, {"category": "hygiene", "description": "enforce test taxonomy and placement invariants", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Place tests under domain folders and align declared # test-taxonomy with placement.", "id": "repo.test_taxonomy_layout", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce test taxonomy and placement invariants"}, {"category": "hygiene", "description": "forbid writes outside temp/artifacts isolation sandbox in tests", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Write via tmp_path/tempfile or artifacts/isolate run directories only.", "id": "repo.test_write_sandbox", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid writes outside temp/artifacts isolation sandbox in tests"}, {"category": "hygiene", "description": "forbid duplicate test function names across test modules", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Rename duplicated test_* functions to avoid conflicting expectations.", "id": "repo.tests_no_duplicate_expectations", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "forbid duplicate test function names across test modules"}, {"category": "hygiene", "description": "require top-level atlasctl packages to map to control-plane groups", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Map new top-level packages to docs/configs/dev/ops/policies/internal in package_shape policy.", "id": "repo.top_level_package_group_mapping", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "require top-level atlasctl packages to map to control-plane groups"}, {"category": "hygiene", "description": "enforce minimum type coverage in core/contracts", "domain": "repo", "effects": [], "external_tools": [], "fix_hint": "Add function annotations in core/contracts until the threshold is met.", "id": "repo.type_coverage", "owners": [], "severity": "error", "slow": false, "tags": ["fast", "policies", "refgrade", "refgrade_required", "repo"], "title": "enforce minimum type coverage in core/contracts"}], "schema_name": "atlasctl.check-list.v1", "schema_version": 1, "status": "ok", "tool": "atlasctl"}
