{"checks": [{"category": "contract", "description": "validate atlasctl CLI contract surface", "domain": "contracts", "external_tools": [], "fix_hint": "Update CLI contract docs/tests to match behavior.", "id": "contracts.atlasctl_cli", "severity": "error", "slow": false}, {"category": "contract", "description": "validate repository layout contract", "domain": "contracts", "external_tools": ["bash"], "fix_hint": "Fix layout violations reported by the contract checker.", "id": "contracts.layout", "severity": "error", "slow": true}, {"category": "contract", "description": "validate schema catalog for duplicate names and missing files", "domain": "contracts", "external_tools": [], "fix_hint": "Fix catalog duplicates and missing schema files.", "id": "contracts.schema_catalog", "severity": "error", "slow": false}, {"category": "contract", "description": "validate sample payloads against declared schemas", "domain": "contracts", "external_tools": [], "fix_hint": "Update sample payloads or schema definitions.", "id": "contracts.schema_samples", "severity": "error", "slow": false}, {"category": "hygiene", "description": "enforce docker image size budget", "domain": "docker", "external_tools": [], "fix_hint": "Reduce image size or adjust documented budget.", "id": "docker.image_size", "severity": "error", "slow": false}, {"category": "hygiene", "description": "validate docker layout contracts", "domain": "docker", "external_tools": [], "fix_hint": "Align docker files to layout contract.", "id": "docker.layout", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid floating latest image tags", "domain": "docker", "external_tools": [], "fix_hint": "Pin image tags to immutable versions.", "id": "docker.no_latest_tags", "severity": "error", "slow": false}, {"category": "hygiene", "description": "validate docker policy contracts", "domain": "docker", "external_tools": [], "fix_hint": "Resolve policy violations in docker contracts.", "id": "docker.policy", "severity": "error", "slow": false}, {"category": "hygiene", "description": "validate docs/index.md covers all docs files", "domain": "docs", "external_tools": [], "fix_hint": "Add missing docs entries to packages/atlasctl/docs/index.md.", "id": "docs.index_complete", "severity": "error", "slow": false}, {"category": "hygiene", "description": "validate docs markdown link targets exist", "domain": "docs", "external_tools": [], "fix_hint": "Fix broken relative links in packages/atlasctl/docs.", "id": "docs.links_exist", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid runtime ops generated path references in docs", "domain": "docs", "external_tools": [], "fix_hint": "Use stable docs or generated index links.", "id": "docs.no_ops_generated_run_path_refs", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid scripts/ path references in docs", "domain": "docs", "external_tools": [], "fix_hint": "Update docs references to atlasctl commands.", "id": "docs.no_scripts_path_refs", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid markdown files at package root except README", "domain": "docs", "external_tools": [], "fix_hint": "Move package root markdown docs into packages/atlasctl/docs/.", "id": "docs.package_root_markdown", "severity": "error", "slow": false}, {"category": "contract", "description": "ensure package license file exists and is MIT", "domain": "license", "external_tools": [], "fix_hint": "Create packages/atlasctl/LICENSE with canonical MIT text and copyright.", "id": "license.file_mit", "severity": "error", "slow": false}, {"category": "policy", "description": "enforce SPDX policy for python source headers", "domain": "license", "external_tools": [], "fix_hint": "If SPDX header is present, set it to SPDX-License-Identifier: MIT.", "id": "license.spdx_policy", "severity": "error", "slow": false}, {"category": "policy", "description": "ensure package docs contain only MIT-compatible license statements", "domain": "license", "external_tools": [], "fix_hint": "Update README/docs license references to MIT and remove conflicting statements.", "id": "license.statements_consistent", "severity": "error", "slow": false}, {"category": "hygiene", "description": "enforce allowed direct recipe commands", "domain": "make", "external_tools": [], "fix_hint": "Use allowed command wrappers in make targets.", "id": "make.command_allowlist", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid direct forbidden paths in make recipes", "domain": "make", "external_tools": [], "fix_hint": "Route commands through allowed wrappers.", "id": "make.forbidden_paths", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure deterministic make help output", "domain": "make", "external_tools": [], "fix_hint": "Regenerate and normalize make help output.", "id": "make.help_determinism", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid direct python script execution in make recipes", "domain": "make", "external_tools": [], "fix_hint": "Replace `python3 path/to/script.py` with atlasctl commands.", "id": "make.no_direct_python", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid scripts/ references in make recipes", "domain": "make", "external_tools": [], "fix_hint": "Replace scripts/ invocations with atlasctl commands.", "id": "make.scripts_refs", "severity": "error", "slow": false}, {"category": "hygiene", "description": "validate deterministic committed generated assets", "domain": "ops", "external_tools": [], "fix_hint": "Regenerate committed outputs deterministically.", "id": "ops.committed_generated_hygiene", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid tracked files in generated ops dirs", "domain": "ops", "external_tools": [], "fix_hint": "Untrack generated ops files.", "id": "ops.no_tracked_generated", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid tracked timestamped paths", "domain": "ops", "external_tools": [], "fix_hint": "Remove timestamped tracked paths.", "id": "ops.no_tracked_timestamps", "severity": "error", "slow": false}, {"category": "contract", "description": "validate python lock format", "domain": "python", "external_tools": [], "fix_hint": "Regenerate and normalize python lock entries.", "id": "python.lock", "severity": "error", "slow": false}, {"category": "policy", "description": "fail on expired python migration exceptions", "domain": "python", "external_tools": [], "fix_hint": "Update or remove expired migration exceptions.", "id": "python.migration_exceptions_expiry", "severity": "error", "slow": false}, {"category": "hygiene", "description": "restrict direct argparse parser construction to canonical parser modules", "domain": "repo", "external_tools": [], "fix_hint": "Move parser construction into cli/parser.py or commands/*/parser.py.", "id": "repo.argparse_policy", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure repo check modules are imported and reachable via registry", "domain": "repo", "external_tools": [], "fix_hint": "Import new repo check modules in checks/repo/__init__.py.", "id": "repo.check_module_reachability", "severity": "error", "slow": false}, {"category": "hygiene", "description": "enforce cold import time budget for atlasctl package", "domain": "repo", "external_tools": [], "fix_hint": "Reduce top-level imports and defer heavy initialization.", "id": "repo.cold_import_budget", "severity": "error", "slow": false}, {"category": "hygiene", "description": "check command help/docs drift", "domain": "repo", "external_tools": [], "fix_hint": "Regenerate docs/_generated/cli.md from current CLI surface.", "id": "repo.command_help_docs_drift", "severity": "error", "slow": false}, {"category": "hygiene", "description": "enforce command module import boundaries", "domain": "repo", "external_tools": [], "fix_hint": "Restrict command imports to core/contracts/checks/adapters/commands/cli.", "id": "repo.command_import_lint", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure command metadata includes touches/tools", "domain": "repo", "external_tools": [], "fix_hint": "Add touches/tools metadata in cli registry.", "id": "repo.command_metadata_contract", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure atlasctl source compiles with compileall", "domain": "repo", "external_tools": [], "fix_hint": "Fix syntax/import issues until python -m compileall passes.", "id": "repo.compileall_gate", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure atlasctl console script entry exists and points to callable target", "domain": "repo", "external_tools": [], "fix_hint": "Set [project.scripts] atlasctl = \"atlasctl.cli.main:main\" and ensure target is importable.", "id": "repo.console_script_entry", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure pyproject dependency declarations match imports", "domain": "repo", "external_tools": [], "fix_hint": "Add missing dependencies or remove unused declarations.", "id": "repo.dependency_declarations", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure dependency gate make targets exist", "domain": "repo", "external_tools": [], "fix_hint": "Define deps-lock/deps-sync/deps-check-venv/deps-cold-start in makefiles/scripts.mk.", "id": "repo.dependency_gate_targets", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure each dependency has owner and justification", "domain": "repo", "external_tools": [], "fix_hint": "Add dependency ownership + justification entries in docs/deps.md.", "id": "repo.dependency_owner_justification", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure atlasctl deps command surface is runnable", "domain": "repo", "external_tools": [], "fix_hint": "Wire atlasctl deps parser/runner and keep command import path valid.", "id": "repo.deps_command_surface", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure docs/deps.md matches chosen dependency workflow", "domain": "repo", "external_tools": [], "fix_hint": "Update docs/deps.md and keep requirements.in/requirements.lock.txt in sync.", "id": "repo.deps_workflow_doc", "severity": "error", "slow": false}, {"category": "hygiene", "description": "disallow docs refs to ops generated runtime paths", "domain": "repo", "external_tools": [], "fix_hint": "Replace generated runtime paths with canonical docs references.", "id": "repo.docs_no_ops_generated_refs", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid duplicate script stem names", "domain": "repo", "external_tools": [], "fix_hint": "Rename colliding script names.", "id": "repo.duplicate_script_names", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure docs/env.md exists and lists canonical env vars", "domain": "repo", "external_tools": [], "fix_hint": "Create docs/env.md and document canonical runtime environment variables.", "id": "repo.env_docs_present", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid top-level forbidden directories", "domain": "repo", "external_tools": [], "fix_hint": "Remove forbidden root directories.", "id": "repo.forbidden_top_dirs", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure atlasctl package imports in minimal environment", "domain": "repo", "external_tools": [], "fix_hint": "Keep top-level imports light and dependency-safe.", "id": "repo.import_smoke", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid atlasctl.internal imports outside internal namespace", "domain": "repo", "external_tools": [], "fix_hint": "Route shared helpers through public modules instead of atlasctl.internal.", "id": "repo.internal_import_boundaries", "severity": "error", "slow": false}, {"category": "hygiene", "description": "quarantine legacy package growth", "domain": "repo", "external_tools": [], "fix_hint": "Do not add new modules under atlasctl/legacy.", "id": "repo.legacy_quarantine", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid modern modules from importing atlasctl.legacy", "domain": "repo", "external_tools": [], "fix_hint": "Migrate callers to canonical modules under atlasctl.core/commands/checks.", "id": "repo.modern_no_legacy_imports", "severity": "error", "slow": false}, {"category": "hygiene", "description": "enforce module size budget", "domain": "repo", "external_tools": [], "fix_hint": "Split oversized modules into focused submodules.", "id": "repo.module_size", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid ad-hoc python files outside package boundaries", "domain": "repo", "external_tools": [], "fix_hint": "Migrate ad-hoc python files into package modules.", "id": "repo.no_adhoc_python", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid direct bash script calls in docs/makefiles", "domain": "repo", "external_tools": [], "fix_hint": "Use atlasctl commands instead of bash scripts/... invocations.", "id": "repo.no_direct_bash_invocations", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid direct python script calls in docs/makefiles", "domain": "repo", "external_tools": [], "fix_hint": "Use atlasctl command entrypoints instead of python path/to/script.py.", "id": "repo.no_direct_python_invocations", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure command names are unique", "domain": "repo", "external_tools": [], "fix_hint": "Rename duplicate command/alias entries.", "id": "repo.no_duplicate_command_names", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid executable python outside package boundaries", "domain": "repo", "external_tools": [], "fix_hint": "Move script into package module or remove executable bit.", "id": "repo.no_exec_python_outside_packages", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid placeholder generated dirs", "domain": "repo", "external_tools": [], "fix_hint": "Remove placeholder generated files/directories.", "id": "repo.no_ops_generated_placeholder", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid Path.cwd usage outside core/repo_root.py", "domain": "repo", "external_tools": [], "fix_hint": "Use ctx.repo_root or core.repo_root helpers.", "id": "repo.no_path_cwd_usage", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid legacy root scripts dir", "domain": "repo", "external_tools": [], "fix_hint": "Migrate scripts into atlasctl package commands.", "id": "repo.no_scripts_dir", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure ops/_generated has no tracked files", "domain": "repo", "external_tools": [], "fix_hint": "Untrack generated files and add to ignore policy.", "id": "repo.no_tracked_ops_generated", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid timestamp-like tracked paths", "domain": "repo", "external_tools": [], "fix_hint": "Remove timestamped tracked files/dirs.", "id": "repo.no_tracked_timestamp_paths", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid xtask references", "domain": "repo", "external_tools": [], "fix_hint": "Remove xtask references and use atlasctl workflows.", "id": "repo.no_xtask_refs", "severity": "error", "slow": false}, {"category": "hygiene", "description": "enforce immutability of ops examples", "domain": "repo", "external_tools": [], "fix_hint": "Restore example fixtures to committed canonical content.", "id": "repo.ops_examples_immutable", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure required pyproject optional-dependency groups exist", "domain": "repo", "external_tools": [], "fix_hint": "Add required [project.optional-dependencies] groups: dev/test/ops/docs.", "id": "repo.optional_dependency_groups", "severity": "error", "slow": false}, {"category": "hygiene", "description": "enforce docs/public-api.md coverage for __all__ exports", "domain": "repo", "external_tools": [], "fix_hint": "Document exported symbols in docs/public-api.md or remove them from __all__.", "id": "repo.public_api_exports", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid dead/unknown pyproject tool keys", "domain": "repo", "external_tools": [], "fix_hint": "Remove unknown [tool.*] sections or document and allow them explicitly.", "id": "repo.pyproject_minimalism", "severity": "error", "slow": false}, {"category": "hygiene", "description": "forbid duplicate tool config files beside pyproject", "domain": "repo", "external_tools": [], "fix_hint": "Remove duplicated tool config files and keep pyproject as SSOT.", "id": "repo.pyproject_no_duplicate_tool_config", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure pyproject contains required project and tool config blocks", "domain": "repo", "external_tools": [], "fix_hint": "Add required [project]/[tool.*] blocks to packages/atlasctl/pyproject.toml.", "id": "repo.pyproject_required_blocks", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure python -m atlasctl --help works", "domain": "repo", "external_tools": [], "fix_hint": "Ensure atlasctl package entrypoint remains runnable with python -m atlasctl.", "id": "repo.python_module_help", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure only route-B requirements artifacts exist", "domain": "repo", "external_tools": [], "fix_hint": "Keep only requirements.in and requirements.lock.txt in package root for route-B workflow.", "id": "repo.requirements_artifact_policy", "severity": "error", "slow": false}, {"category": "hygiene", "description": "ensure requirements files match pyproject dev dependency declarations", "domain": "repo", "external_tools": [], "fix_hint": "Regenerate requirements.lock.txt from requirements.in and keep pyproject optional-deps dev aligned.", "id": "repo.requirements_sync", "severity": "error", "slow": false}, {"category": "hygiene", "description": "validate script help contract coverage", "domain": "repo", "external_tools": [], "fix_hint": "Add --help contract output to required scripts.", "id": "repo.script_help_coverage", "severity": "error", "slow": false}, {"category": "hygiene", "description": "validate script ownership coverage", "domain": "repo", "external_tools": [], "fix_hint": "Update ownership metadata for uncovered scripts.", "id": "repo.script_ownership_coverage", "severity": "error", "slow": false}, {"category": "hygiene", "description": "enforce minimum type coverage in core/contracts", "domain": "repo", "external_tools": [], "fix_hint": "Add function annotations in core/contracts until the threshold is met.", "id": "repo.type_coverage", "severity": "error", "slow": false}], "schema_version": 1, "status": "ok", "tool": "atlasctl"}
