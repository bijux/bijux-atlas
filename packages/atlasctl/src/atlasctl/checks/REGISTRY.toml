# This file is the SSOT for atlasctl checks. Keep entries sorted by `id`.
# Regenerate with: ./bin/atlasctl gen checks-registry

schema = "atlasctl.checks-registry.v1"

[[checks]]
id = "checks_checks_all_checks_declare_effects"
domain = "checks"
area = "all"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_all_checks_declare_effects"
description = "require every check to declare effects"
severity = "error"
category = "check"
intent = "require every check to declare effects"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Declare effect metadata for every check definition."
legacy_id = "checks.all_checks_declare_effects"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_all_checks_have_owner"
domain = "checks"
area = "all"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_all_checks_have_owner"
description = "require every check to declare at least one owner"
severity = "error"
category = "check"
intent = "require every check to declare at least one owner"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Populate owners for every check definition."
legacy_id = "checks.all_checks_have_owner"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_all_checks_have_tags"
domain = "checks"
area = "all"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_all_checks_have_tags"
description = "require every check to declare tags"
severity = "error"
category = "check"
intent = "require every check to declare tags"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Declare at least one policy tag for every check definition."
legacy_id = "checks.all_checks_have_tags"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_commands_no_domains_import"
domain = "checks"
area = "commands"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_commands_no_domains_import"
description = "forbid command modules from importing checks domain modules directly"
severity = "error"
category = "check"
intent = "forbid command modules from importing checks domain modules directly"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use checks.registry APIs from command code; do not import checks.domains modules directly."
legacy_id = "checks.commands_no_domains_import"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_count_budget"
domain = "checks"
area = "count"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_count_budget"
description = "enforce checks-count ratchet budget from configs/policy/checks-count-budget.json"
severity = "error"
category = "check"
intent = "enforce checks-count ratchet budget from configs/policy/checks-count-budget.json"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce checks count or intentionally raise budget in configs/policy/checks-count-budget.json."
legacy_id = "checks.count_budget"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_docs_index_complete"
domain = "checks"
area = "docs"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_docs_index_complete"
description = "require checks docs index to include canonical check ids"
severity = "error"
category = "check"
intent = "require checks docs index to include canonical check ids"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate/update packages/atlasctl/docs/checks/index.md with full canonical inventory."
legacy_id = "checks.docs_index_complete"
groups = ["checks", "docs", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_domains_contracts_no_nested_dirs"
domain = "checks"
area = "domains"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_domains_contracts_no_nested_dirs"
description = "forbid nested directories under canonical domain contract modules"
severity = "error"
category = "check"
intent = "forbid nested directories under canonical domain contract modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep domain contracts flat: avoid nested directories under checks/domains/ops/contracts and checks/domains/policies/make."
legacy_id = "checks.domains_contracts_no_nested_dirs"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_domains_module_budget"
domain = "checks"
area = "domains"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_checks_domains_module_budget"
description = "enforce checks domains module budget"
severity = "error"
category = "check"
intent = "enforce checks domains module budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep checks domain module count within budget or adjust policy budget intentionally."
legacy_id = "checks.domains_module_budget"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_evidence_not_tracked"
domain = "checks"
area = "evidence"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_checks_evidence_not_tracked"
description = "forbid tracked evidence outputs under artifacts/atlasctl/checks"
severity = "error"
category = "check"
intent = "forbid tracked evidence outputs under artifacts/atlasctl/checks"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove tracked evidence files under artifacts/atlasctl/checks and keep them runtime-only."
legacy_id = "checks.evidence_not_tracked"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_forbidden_imports"
domain = "checks"
area = "forbidden"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_checks_forbidden_imports"
description = "forbid checks imports from ops test/fixture surfaces"
severity = "error"
category = "check"
intent = "forbid checks imports from ops test/fixture surfaces"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove checks imports from test/fixture surfaces and keep checks dependent on runtime contracts only."
legacy_id = "checks.forbidden_imports"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_generated_no_timestamp_dirs"
domain = "checks"
area = "generated"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.internal"
callable = "check_no_generated_timestamp_dirs"
description = "forbid timestamp-like directory names under generated roots"
severity = "error"
category = "check"
intent = "forbid timestamp-like directory names under generated roots"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use deterministic, stable generated directory names without timestamps."
legacy_id = "checks.generated_no_timestamp_dirs"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_import_cycles"
domain = "checks"
area = "import"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_checks_import_cycles"
description = "forbid import cycles across atlasctl checks modules"
severity = "error"
category = "check"
intent = "forbid import cycles across atlasctl checks modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Break circular imports across atlasctl checks modules by extracting shared contracts/tools."
legacy_id = "checks.import_cycles"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_internal_checks_root_budget"
domain = "checks"
area = "internal"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_internal_checks_root_budget"
description = "enforce checks package root entry budget"
severity = "error"
category = "check"
intent = "enforce checks package root entry budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce checks package root entries to stay within budget."
legacy_id = "checks.internal_checks_root_budget"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_internal_checks_tree_policy"
domain = "checks"
area = "internal"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_internal_checks_tree_policy"
description = "enforce canonical checks tree and forbid legacy layout/repo/registry package trees"
severity = "error"
category = "check"
intent = "enforce canonical checks tree and forbid legacy layout/repo/registry package trees"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep only canonical checks tree and remove legacy checks/layout, checks/repo, and checks/registry package directories."
legacy_id = "checks.internal_checks_tree_policy"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_internal_domains_flat_modules_only"
domain = "checks"
area = "internal"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_internal_domains_flat_modules_only"
description = "enforce flat modules under checks/domains"
severity = "error"
category = "check"
intent = "enforce flat modules under checks/domains"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Flatten nested checks/domains packages into top-level domain modules."
legacy_id = "checks.internal_domains_flat_modules_only"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_internal_no_adapters_usage"
domain = "checks"
area = "internal"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_internal_no_adapters_usage"
description = "forbid adapter compatibility usage outside checks/adapters.py"
severity = "error"
category = "check"
intent = "forbid adapter compatibility usage outside checks/adapters.py"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove compatibility adapter imports from runtime checks code."
legacy_id = "checks.internal_no_adapters_usage"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_internal_no_duplicate_engines"
domain = "checks"
area = "internal"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_internal_no_duplicate_engines"
description = "enforce single canonical checks engine modules"
severity = "error"
category = "check"
intent = "enforce single canonical checks engine modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep only one canonical checks runner/policy/report/selectors module."
legacy_id = "checks.internal_no_duplicate_engines"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_internal_no_generated_registry_as_input"
domain = "checks"
area = "internal"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_internal_no_generated_registry_as_input"
description = "forbid runtime reads of REGISTRY.generated.json"
severity = "error"
category = "check"
intent = "forbid runtime reads of REGISTRY.generated.json"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use python registry APIs at runtime and keep generated registry json output-only."
legacy_id = "checks.internal_no_generated_registry_as_input"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_internal_no_registry_toml_reads"
domain = "checks"
area = "internal"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_internal_no_registry_toml_reads"
description = "forbid runtime reads of REGISTRY.toml"
severity = "error"
category = "check"
intent = "forbid runtime reads of REGISTRY.toml"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use python registry APIs at runtime and keep TOML reads generation-only."
legacy_id = "checks.internal_no_registry_toml_reads"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_legacy_directories_absent"
domain = "checks"
area = "legacy"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_legacy_check_directories_absent"
description = "require legacy checks/layout and checks/repo directories to be removed"
severity = "error"
category = "check"
intent = "require legacy checks/layout and checks/repo directories to be removed"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Complete migration and delete checks/layout and checks/repo directories."
legacy_id = "checks.legacy_directories_absent"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_module_loc_budget"
domain = "checks"
area = "module"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.internal"
callable = "check_checks_module_loc_budget"
description = "enforce checks module loc budget"
severity = "error"
category = "check"
intent = "enforce checks module loc budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split oversized checks modules into intent-focused modules."
legacy_id = "checks.module_loc_budget"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_network_effect_declared"
domain = "checks"
area = "network"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.internal"
callable = "check_no_network_usage_without_declared_effect"
description = "require network usage in check modules to declare network effect"
severity = "error"
category = "check"
intent = "require network usage in check modules to declare network effect"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add network effect declaration for checks that call network client libraries."
legacy_id = "checks.network_effect_declared"
groups = ["checks", "fast", "network", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_no_checks_outside_domains_tools"
domain = "checks"
area = "no"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_no_checks_outside_domains_tools"
description = "require check implementations to live under checks/domains or checks/tools"
severity = "error"
category = "check"
intent = "require check implementations to live under checks/domains or checks/tools"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move check implementation modules under checks/domains or checks/tools and update registry callables."
legacy_id = "checks.no_checks_outside_domains_tools"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_no_commands_import"
domain = "checks"
area = "no"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_checks_no_commands_import"
description = "forbid checks modules from importing command modules"
severity = "error"
category = "check"
intent = "forbid checks modules from importing command modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep checks implementation independent from command layer imports."
legacy_id = "checks.checks_no_commands_import"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_no_raw_string_check_id_usage"
domain = "checks"
area = "no"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_no_raw_string_check_id_usage"
description = "forbid raw string check_id/domain annotations outside model module"
severity = "error"
category = "check"
intent = "forbid raw string check_id/domain annotations outside model module"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use CheckId and DomainId wrapper types instead of raw str annotations."
legacy_id = "checks.no_raw_string_check_id_usage"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_owners_ssot"
domain = "checks"
area = "owners"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_owners_ssot"
description = "require every check entry to have an owner in SSOT registry"
severity = "error"
category = "check"
intent = "require every check entry to have an owner in SSOT registry"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Set owners for every check in REGISTRY.toml."
legacy_id = "checks.owners_ssot"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_all_checks_have_canonical_id"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_registry_all_checks_have_canonical_id"
description = "require every registered check to expose a canonical checks_* id"
severity = "error"
category = "check"
intent = "require every registered check to expose a canonical checks_* id"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update REGISTRY.toml ids to checks_<domain>_<area>_<name>."
legacy_id = "checks.registry_all_checks_have_canonical_id"
groups = ["checks", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_cache_scope"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_scattered_registry_caches"
description = "forbid lru cache usage outside registry index module"
severity = "error"
category = "check"
intent = "forbid lru cache usage outside registry index module"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Scope caches to registry/catalog index and remove scattered cache decorators."
legacy_id = "checks.registry_cache_scope"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_canonical_id_matches_module_path"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.domains.internal"
callable = "check_registry_canonical_id_matches_module_path"
description = "require canonical id domain/area segments to match implementation module path"
severity = "error"
category = "check"
intent = "require canonical id domain/area segments to match implementation module path"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Align check module paths with canonical check id segments."
legacy_id = "checks.registry_canonical_id_matches_module_path"
groups = ["checks", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_change_docs_gate"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_registry_change_requires_docs_update"
description = "require docs update when checks registry changes"
severity = "error"
category = "check"
intent = "require docs update when checks registry changes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update docs/checks/registry.md when REGISTRY.toml changes."
legacy_id = "checks.registry_change_docs_gate"
groups = ["checks", "ci", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_change_goldens_gate"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_registry_change_requires_golden_update"
description = "require checks list/tree/owners goldens update when registry changes"
severity = "error"
category = "check"
intent = "require checks list/tree/owners goldens update when registry changes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Refresh check list/tree/owners goldens when REGISTRY.toml changes."
legacy_id = "checks.registry_change_goldens_gate"
groups = ["checks", "ci", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_change_owners_gate"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_registry_change_requires_owner_update"
description = "require ownership metadata update when checks registry changes"
severity = "error"
category = "check"
intent = "require ownership metadata update when checks registry changes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update configs/make/ownership.json when REGISTRY.toml changes."
legacy_id = "checks.registry_change_owners_gate"
groups = ["checks", "ci", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_docs_link_required"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_registry_docs_link_required"
description = "require docs_link metadata for every registry check entry"
severity = "error"
category = "check"
intent = "require docs_link metadata for every registry check entry"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Set docs_link to an existing documentation page in checks catalog generation."
legacy_id = "checks.registry_docs_link_required"
groups = ["checks", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_docs_meta_runtime_drift"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_registry_docs_meta_matches_runtime"
description = "require generated docs _meta checks registry file to match runtime registry"
severity = "error"
category = "check"
intent = "require generated docs _meta checks registry file to match runtime registry"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Run `./bin/atlasctl gen checks-registry` and commit docs/_meta/checks-registry.txt."
legacy_id = "checks.registry_docs_meta_runtime_drift"
groups = ["checks", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_generated_read_only"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_registry_generated_read_only"
description = "require generated registry json to keep generated markers"
severity = "error"
category = "check"
intent = "require generated registry json to keep generated markers"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate REGISTRY.generated.json via atlasctl registry generator and keep generated metadata markers."
legacy_id = "checks.registry_generated_read_only"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_import_hygiene"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_registry_import_hygiene"
description = "forbid heavy imports in checks registry modules"
severity = "error"
category = "check"
intent = "forbid heavy imports in checks registry modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep checks registry imports lightweight and move heavy logic behind runtime boundaries."
legacy_id = "checks.registry_import_hygiene"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_integrity"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "slow"
timeout_ms = 2500
module = "atlasctl.checks.domains.internal"
callable = "check_registry_integrity"
description = "validate checks registry TOML/JSON integrity and drift"
severity = "error"
category = "check"
intent = "validate checks registry TOML/JSON integrity and drift"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Run `./bin/atlasctl gen checks-registry` and commit REGISTRY.toml/REGISTRY.generated.json."
legacy_id = "checks.registry_integrity"
groups = ["checks", "registry", "required", "slow"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_no_banned_adjectives_in_ids"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_registry_no_banned_adjectives_in_ids"
description = "forbid policy-listed adjectives in canonical check ids"
severity = "error"
category = "check"
intent = "forbid policy-listed adjectives in canonical check ids"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Rename check ids to remove policy-listed adjectives."
legacy_id = "checks.registry_no_banned_adjectives_in_ids"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_no_duplicate_canonical_id"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_registry_no_duplicate_canonical_id"
description = "forbid duplicate canonical check ids in registry"
severity = "error"
category = "check"
intent = "forbid duplicate canonical check ids in registry"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Deduplicate conflicting ids in REGISTRY.toml."
legacy_id = "checks.registry_no_duplicate_canonical_id"
groups = ["checks", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_owners_required"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_registry_owners_required"
description = "require every registry entry to declare an owner"
severity = "error"
category = "check"
intent = "require every registry entry to declare an owner"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add owner field to registry entries."
legacy_id = "checks.registry_owners_required"
groups = ["checks", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_remediation_link_required"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_registry_remediation_link_required"
description = "require remediation_link metadata for every registry check entry"
severity = "error"
category = "check"
intent = "require remediation_link metadata for every registry check entry"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Set remediation_link to an existing remediation playbook page."
legacy_id = "checks.registry_remediation_link_required"
groups = ["checks", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_speed_required"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_registry_speed_required"
description = "require speed classification for every registry entry (fast|slow|nightly)"
severity = "error"
category = "check"
intent = "require speed classification for every registry entry (fast|slow|nightly)"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Set speed to fast, slow, or nightly in REGISTRY.toml."
legacy_id = "checks.registry_speed_required"
groups = ["checks", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_suite_membership_required"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.domains.internal"
callable = "check_registry_suite_membership_required"
description = "require every registry check to be selected by at least one suite manifest"
severity = "error"
category = "check"
intent = "require every registry check to be selected by at least one suite manifest"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add unassigned checks to at least one suite in registry/suites_catalog.json."
legacy_id = "checks.registry_suite_membership_required"
groups = ["checks", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_toml_generated_contract"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_registry_toml_generated_contract"
description = "require REGISTRY.toml to be generated-only when present"
severity = "error"
category = "check"
intent = "require REGISTRY.toml to be generated-only when present"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Write REGISTRY.toml through atlasctl generator and include generated-only header."
legacy_id = "checks.registry_toml_generated_contract"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_registry_transition_complete"
domain = "checks"
area = "registry"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_registry_transition_complete"
description = "fail when check-id migration aliases remain after transition deadline"
severity = "error"
category = "check"
intent = "fail when check-id migration aliases remain after transition deadline"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Clear configs/policy/check-id-migration.json aliases after deadline or extend with explicit policy."
legacy_id = "checks.registry_transition_complete"
groups = ["checks", "fast", "registry", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_remediation_ssot"
domain = "checks"
area = "remediation"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_remediation_ssot"
description = "require every check entry to have remediation documentation link"
severity = "error"
category = "check"
intent = "require every check entry to have remediation documentation link"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Set remediation_link for every check in checks catalog generation."
legacy_id = "checks.remediation_ssot"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_root_entry_budget"
domain = "checks"
area = "root"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_checks_root_entry_budget"
description = "enforce checks root entry budget"
severity = "error"
category = "check"
intent = "enforce checks root entry budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce top-level entries under packages/atlasctl/src/atlasctl/checks or adjust policy budget intentionally."
legacy_id = "checks.root_entry_budget"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_structured_results_legacy_signature_budget"
domain = "checks"
area = "structured"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.internal"
callable = "check_structured_results_legacy_signature_budget"
description = "ratchet down legacy tuple check signatures in favor of structured results"
severity = "error"
category = "check"
intent = "ratchet down legacy tuple check signatures in favor of structured results"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Migrate tuple[int, list[str]] check signatures to structured Violation/CheckOutcome results."
legacy_id = "checks.structured_results_legacy_signature_budget"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_subprocess_effect_declared"
domain = "checks"
area = "subprocess"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.internal"
callable = "check_no_subprocess_usage_without_declared_effect"
description = "require subprocess usage in check modules to declare subprocess effect"
severity = "error"
category = "check"
intent = "require subprocess usage in check modules to declare subprocess effect"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add subprocess effect declaration for checks that call subprocess or run_command."
legacy_id = "checks.subprocess_effect_declared"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_suites_inventory_ssot"
domain = "checks"
area = "suites"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_suites_inventory_ssot"
description = "require deterministic suite inventory in suite registry SSOT"
severity = "error"
category = "check"
intent = "require deterministic suite inventory in suite registry SSOT"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Sort suite names and remove duplicates in registry/suites_catalog.json."
legacy_id = "checks.suites_inventory_ssot"
groups = ["checks", "fast", "required", "suite"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_suites_no_orphans"
domain = "checks"
area = "suites"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_suites_no_orphans"
description = "require every registered check to belong to at least one suite"
severity = "error"
category = "check"
intent = "require every registered check to belong to at least one suite"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add orphan checks to suite registry manifests."
legacy_id = "checks.suites_no_orphans"
groups = ["checks", "fast", "required", "suite"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_surfaces_no_banned_adjectives_in_paths"
domain = "checks"
area = "surfaces"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_surfaces_no_banned_adjectives_in_paths"
description = "forbid policy-listed adjectives in atlasctl module/docs path names"
severity = "error"
category = "check"
intent = "forbid policy-listed adjectives in atlasctl module/docs path names"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Rename atlasctl source/docs files and directories to remove banned adjectives."
legacy_id = "checks.surfaces_no_banned_adjectives_in_paths"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_tools_module_budget"
domain = "checks"
area = "tools"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.internal"
callable = "check_checks_tools_module_budget"
description = "enforce checks tools module budget"
severity = "error"
category = "check"
intent = "enforce checks tools module budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep checks tools module count within budget or adjust policy budget intentionally."
legacy_id = "checks.tools_module_budget"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_checks_write_roots_evidence_only"
domain = "checks"
area = "write"
gate = "checks"
owner = "platform"
speed = "fast"
timeout_ms = 700
module = "atlasctl.checks.domains.internal"
callable = "check_write_roots_are_evidence_only"
description = "require check write roots to stay under managed evidence directories"
severity = "error"
category = "check"
intent = "require check write roots to stay under managed evidence directories"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Restrict writes_allowed_roots to artifacts/evidence, artifacts/atlasctl/checks, or artifacts/runs."
legacy_id = "checks.write_roots_evidence_only"
groups = ["checks", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_configs_pyproject_no_duplicate_tool_config"
domain = "configs"
area = "pyproject"
gate = "configs"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_pyproject_no_duplicate_tool_config"
description = "forbid duplicate pyproject tool blocks"
severity = "error"
category = "check"
intent = "forbid duplicate pyproject tool blocks"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Deduplicate tool.atlasctl/tool.pytest sections in packages/atlasctl/pyproject.toml."
legacy_id = "configs.pyproject_no_duplicate_tool_config"
groups = ["configs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_configs_pyproject_required_blocks"
domain = "configs"
area = "pyproject"
gate = "configs"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_pyproject_required_blocks"
description = "validate required pyproject blocks"
severity = "error"
category = "check"
intent = "validate required pyproject blocks"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Restore missing [project]/[build-system]/tool config blocks in packages/atlasctl/pyproject.toml."
legacy_id = "configs.pyproject_required_blocks"
groups = ["configs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_atlasctl_cli"
domain = "contracts"
area = "atlasctl"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_policies"
callable = "check_atlas_scripts_cli_contract"
description = "validate atlasctl CLI contract surface"
severity = "error"
category = "check"
intent = "validate atlasctl CLI contract surface"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update CLI contract docs/tests to match behavior."
legacy_id = "contracts.atlasctl_cli"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_layout_contract"
domain = "contracts"
area = "layout"
gate = "contracts"
owner = "platform"
speed = "slow"
timeout_ms = 2000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_layout_contract"
description = "validate repository layout contract"
severity = "error"
category = "check"
intent = "validate repository layout contract"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix layout violations reported by the contract checker."
legacy_id = "contracts.layout"
groups = ["contracts", "required", "slow"]
effects = ["fs_read"]
external_tools = ["bash"]
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_catalog"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_catalog_integrity"
description = "validate schema catalog for duplicate names and missing files"
severity = "error"
category = "check"
intent = "validate schema catalog for duplicate names and missing files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix catalog duplicates and missing schema files."
legacy_id = "contracts.schema_catalog"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_catalog_files_exist"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_catalog_files_exist"
description = "ensure schemas listed in catalog exist on disk"
severity = "error"
category = "check"
intent = "ensure schemas listed in catalog exist on disk"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add missing schema files or fix catalog file entries."
legacy_id = "contracts.schema_catalog_files_exist"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_catalog_referenced"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_catalog_referenced"
description = "ensure schema catalog contains only referenced schemas"
severity = "error"
category = "check"
intent = "ensure schema catalog contains only referenced schemas"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove or reference orphan schemas in catalog."
legacy_id = "contracts.schema_catalog_referenced"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_catalog_sorted"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_catalog_sorted"
description = "ensure schema catalog order is deterministic"
severity = "error"
category = "check"
intent = "ensure schema catalog order is deterministic"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Sort catalog.json entries by schema name."
legacy_id = "contracts.schema_catalog_sorted"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_catalog_ssot"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_catalog_ssot"
description = "enforce contracts catalog.json as schema SSOT"
severity = "error"
category = "check"
intent = "enforce contracts catalog.json as schema SSOT"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route schema catalog access through atlasctl.contracts.catalog only."
legacy_id = "contracts.schema_catalog_ssot"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_change_release_notes"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_change_release_notes"
description = "enforce schema bump + release notes policy for schema changes"
severity = "error"
category = "check"
intent = "enforce schema bump + release notes policy for schema changes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add new versioned schema file and update packages/atlasctl/docs/release-notes.md."
legacy_id = "contracts.schema_change_release_notes"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_disk_files_listed"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_disk_files_listed"
description = "ensure no schema file exists outside catalog"
severity = "error"
category = "check"
intent = "ensure no schema file exists outside catalog"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add schema file to catalog.json or remove stale schema file."
legacy_id = "contracts.schema_disk_files_listed"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_goldens"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_goldens_validate"
description = "validate JSON goldens against declared schemas"
severity = "error"
category = "check"
intent = "validate JSON goldens against declared schemas"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix golden payload shape/schema alignment."
legacy_id = "contracts.schema_goldens"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_id_naming"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_id_naming"
description = "enforce schema id naming/version suffix policy"
severity = "error"
category = "check"
intent = "enforce schema id naming/version suffix policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use atlasctl.<name>.v<major> and keep catalog version aligned with suffix."
legacy_id = "contracts.schema_id_naming"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_readme_updated"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_readme_updated"
description = "ensure schemas README stays in sync with schema catalog/files"
severity = "error"
category = "check"
intent = "ensure schemas README stays in sync with schema catalog/files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate schema catalog metadata and update contracts/schema/schemas/README.md."
legacy_id = "contracts.schema_readme_updated"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_contracts_schema_samples"
domain = "contracts"
area = "schema"
gate = "contracts"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.policies.contracts.schema_contracts"
callable = "check_schema_samples_validate"
description = "validate sample payloads against declared schemas"
severity = "error"
category = "check"
intent = "validate sample payloads against declared schemas"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update sample payloads or schema definitions."
legacy_id = "contracts.schema_samples"
groups = ["contracts", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docker_image_size"
domain = "docker"
area = "image"
gate = "docker"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.repo.native.modules.repo_checks_scripts_and_docker"
callable = "check_docker_image_size"
description = "enforce docker image size budget"
severity = "error"
category = "check"
intent = "enforce docker image size budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce image size or adjust documented budget."
legacy_id = "docker.image_size"
groups = ["docker", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docker_layout_contract"
domain = "docker"
area = "layout"
gate = "docker"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.repo.native.modules.repo_checks_scripts_and_docker"
callable = "check_docker_layout"
description = "validate docker layout contracts"
severity = "error"
category = "check"
intent = "validate docker layout contracts"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Align docker files to layout contract."
legacy_id = "docker.layout"
groups = ["docker", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docker_no_latest_tags"
domain = "docker"
area = "no"
gate = "docker"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.repo.native.modules.repo_checks_scripts_and_docker"
callable = "check_no_latest_tags"
description = "forbid floating latest image tags"
severity = "error"
category = "check"
intent = "forbid floating latest image tags"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Pin image tags to immutable versions."
legacy_id = "docker.no_latest_tags"
groups = ["docker", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docker_policy_contract"
domain = "docker"
area = "policy"
gate = "docker"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.repo.native.modules.repo_checks_scripts_and_docker"
callable = "check_docker_policy"
description = "validate docker policy contracts"
severity = "error"
category = "check"
intent = "validate docker policy contracts"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Resolve policy violations in docker contracts."
legacy_id = "docker.policy"
groups = ["docker", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docker_tag_contract_no_latest"
domain = "docker"
area = "tag"
gate = "docker"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.repo.native.modules.repo_checks_scripts_and_docker"
callable = "check_no_latest_tags"
description = "docker tag contract forbids latest tags"
severity = "error"
category = "check"
intent = "docker tag contract forbids latest tags"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Pin image tags to immutable versions."
legacy_id = "docker.tag_contract_no_latest"
groups = ["docker", "fast", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_check_id_drift"
domain = "docs"
area = "check"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_check_id_drift"
description = "forbid docs references to unknown check ids"
severity = "error"
category = "check"
intent = "forbid docs references to unknown check ids"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update check:id references to registered check ids."
legacy_id = "docs.check_id_drift"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_ci_lane_mapping"
domain = "docs"
area = "ci"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_ci_lane_mapping"
description = "require CI workflow lane mapping doc and referenced jobs/workflows"
severity = "error"
category = "check"
intent = "require CI workflow lane mapping doc and referenced jobs/workflows"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update packages/atlasctl/docs/control-plane/ci-lane-mapping.md and CI workflow job names together."
legacy_id = "docs.ci_lane_mapping"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_command_group_pages"
domain = "docs"
area = "command"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_command_group_docs_pages"
description = "require command-group docs pages with examples section"
severity = "error"
category = "check"
intent = "require command-group docs pages with examples section"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add docs/commands/groups/<group>.md pages with ## Examples."
legacy_id = "docs.command_group_pages"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_index_complete"
domain = "docs"
area = "index"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_index_complete"
description = "validate docs/index.md covers all docs files"
severity = "error"
category = "check"
intent = "validate docs/index.md covers all docs files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add missing docs entries to packages/atlasctl/docs/index.md."
legacy_id = "docs.index_complete"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_links_exist"
domain = "docs"
area = "links"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_links_exist"
description = "validate docs markdown link targets exist"
severity = "error"
category = "check"
intent = "validate docs markdown link targets exist"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix broken relative links in packages/atlasctl/docs."
legacy_id = "docs.links_exist"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_lint_style"
domain = "docs"
area = "lint"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_lint_style"
description = "enforce docs style lint policy"
severity = "error"
category = "check"
intent = "enforce docs style lint policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix long lines, invalid headings, and TODO/TBD placeholders."
legacy_id = "docs.lint_style"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_migration_not_stale"
domain = "docs"
area = "migration"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_migration_docs_not_stale"
description = "forbid stale migration wording once removals are active"
severity = "error"
category = "check"
intent = "forbid stale migration wording once removals are active"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove stale parallel-legacy wording from docs/migration pages."
legacy_id = "docs.migration_not_stale"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_nav_references_exist"
domain = "docs"
area = "nav"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_nav_references_exist"
description = "validate mkdocs nav references existing docs pages"
severity = "error"
category = "check"
intent = "validate mkdocs nav references existing docs pages"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix missing docs files referenced in mkdocs.yml nav."
legacy_id = "docs.nav_references_exist"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_new_command_workflow"
domain = "docs"
area = "new"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_new_command_workflow"
description = "require docs/tests updates when command registry changes"
severity = "error"
category = "check"
intent = "require docs/tests updates when command registry changes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update docs index, pyproject, and tests for command-surface changes."
legacy_id = "docs.new_command_workflow"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_no_legacy_cli_invocation"
domain = "docs"
area = "no"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_no_legacy_cli_invocation"
description = "forbid legacy atlasctl invocation patterns in docs"
severity = "error"
category = "check"
intent = "forbid legacy atlasctl invocation patterns in docs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use `./bin/atlasctl ...` consistently in all docs examples."
legacy_id = "docs.no_legacy_cli_invocation"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_no_ops_generated_run_path_refs"
domain = "docs"
area = "no"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_docs_no_ops_generated_run_paths"
description = "forbid runtime ops generated path references in docs"
severity = "error"
category = "check"
intent = "forbid runtime ops generated path references in docs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use stable docs or generated index links."
legacy_id = "docs.no_ops_generated_run_path_refs"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_no_orphans"
domain = "docs"
area = "no"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_no_orphans"
description = "forbid orphan docs files outside allowed generated/meta paths"
severity = "error"
category = "check"
intent = "forbid orphan docs files outside allowed generated/meta paths"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Link docs pages from docs/index.md or other docs pages."
legacy_id = "docs.no_orphans"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_no_placeholder_release_docs"
domain = "docs"
area = "no"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_no_placeholder_release_docs"
description = "forbid placeholder docs paths in release docs tree"
severity = "error"
category = "check"
intent = "forbid placeholder docs paths in release docs tree"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove placeholder docs files or move drafts under docs/_drafts/."
legacy_id = "docs.no_placeholder_release_docs"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_no_scripts_path_refs"
domain = "docs"
area = "no"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.native.modules.repo_checks_scripts_and_docker"
callable = "check_docs_scripts_references"
description = "forbid scripts/ path references in docs"
severity = "error"
category = "check"
intent = "forbid scripts/ path references in docs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update docs references to atlasctl commands."
legacy_id = "docs.no_scripts_path_refs"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_ownership_metadata"
domain = "docs"
area = "ownership"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_ownership_metadata"
description = "require docs ownership metadata for major docs areas"
severity = "error"
category = "check"
intent = "require docs ownership metadata for major docs areas"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update packages/atlasctl/docs/_meta/owners.json with major area owners."
legacy_id = "docs.ownership_metadata"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_package_root_markdown"
domain = "docs"
area = "package"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_no_package_root_markdown_except_readme"
description = "forbid markdown files at package root except README"
severity = "error"
category = "check"
intent = "forbid markdown files at package root except README"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move package root markdown docs into packages/atlasctl/docs/."
legacy_id = "docs.package_root_markdown"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_registry_command_drift"
domain = "docs"
area = "registry"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_registry_command_drift"
description = "forbid docs references to unknown atlasctl commands"
severity = "error"
category = "check"
intent = "forbid docs references to unknown atlasctl commands"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix stale command references to match cli surface registry."
legacy_id = "docs.registry_command_drift"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_registry_indexes"
domain = "docs"
area = "registry"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_docs_registry_indexes"
description = "require registry-generated command/check/suite index pages to be in sync"
severity = "error"
category = "check"
intent = "require registry-generated command/check/suite index pages to be in sync"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Run `atlasctl docs generate-registry-indexes --report text`."
legacy_id = "docs.registry_indexes"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_docs_stable_command_examples"
domain = "docs"
area = "stable"
gate = "docs"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.domains.docs.integrity"
callable = "check_stable_command_examples_in_group_docs"
description = "require stable commands to have examples in group docs"
severity = "error"
category = "check"
intent = "require stable commands to have examples in group docs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add command entries and atlasctl examples to docs/commands/groups/*.md."
legacy_id = "docs.stable_command_examples"
groups = ["docs", "fast", "lint", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_license_file_mit"
domain = "license"
area = "file"
gate = "license"
owner = "platform"
speed = "fast"
timeout_ms = 150
module = "atlasctl.checks.domains.policies.licensing.policy"
callable = "check_license_file_mit"
description = "ensure package license file exists and is MIT"
severity = "error"
category = "check"
intent = "ensure package license file exists and is MIT"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Create packages/atlasctl/LICENSE with canonical MIT text and copyright."
legacy_id = "license.file_mit"
groups = ["fast", "license", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_license_spdx_policy"
domain = "license"
area = "spdx"
gate = "license"
owner = "platform"
speed = "fast"
timeout_ms = 150
module = "atlasctl.checks.domains.policies.licensing.policy"
callable = "check_spdx_policy"
description = "enforce SPDX policy for python source headers"
severity = "error"
category = "check"
intent = "enforce SPDX policy for python source headers"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "If SPDX header is present, set it to SPDX-License-Identifier: MIT."
legacy_id = "license.spdx_policy"
groups = ["fast", "license", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_license_statements_consistent"
domain = "license"
area = "statements"
gate = "license"
owner = "platform"
speed = "fast"
timeout_ms = 150
module = "atlasctl.checks.domains.policies.licensing.policy"
callable = "check_license_statements_consistent"
description = "ensure package docs contain only MIT-compatible license statements"
severity = "error"
category = "check"
intent = "ensure package docs contain only MIT-compatible license statements"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update README/docs license references to MIT and remove conflicting statements."
legacy_id = "license.statements_consistent"
groups = ["fast", "license", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_ci_entrypoints_contract"
domain = "make"
area = "ci"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_ci_entrypoints_contract"
description = "validate CI workflow entrypoints contract"
severity = "error"
category = "check"
intent = "validate CI workflow entrypoints contract"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep workflow run commands on approved make/atlasctl entrypoints."
legacy_id = "make.ci_entrypoints_contract"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_ci_pr_lane_fast_only"
domain = "make"
area = "ci"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ci_pr_lane_fast_only"
description = "require CI PR lane suites to exclude slow checks unless explicitly allowlisted"
severity = "error"
category = "check"
intent = "require CI PR lane suites to exclude slow checks unless explicitly allowlisted"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep `local` suite fast-only, or add temporary exceptions in configs/policy/ci-pr-slow-allowlist.json."
legacy_id = "make.ci_pr_lane_fast_only"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_ci_workflows_delegating_targets_only"
domain = "make"
area = "ci"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ci_workflows_call_only_delegating_make_targets"
description = "CI workflows must call only make targets that delegate to atlasctl"
severity = "error"
category = "check"
intent = "CI workflows must call only make targets that delegate to atlasctl"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use canonical delegating make targets in CI workflows."
legacy_id = "make.ci_workflows_delegating_targets_only"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_ci_workflows_make_only"
domain = "make"
area = "ci"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ci_workflows_call_make_and_make_calls_atlasctl"
description = "require CI workflows to call make entrypoints and keep atlasctl delegation in makefiles"
severity = "error"
category = "check"
intent = "require CI workflows to call make entrypoints and keep atlasctl delegation in makefiles"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use `run: make <target>` in workflows and keep atlasctl delegation in makefiles."
legacy_id = "make.ci_workflows_make_only"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_command_allowlist"
domain = "make"
area = "command"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1500
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_command_allowlist"
description = "enforce allowed direct recipe commands"
severity = "error"
category = "check"
intent = "enforce allowed direct recipe commands"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use allowed command wrappers in make targets."
legacy_id = "make.command_allowlist"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_forbidden_paths"
domain = "make"
area = "forbidden"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_forbidden_paths"
description = "forbid direct forbidden paths in make recipes"
severity = "error"
category = "check"
intent = "forbid direct forbidden paths in make recipes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route commands through allowed wrappers."
legacy_id = "make.forbidden_paths"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_help_determinism"
domain = "make"
area = "help"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 4000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_help"
description = "ensure deterministic make help output"
severity = "error"
category = "check"
intent = "ensure deterministic make help output"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate and normalize make help output."
legacy_id = "make.help_determinism"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_index_drift_contract"
domain = "make"
area = "index"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_index_drift_contract"
description = "enforce makefiles index drift contract"
severity = "error"
category = "check"
intent = "enforce makefiles index drift contract"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate and commit makefiles index changes."
legacy_id = "make.index_drift_contract"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_lane_reports_via_atlasctl_reporting"
domain = "make"
area = "lane"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_lane_reports_via_atlasctl_reporting"
description = "require lane reports to be emitted through atlasctl reporting command"
severity = "error"
category = "check"
intent = "require lane reports to be emitted through atlasctl reporting command"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use `atlasctl report make-area-write` for lane report emission."
legacy_id = "make.lane_reports_via_atlasctl_reporting"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_makefiles_wrappers_only_all"
domain = "make"
area = "makefiles"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_makefiles_wrappers_only_all"
description = "enforce wrapper-only invariant across canonical makefiles"
severity = "error"
category = "check"
intent = "enforce wrapper-only invariant across canonical makefiles"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep canonical makefiles as thin wrappers that delegate via ./bin/atlasctl or approved $(MAKE) wrappers."
legacy_id = "make.makefiles_wrappers_only_all"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_atlasctl_run_ops_run"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_atlasctl_run_ops_run"
description = "forbid make recipes from calling atlasctl run ./ops/run scripts"
severity = "error"
category = "check"
intent = "forbid make recipes from calling atlasctl run ./ops/run scripts"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use atlasctl command surfaces directly instead of `atlasctl run ./ops/run/...`."
legacy_id = "make.no_atlasctl_run_ops_run"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_bypass_atlasctl"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_bypass_atlasctl_without_allowlist"
description = "forbid make recipes bypassing atlasctl without explicit allowlist"
severity = "error"
category = "check"
intent = "forbid make recipes bypassing atlasctl without explicit allowlist"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route recipe logic through atlasctl, or add a documented delegation exception."
legacy_id = "make.no_bypass_atlasctl"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_direct_artifact_writes"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_direct_artifact_writes"
description = "forbid direct artifact writes in make recipes"
severity = "error"
category = "check"
intent = "forbid direct artifact writes in make recipes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Write artifacts via atlasctl reporting and command surfaces only."
legacy_id = "make.no_direct_artifact_writes"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_direct_bash_ops"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_direct_bash_ops"
description = "forbid direct `bash ops/...` invocations in make recipes"
severity = "error"
category = "check"
intent = "forbid direct `bash ops/...` invocations in make recipes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route ops scripts through atlasctl make/ops commands."
legacy_id = "make.no_direct_bash_ops"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_direct_python"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_no_direct_python_script_invocations"
description = "forbid direct python script execution in make recipes"
severity = "error"
category = "check"
intent = "forbid direct python script execution in make recipes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Replace `python3 path/to/script.py` with atlasctl commands."
legacy_id = "make.no_direct_python"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_direct_python_only_atlasctl"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_direct_python_only_atlasctl"
description = "forbid direct python invocations in make recipes"
severity = "error"
category = "check"
intent = "forbid direct python invocations in make recipes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use atlasctl entrypoints instead of direct python invocations."
legacy_id = "make.no_direct_python_only_atlasctl"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_direct_script_exec_drift"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_direct_script_exec_drift"
description = "drift check for direct script execution in make recipes"
severity = "error"
category = "check"
intent = "drift check for direct script execution in make recipes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Replace direct script execution with atlasctl command wrappers."
legacy_id = "make.no_direct_script_exec_drift"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_direct_scripts_only_atlasctl"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_direct_scripts_only_atlasctl"
description = "forbid direct script path invocations in make recipes"
severity = "error"
category = "check"
intent = "forbid direct script path invocations in make recipes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Delegate script execution through atlasctl commands."
legacy_id = "make.no_direct_scripts_only_atlasctl"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_duplicate_all_variants"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_no_duplicate_all_variants"
description = "require `*-all` targets to provide distinct full behavior"
severity = "error"
category = "check"
intent = "require `*-all` targets to provide distinct full behavior"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep `*-all` variants only when they add explicit full behavior flags."
legacy_id = "make.no_duplicate_all_variants"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_legacy_script_aliases"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_legacy_script_aliases"
description = "forbid legacy make alias tokens (ATLAS_SCRIPTS/SCRIPTS/PY_RUN)"
severity = "error"
category = "check"
intent = "forbid legacy make alias tokens (ATLAS_SCRIPTS/SCRIPTS/PY_RUN)"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use ./bin/atlasctl or $(ATLASCTL) wrappers only."
legacy_id = "make.no_legacy_script_aliases"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_orphan_docs_refs"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_orphan_docs_refs"
description = "forbid orphan docs references for make targets and atlasctl commands"
severity = "error"
category = "check"
intent = "forbid orphan docs references for make targets and atlasctl commands"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update docs index and command references so docs links are reachable."
legacy_id = "make.no_orphan_docs_refs"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_no_python_module_invocation"
domain = "make"
area = "no"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_python_module_invocation"
description = "forbid `python -m atlasctl.cli` in make recipes"
severity = "error"
category = "check"
intent = "forbid `python -m atlasctl.cli` in make recipes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use ./bin/atlasctl in make recipes."
legacy_id = "make.no_python_module_invocation"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_ops_product_atlasctl_only_delegation"
domain = "make"
area = "ops"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_ops_product_atlasctl_only_delegation"
description = "ops.mk and product.mk must delegate only to matching atlasctl groups"
severity = "error"
category = "check"
intent = "ops.mk and product.mk must delegate only to matching atlasctl groups"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use ./bin/atlasctl ops ... in ops.mk and ./bin/atlasctl product ... in product.mk."
legacy_id = "make.ops_product_atlasctl_only_delegation"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_ops_product_no_tool_tokens"
domain = "make"
area = "ops"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_ops_product_no_tool_tokens"
description = "ops.mk/product.mk must not contain raw tool tokens"
severity = "error"
category = "check"
intent = "ops.mk/product.mk must not contain raw tool tokens"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep ops.mk and product.mk as atlasctl-only wrappers (no bash/python/kubectl/helm/docker recipe tokens)."
legacy_id = "make.ops_product_no_tool_tokens"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_ops_product_ownership_complete"
domain = "make"
area = "ops"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_ops_product_ownership_complete"
description = "ownership metadata must cover ops/product targets"
severity = "error"
category = "check"
intent = "ownership metadata must cover ops/product targets"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add ownership metadata entries for all public ops/product make targets."
legacy_id = "make.ops_product_ownership_complete"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_product_migration_complete_no_ops_run"
domain = "make"
area = "product"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_product_migration_complete_no_ops_run"
description = "fail if product.mk still references ops/run during migration completion"
severity = "error"
category = "check"
intent = "fail if product.mk still references ops/run during migration completion"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Replace product.mk ops/run references with atlasctl product/ops commands."
legacy_id = "make.product_migration_complete_no_ops_run"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_product_mk_wrapper_contract"
domain = "make"
area = "product"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_product_mk_wrapper_contract"
description = "enforce product.mk wrapper-only contract and forbid internal targets"
severity = "error"
category = "check"
intent = "enforce product.mk wrapper-only contract and forbid internal targets"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep makefiles/product.mk as public atlasctl wrappers only (no internal/*, no direct python/module paths, no atlasctl run ./ops/run/*)."
legacy_id = "make.product_mk_wrapper_contract"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_public_target_atlasctl_mapping"
domain = "make"
area = "public"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_public_make_targets_map_to_atlasctl"
description = "require every public make target to delegate to atlasctl"
severity = "error"
category = "check"
intent = "require every public make target to delegate to atlasctl"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update public make target recipe bodies to call atlasctl wrappers only."
legacy_id = "make.public_target_atlasctl_mapping"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_public_targets_documented"
domain = "make"
area = "public"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_public_targets_documented"
description = "require documented public make targets"
severity = "error"
category = "check"
intent = "require documented public make targets"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Document every public make target in generated/public docs."
legacy_id = "make.public_targets_documented"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_removed_makefiles_unreferenced"
domain = "make"
area = "removed"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_removed_makefiles_unreferenced"
description = "retired makefiles must not be referenced"
severity = "error"
category = "check"
intent = "retired makefiles must not be referenced"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove references to retired makefiles or update configs/make/retired-makefiles.json intentionally."
legacy_id = "make.removed_makefiles_unreferenced"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_root_budget"
domain = "make"
area = "root"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_root_budget"
description = "enforce root.mk LOC/target-count budget"
severity = "error"
category = "check"
intent = "enforce root.mk LOC/target-count budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce root.mk orchestration surface and keep only public wrappers."
legacy_id = "make.root_budget"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_scripts_refs"
domain = "make"
area = "scripts"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_scripts_and_docker"
callable = "check_make_scripts_references"
description = "forbid scripts/ references in make recipes"
severity = "error"
category = "check"
intent = "forbid scripts/ references in make recipes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Replace scripts/ invocations with atlasctl commands."
legacy_id = "make.scripts_refs"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_target_boundaries_enforced"
domain = "make"
area = "target"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_target_boundaries_enforced"
description = "enforce make target boundary contracts"
severity = "error"
category = "check"
intent = "enforce make target boundary contracts"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep target cross-area dependencies within contract boundaries."
legacy_id = "make.target_boundaries_enforced"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_target_names_no_banned_adjectives"
domain = "make"
area = "target"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_target_names_no_banned_adjectives"
description = "forbid banned adjectives in make target names"
severity = "error"
category = "check"
intent = "forbid banned adjectives in make target names"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Rename make targets using neutral policy-oriented wording."
legacy_id = "make.target_names_no_banned_adjectives"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_target_ownership_complete"
domain = "make"
area = "target"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_target_ownership_complete"
description = "require make target ownership coverage"
severity = "error"
category = "check"
intent = "require make target ownership coverage"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add missing make target ownership metadata."
legacy_id = "make.target_ownership_complete"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_workflows_no_adhoc_check_run"
domain = "make"
area = "workflows"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_workflows_no_adhoc_check_run"
description = "forbid ad-hoc atlasctl check run selectors in CI workflows"
severity = "error"
category = "check"
intent = "forbid ad-hoc atlasctl check run selectors in CI workflows"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route workflow checks through `atlasctl suite run ...` or `atlasctl gate run ...` only."
legacy_id = "make.workflows_no_adhoc_check_run"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_workflows_reference_known_suites"
domain = "make"
area = "workflows"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_workflows_reference_known_suites"
description = "require workflow suite invocations to reference declared suite names"
severity = "error"
category = "check"
intent = "require workflow suite invocations to reference declared suite names"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update workflow suite names or registry/suites catalog entries so they match."
legacy_id = "make.workflows_reference_known_suites"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_wrapper_no_direct_cargo"
domain = "make"
area = "wrapper"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_wrapper_no_direct_cargo"
description = "forbid direct cargo calls in wrapper makefiles"
severity = "error"
category = "check"
intent = "forbid direct cargo calls in wrapper makefiles"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route cargo operations through atlasctl command surfaces."
legacy_id = "make.wrapper_no_direct_cargo"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_wrapper_no_env_side_effects"
domain = "make"
area = "wrapper"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_wrapper_no_env_side_effects"
description = "forbid shell/env side effects inside wrapper recipe bodies"
severity = "error"
category = "check"
intent = "forbid shell/env side effects inside wrapper recipe bodies"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move environment orchestration to atlasctl commands."
legacy_id = "make.wrapper_no_env_side_effects"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_wrapper_no_multiline_recipes"
domain = "make"
area = "wrapper"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_wrapper_no_multiline_recipes"
description = "forbid multi-line recipes in wrapper makefiles"
severity = "error"
category = "check"
intent = "forbid multi-line recipes in wrapper makefiles"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep wrapper targets as one-line atlasctl delegations."
legacy_id = "make.wrapper_no_multiline_recipes"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_wrapper_no_python_m"
domain = "make"
area = "wrapper"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_no_python_module_invocation"
description = "forbid python module invocations in wrapper recipes"
severity = "error"
category = "check"
intent = "forbid python module invocations in wrapper recipes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use ./bin/atlasctl entrypoints."
legacy_id = "make.wrapper_no_python_m"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_wrapper_only_calls_bin_atlasctl"
domain = "make"
area = "wrapper"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_wrapper_only_calls_bin_atlasctl"
description = "require wrapper targets to call ./bin/atlasctl only"
severity = "error"
category = "check"
intent = "require wrapper targets to call ./bin/atlasctl only"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use ./bin/atlasctl for wrapper recipe commands."
legacy_id = "make.wrapper_only_calls_bin_atlasctl"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_wrapper_phony_complete"
domain = "make"
area = "wrapper"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_wrapper_phony_complete"
description = "require wrapper targets to be listed in .PHONY"
severity = "error"
category = "check"
intent = "require wrapper targets to be listed in .PHONY"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add each wrapper target to the makefile .PHONY list."
legacy_id = "make.wrapper_phony_complete"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_wrapper_purity"
domain = "make"
area = "wrapper"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_make_wrapper_purity"
description = "enforce make wrapper purity for canonical makefiles"
severity = "error"
category = "check"
intent = "enforce make wrapper purity for canonical makefiles"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use single-line ./bin/atlasctl delegation in canonical makefiles."
legacy_id = "make.wrapper_purity"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_wrapper_shell_is_sh"
domain = "make"
area = "wrapper"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_wrapper_shell_is_sh"
description = "require wrapper makefiles to pin SHELL := /bin/sh"
severity = "error"
category = "check"
intent = "require wrapper makefiles to pin SHELL := /bin/sh"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Declare SHELL := /bin/sh in each wrapper makefile."
legacy_id = "make.wrapper_shell_is_sh"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_make_wrapper_target_budget"
domain = "make"
area = "wrapper"
gate = "make"
owner = "platform"
speed = "fast"
timeout_ms = 900
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_make_wrapper_target_budget"
description = "enforce per-makefile wrapper target count budgets"
severity = "error"
category = "check"
intent = "enforce per-makefile wrapper target count budgets"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Collapse redundant wrappers and keep only canonical make targets per makefile."
legacy_id = "make.wrapper_target_budget"
groups = ["fast", "lint", "make", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_all_check_scripts_registered"
domain = "ops"
area = "all"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_all_check_scripts_registered"
description = "require all ops check scripts to be registered in atlasctl checks"
severity = "error"
category = "check"
intent = "require all ops check scripts to be registered in atlasctl checks"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Register new ops check scripts in atlasctl checks (or migrate to atlasctl-native implementation)."
legacy_id = "ops.all_check_scripts_registered"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_chart_version_contract"
domain = "ops"
area = "chart"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_chart_version_contract"
description = "enforce chart/app version contract for bijux-atlas chart"
severity = "error"
category = "check"
intent = "enforce chart/app version contract for bijux-atlas chart"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep Chart.yaml version and appVersion present, semver, and aligned."
legacy_id = "ops.chart_version_contract"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_clean_allowed_roots_only"
domain = "ops"
area = "clean"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_clean_allowed_roots_only"
description = "ensure ops clean only targets allowed generated roots"
severity = "error"
category = "check"
intent = "ensure ops clean only targets allowed generated roots"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Restrict ops clean to ops/_generated child deletion only."
legacy_id = "ops.clean_allowed_roots_only"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_committed_generated_hygiene"
domain = "ops"
area = "committed"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_committed_generated_hygiene"
description = "validate deterministic committed generated assets"
severity = "error"
category = "check"
intent = "validate deterministic committed generated assets"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate committed outputs deterministically."
legacy_id = "ops.committed_generated_hygiene"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_effect_boundary_imports"
domain = "ops"
area = "effect"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_effect_boundary_imports"
description = "forbid ops command layer imports from CLI parser modules"
severity = "error"
category = "check"
intent = "forbid ops command layer imports from CLI parser modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep ops commands behind runtime/effects layers and avoid importing cli parser modules."
legacy_id = "ops.effect_boundary_imports"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_env_schema_is_used"
domain = "ops"
area = "env"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_env_schema_is_used"
description = "ensure ops env schema is the single interface for env validate/print"
severity = "error"
category = "check"
intent = "ensure ops env schema is the single interface for env validate/print"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use ops env validate/print with configs/ops/env.schema.json as default."
legacy_id = "ops.env_schema_is_used"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_generated_not_tracked_unless_allowed"
domain = "ops"
area = "generated"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.ops_generated"
callable = "check_ops_generated_not_tracked_unless_allowed"
description = "forbid tracked generated ops outputs unless explicitly allowlisted"
severity = "error"
category = "check"
intent = "forbid tracked generated ops outputs unless explicitly allowlisted"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep generated outputs untracked or move to committed generated roots."
legacy_id = "ops.generated_not_tracked_unless_allowed"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_manifests_schema"
domain = "ops"
area = "manifests"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_manifests_schema"
description = "validate ops manifests against atlas.ops.manifest.v1 schema"
severity = "error"
category = "check"
intent = "validate ops manifests against atlas.ops.manifest.v1 schema"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix ops/manifests/*.json|*.yaml to satisfy atlas.ops.manifest.v1."
legacy_id = "ops.manifests_schema"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_no_direct_script_entrypoints"
domain = "ops"
area = "no"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_no_direct_script_entrypoints"
description = "forbid direct ops script entrypoints in docs/workflows/makefiles"
severity = "error"
category = "check"
intent = "forbid direct ops script entrypoints in docs/workflows/makefiles"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use ./bin/atlasctl ops ... or make wrappers, not ops/**/*.sh paths."
legacy_id = "ops.no_direct_script_entrypoints"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_no_new_run_scripts_without_approval_and_expiry"
domain = "ops"
area = "no"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_no_new_run_scripts_without_approval_and_expiry"
description = "forbid new ops/run scripts without valid temporary approval and expiry"
severity = "error"
category = "check"
intent = "forbid new ops/run scripts without valid temporary approval and expiry"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep ops/run scripts allowlisted only via valid non-expired temp approvals, or migrate/delete them."
legacy_id = "ops.no_new_run_scripts_without_approval_and_expiry"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_no_tracked_generated"
domain = "ops"
area = "no"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_ops_generated_tracked"
description = "forbid tracked files in generated ops dirs"
severity = "error"
category = "check"
intent = "forbid tracked files in generated ops dirs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Untrack generated ops files."
legacy_id = "ops.no_tracked_generated"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_no_tracked_timestamps"
domain = "ops"
area = "no"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_tracked_timestamp_paths"
description = "forbid tracked timestamped paths"
severity = "error"
category = "check"
intent = "forbid tracked timestamped paths"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove timestamped tracked paths."
legacy_id = "ops.no_tracked_timestamps"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_obs_drift_goldens"
domain = "ops"
area = "obs"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_obs_drift_goldens"
description = "fail on observability golden drift (generated vs golden)"
severity = "error"
category = "check"
intent = "fail on observability golden drift (generated vs golden)"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate/fix observability goldens and contracts."
legacy_id = "ops.obs_drift_goldens"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_pins_no_unpinned_versions"
domain = "ops"
area = "pins"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.ops_pins"
callable = "check_ops_pins_no_unpinned_versions"
description = "forbid floating/unpinned versions in ops pins"
severity = "error"
category = "check"
intent = "forbid floating/unpinned versions in ops pins"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Pin tools/images/helm versions and image digests."
legacy_id = "ops.pins_no_unpinned_versions"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_pins_update_is_deterministic"
domain = "ops"
area = "pins"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.tools.ops_pins"
callable = "check_ops_pins_update_is_deterministic"
description = "require deterministic canonical ops pins payload"
severity = "error"
category = "check"
intent = "require deterministic canonical ops pins payload"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep configs/ops/pins.json canonical and stable."
legacy_id = "ops.pins_update_is_deterministic"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_product_task_scripts_zero"
domain = "ops"
area = "product"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_product_task_scripts_zero"
description = "forbid product task scripts under ops and enforce zero-count baseline"
severity = "error"
category = "check"
intent = "forbid product task scripts under ops and enforce zero-count baseline"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move product task scripts into atlasctl commands/product or atlasctl ops area modules and keep configs/ops/product-task-scripts-baseline.json at zero."
legacy_id = "ops.product_task_scripts_zero"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_run_non_executable_unless_allowlisted"
domain = "ops"
area = "run"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_run_non_executable_unless_allowlisted"
description = "ops/run scripts must be non-executable except allowlisted"
severity = "error"
category = "check"
intent = "ops/run scripts must be non-executable except allowlisted"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove executable bits from ops/run scripts after migration, or update allowlist intentionally."
legacy_id = "ops.run_non_executable_unless_allowlisted"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_run_only_allowlisted_scripts"
domain = "ops"
area = "run"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_run_only_allowlisted_scripts"
description = "ops/run contains no scripts except explicitly allowed fixtures"
severity = "error"
category = "check"
intent = "ops/run contains no scripts except explicitly allowed fixtures"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Migrate behavior into atlasctl and delete ops/run scripts or extend transitional allowlist intentionally."
legacy_id = "ops.run_only_allowlisted_scripts"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_run_temp_script_approvals"
domain = "ops"
area = "run"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_run_temp_script_approvals"
description = "temporary ops/run migration script approvals must be valid and unexpired"
severity = "error"
category = "check"
intent = "temporary ops/run migration script approvals must be valid and unexpired"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep configs/policy/ops-run-temp-script-approvals.json entries valid, justified, and unexpired."
legacy_id = "ops.run_temp_script_approvals"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_datasets_scripts_py_cache_budget_check_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_datasets_cache_budget_check_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/datasets/cache_budget_check.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/datasets/cache_budget_check.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/datasets/cache_budget_check.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_datasets_scripts_py_cache_budget_check_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_datasets_scripts_py_cache_threshold_check_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_datasets_cache_threshold_check_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/datasets/cache_threshold_check.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/datasets/cache_threshold_check.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/datasets/cache_threshold_check.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_datasets_scripts_py_cache_threshold_check_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_lint_check_layer_contract_drift_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_lint_layer_contract_drift_native"
description = "run ops script check `ops/_lint/check_layer_contract_drift.py`"
severity = "error"
category = "check"
intent = "run ops script check `ops/_lint/check_layer_contract_drift.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate ops/inventory/layers.json and commit deterministic output."
legacy_id = "ops.script.ops_lint_check_layer_contract_drift_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_lint_check_surfaces_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_lint_check_surfaces_native"
description = "run ops script check `ops/_lint/check-surfaces.py`"
severity = "error"
category = "check"
intent = "run ops script check `ops/_lint/check-surfaces.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix repo surface violations in configs/repo/surfaces.json or root entries."
legacy_id = "ops.script.ops_lint_check_surfaces_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_lint_lane_budget_check_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_lint_policy_lane_budget_check_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/lane_budget_check.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/lane_budget_check.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/lane_budget_check.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_lint_lane_budget_check_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_lint_layout_check_layer_contract_drift_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_lint_layer_contract_drift_native"
description = "run ops script check `ops/_lint/layout/check_layer_contract_drift.py`"
severity = "error"
category = "check"
intent = "run ops script check `ops/_lint/layout/check_layer_contract_drift.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate ops/inventory/layers.json and commit deterministic output."
legacy_id = "ops.script.ops_lint_layout_check_layer_contract_drift_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_lint_ops_smoke_budget_check_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_lint_policy_ops_smoke_budget_check_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/ops_smoke_budget_check.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/ops_smoke_budget_check.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/ops_smoke_budget_check.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_lint_ops_smoke_budget_check_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_lint_policy_lane_budget_check_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_lint_policy_lane_budget_check_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/lane_budget_check.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/lane_budget_check.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/lane_budget_check.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_lint_policy_lane_budget_check_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_lint_policy_ops_smoke_budget_check_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_lint_policy_ops_smoke_budget_check_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/ops_smoke_budget_check.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/ops_smoke_budget_check.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/lint/policy/ops_smoke_budget_check.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_lint_policy_ops_smoke_budget_check_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_load_scripts_check_abuse_scenarios_required_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_load_abuse_scenarios_required_native"
description = "run ops script check `ops/load/scripts/check_abuse_scenarios_required.py`"
severity = "error"
category = "check"
intent = "run ops script check `ops/load/scripts/check_abuse_scenarios_required.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep required load abuse suites in ops/load/suites/suites.json with nightly+must_pass contracts."
legacy_id = "ops.script.ops_load_scripts_check_abuse_scenarios_required_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_load_scripts_check_baseline_update_policy_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_load_checks_check_baseline_update_policy_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/load/checks/check_baseline_update_policy.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/load/checks/check_baseline_update_policy.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/load/checks/check_baseline_update_policy.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_load_scripts_check_baseline_update_policy_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_load_scripts_check_perf_baselines_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_load_perf_baselines_native"
description = "run ops script check `ops/load/scripts/check_perf_baselines.py`"
severity = "error"
category = "check"
intent = "run ops script check `ops/load/scripts/check_perf_baselines.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix perf baseline metadata, freshness, dataset lock hash, and tool-version alignment."
legacy_id = "ops.script.ops_load_scripts_check_perf_baselines_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_load_scripts_check_pinned_queries_lock_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_load_pinned_queries_lock_native"
description = "run ops script check `ops/load/scripts/check_pinned_queries_lock.py`"
severity = "error"
category = "check"
intent = "run ops script check `ops/load/scripts/check_pinned_queries_lock.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate pinned query lock so file/query hashes match SSOT."
legacy_id = "ops.script.ops_load_scripts_check_pinned_queries_lock_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_load_scripts_check_prereqs_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_load_checks_check_prereqs_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/load/checks/check_prereqs.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/load/checks/check_prereqs.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/load/checks/check_prereqs.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_load_scripts_check_prereqs_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_load_scripts_check_regression_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_load_checks_check_regression_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/load/checks/check_regression.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/load/checks/check_regression.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/load/checks/check_regression.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_load_scripts_check_regression_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_load_scripts_check_runbook_suite_names_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_load_runbook_suite_names_native"
description = "run ops script check `ops/load/scripts/check_runbook_suite_names.py`"
severity = "error"
category = "check"
intent = "run ops script check `ops/load/scripts/check_runbook_suite_names.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update load runbook to include all suite names from ops/load/suites/suites.json."
legacy_id = "ops.script.ops_load_scripts_check_runbook_suite_names_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_load_scripts_regression_check_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_load_baseline_regression_check_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/load/baseline/regression_check.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/load/baseline/regression_check.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/load/baseline/regression_check.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_load_scripts_regression_check_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_check_metric_cardinality_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_observability_check_metric_cardinality_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/observability/check_metric_cardinality.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/observability/check_metric_cardinality.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/observability/check_metric_cardinality.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_check_metric_cardinality_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_check_pack_upgrade_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_observability_check_pack_upgrade_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/observability/check_pack_upgrade.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/observability/check_pack_upgrade.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/observability/check_pack_upgrade.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_check_pack_upgrade_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_check_pack_versions_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_observability_check_pack_versions_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/observability/check_pack_versions.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/observability/check_pack_versions.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/observability/check_pack_versions.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_check_pack_versions_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_alerts_contract_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_alerts_contract_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_alerts_contract.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_alerts_contract.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_alerts_contract.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_alerts_contract_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_dashboard_contract_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_dashboard_contract_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_dashboard_contract.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_dashboard_contract.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_dashboard_contract.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_dashboard_contract_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_dashboard_metric_compat_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_dashboard_metric_compat_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_dashboard_metric_compat.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_dashboard_metric_compat.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_dashboard_metric_compat.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_dashboard_metric_compat_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_endpoint_metrics_coverage_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_obs_endpoint_metrics_coverage_native"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_endpoint_metrics_coverage.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_endpoint_metrics_coverage.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix endpoint observability metric coverage contract entries and metric references."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_endpoint_metrics_coverage_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_endpoint_trace_coverage_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_obs_endpoint_trace_coverage_native"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_endpoint_trace_coverage.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_endpoint_trace_coverage.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix endpoint trace coverage contract entries and TRACE_SPANS attribute/span references."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_endpoint_trace_coverage_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_metrics_contract_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_metrics_contract_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_contract.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_contract.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_contract.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_metrics_contract_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_metrics_coverage_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_metrics_coverage_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_coverage.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_coverage.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_coverage.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_metrics_coverage_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_metrics_drift_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_metrics_drift_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_drift.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_drift.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_drift.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_metrics_drift_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_metrics_golden_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_metrics_golden_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_golden.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_golden.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_metrics_golden.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_metrics_golden_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_obs_budgets_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_obs_budgets_native"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_obs_budgets.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_obs_budgets.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Align observability budgets required labels with metrics contract specs."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_obs_budgets_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_observability_lag_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_observability_lag_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_observability_lag.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_observability_lag.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_observability_lag.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_observability_lag_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_overload_behavior_contract_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_overload_behavior_contract_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_overload_behavior_contract.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_overload_behavior_contract.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_overload_behavior_contract.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_overload_behavior_contract_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_profile_goldens_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_obs_profile_goldens_native"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_profile_goldens.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_profile_goldens.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix profile goldens registry and referenced golden files."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_profile_goldens_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_runtime_metrics_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_runtime_metrics_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_runtime_metrics.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_runtime_metrics.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_runtime_metrics.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_runtime_metrics_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_trace_coverage_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_trace_coverage_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_trace_coverage.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_trace_coverage.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_trace_coverage.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_trace_coverage_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_trace_golden_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_trace_golden_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_trace_golden.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_trace_golden.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_trace_golden.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_trace_golden_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_obs_scripts_contracts_check_tracing_contract_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_obs_contracts_check_tracing_contract_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_tracing_contract.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_tracing_contract.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/obs/contracts/check_tracing_contract.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_obs_scripts_contracts_check_tracing_contract_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_stack_scripts_idempotency_check_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_commands_ops_stack_idempotency_check_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/stack/idempotency_check.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/commands/ops/stack/idempotency_check.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/commands/ops/stack/idempotency_check.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_stack_scripts_idempotency_check_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_stack_tests_check_live_layer_snapshot_py"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_stack_tests_check_live_layer_snapshot_py"
description = "run ops script check `ops/stack/tests/check_live_layer_snapshot.py`"
severity = "error"
category = "check"
intent = "run ops script check `ops/stack/tests/check_live_layer_snapshot.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `ops/stack/tests/check_live_layer_snapshot.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_stack_tests_check_live_layer_snapshot_py"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_artifacts_allowlist_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_runtime_check_artifacts_allowlist_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/runtime/check_artifacts_allowlist.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/runtime/check_artifacts_allowlist.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/runtime/check_artifacts_allowlist.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_artifacts_allowlist_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_artifacts_policy_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_runtime_check_artifacts_policy_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/runtime/check_artifacts_policy.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/runtime/check_artifacts_policy.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/runtime/check_artifacts_policy.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_artifacts_policy_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_kind_cluster_contract_drift_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_validation_check_kind_cluster_contract_drift_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/validation/check_kind_cluster_contract_drift.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/validation/check_kind_cluster_contract_drift.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/validation/check_kind_cluster_contract_drift.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_kind_cluster_contract_drift_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_no_root_dumping_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_governance_check_no_root_dumping_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/governance/check_no_root_dumping.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/governance/check_no_root_dumping.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/governance/check_no_root_dumping.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_no_root_dumping_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_ops_canonical_shims_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_surface_check_ops_canonical_shims_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_canonical_shims.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_canonical_shims.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_canonical_shims.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_ops_canonical_shims_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_ops_lib_canonical_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_runtime_check_ops_lib_canonical_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/runtime/check_ops_lib_canonical.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/runtime/check_ops_lib_canonical.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/runtime/check_ops_lib_canonical.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_ops_lib_canonical_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_ops_script_targets_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_surface_check_ops_script_targets_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_script_targets.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_script_targets.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_script_targets.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_ops_script_targets_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_ops_stack_order_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_surface_check_ops_stack_order_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_stack_order.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_stack_order.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_stack_order.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_ops_stack_order_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_ops_workspace_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_surface_check_ops_workspace_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_workspace.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_workspace.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_ops_workspace.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_ops_workspace_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_repo_hygiene_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_governance_check_repo_hygiene_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/governance/check_repo_hygiene.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/governance/check_repo_hygiene.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/governance/check_repo_hygiene.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_repo_hygiene_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_script_ops_vendor_layout_checks_check_stack_manifest_consolidation_sh"
domain = "ops"
area = "script"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_packages_atlasctl_src_atlasctl_checks_layout_ops_surface_check_stack_manifest_consolidation_py"
description = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_stack_manifest_consolidation.py`"
severity = "error"
category = "check"
intent = "run ops script check `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_stack_manifest_consolidation.py`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix failures in `packages/atlasctl/src/atlasctl/checks/layout/ops/surface/check_stack_manifest_consolidation.py` or replace it with atlasctl-native check logic."
legacy_id = "ops.script.ops_vendor_layout_checks_check_stack_manifest_consolidation_sh"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["subprocess"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_scripts_are_data_only"
domain = "ops"
area = "scripts"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_scripts_are_data_only"
description = "enforce ops/manifests data-only file policy"
severity = "error"
category = "check"
intent = "enforce ops/manifests data-only file policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep ops/manifests to json/yaml data only."
legacy_id = "ops.scripts_are_data_only"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_scripts_count_nonincreasing"
domain = "ops"
area = "scripts"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_scripts_count_nonincreasing"
description = "enforce migration gate: ops scripts count must not increase"
severity = "error"
category = "check"
intent = "enforce migration gate: ops scripts count must not increase"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce ops scripts count or intentionally update baseline in one reviewed change."
legacy_id = "ops.scripts_count_nonincreasing"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_shell_policy"
domain = "ops"
area = "shell"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_shell_policy"
description = "enforce shell runtime guard requirements for ops/run wrappers"
severity = "error"
category = "check"
intent = "enforce shell runtime guard requirements for ops/run wrappers"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Source common.sh and call ops_entrypoint_start + ops_version_guard in ops/run/*.sh."
legacy_id = "ops.shell_policy"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_ops_stack_versions_report_valid"
domain = "ops"
area = "stack"
gate = "ops"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.domains.ops.contracts"
callable = "check_ops_stack_versions_report_valid"
description = "require stack versions report to match tool versions SSOT"
severity = "error"
category = "check"
intent = "require stack versions report to match tool versions SSOT"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate ops/stack/versions.json from configs/ops/tool-versions.json."
legacy_id = "ops.stack_versions_report_valid"
groups = ["fast", "kube", "lint", "ops", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_adjective_allowlist_budget"
domain = "policies"
area = "adjective"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_adjective_allowlist_budget"
description = "enforce adjective allowlist ratchet budget"
severity = "error"
category = "check"
intent = "enforce adjective allowlist ratchet budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep adjective allowlist empty or within ratchet budget."
legacy_id = "policies.adjective_allowlist_budget"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_adjectives_repo_clean"
domain = "policies"
area = "adjectives"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_adjectives_repo_clean"
description = "forbid forbidden adjectives across tracked files"
severity = "error"
category = "check"
intent = "forbid forbidden adjectives across tracked files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Replace forbidden adjectives with neutral wording."
legacy_id = "policies.adjectives_repo_clean"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_budget_approval_time_bounded"
domain = "policies"
area = "budget"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_budget_approval_time_bounded"
description = "require budget loosening approvals to be time bounded"
severity = "error"
category = "check"
intent = "require budget loosening approvals to be time bounded"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Set valid non-expired bounded expiry in budget-loosening-approval.json."
legacy_id = "policies.budget_approval_time_bounded"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_budget_relaxation_requires_approval"
domain = "policies"
area = "budget"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_budget_relaxation_requires_approval"
description = "require explicit approval for any budget relaxation"
severity = "error"
category = "check"
intent = "require explicit approval for any budget relaxation"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Set budget-loosening-approval.json with approved=true and approval_id when relaxations exist."
legacy_id = "policies.budget_relaxation_requires_approval"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_budget_relaxations_expiry_and_issue"
domain = "policies"
area = "budget"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_budget_relaxations_expiry_and_issue"
description = "require budget relaxation entries to include issue and expiry"
severity = "error"
category = "check"
intent = "require budget relaxation entries to include issue and expiry"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Set issue=<tracker id> and non-expired expiry for every exception in budget-relaxations.json."
legacy_id = "policies.budget_relaxations_expiry_and_issue"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_all_entries_have_owner_issue_expiry"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_all_entries_have_owner_issue_expiry"
description = "require bypass entries to include owner, issue id, and expiry metadata"
severity = "error"
category = "check"
intent = "require bypass entries to include owner, issue id, and expiry metadata"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add owner/issue/expiry metadata to bypass entries."
legacy_id = "policies.bypass_all_entries_have_owner_issue_expiry"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_budget"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_budget"
description = "enforce ratcheted bypass entry count budget"
severity = "error"
category = "check"
intent = "enforce ratcheted bypass entry count budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce bypass count or update budget intentionally."
legacy_id = "policies.bypass_budget"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_budget_trend"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_budget_trend"
description = "enforce bypass budget trend gate"
severity = "error"
category = "check"
intent = "enforce bypass budget trend gate"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce bypass budget usage or update budget intentionally with approval."
legacy_id = "policies.bypass_budget_trend"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_count_nonincreasing"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_bypass_count_nonincreasing"
description = "enforce migration gate: bypass count must not increase"
severity = "error"
category = "check"
intent = "enforce migration gate: bypass count must not increase"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce bypass count or intentionally update baseline in one reviewed change."
legacy_id = "policies.bypass_count_nonincreasing"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_count_nonincreasing_hard"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_bypass_count_nonincreasing"
description = "hard fail invariant: bypass count must not increase"
severity = "error"
category = "check"
intent = "hard fail invariant: bypass count must not increase"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce bypass count or intentionally update baseline in one reviewed change."
legacy_id = "policies.bypass_count_nonincreasing_hard"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_entry_matches_nothing"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_entry_matches_nothing"
description = "fail if wildcard bypass entry matches nothing"
severity = "error"
category = "check"
intent = "fail if wildcard bypass entry matches nothing"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Tighten or remove stale wildcard bypass entries."
legacy_id = "policies.bypass_entry_matches_nothing"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_entry_matches_too_broad"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_entry_matches_too_broad"
description = "fail if wildcard bypass entry matches too broadly"
severity = "error"
category = "check"
intent = "fail if wildcard bypass entry matches too broadly"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Narrow wildcard bypass scope to intended paths only."
legacy_id = "policies.bypass_entry_matches_too_broad"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_entry_paths_exist"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_entry_paths_exist"
description = "fail if bypass entry points to missing file/path"
severity = "error"
category = "check"
intent = "fail if bypass entry points to missing file/path"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix or remove stale bypass references to missing paths."
legacy_id = "policies.bypass_entry_paths_exist"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_expiry_max_horizon"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_expiry_max_horizon"
description = "enforce bypass expiry horizon limit"
severity = "error"
category = "check"
intent = "enforce bypass expiry horizon limit"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep expiry within max horizon or add explicit approval."
legacy_id = "policies.bypass_expiry_max_horizon"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_expiry_not_past"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_expiry_not_past"
description = "forbid expired bypass entries"
severity = "error"
category = "check"
intent = "forbid expired bypass entries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove or renew expired bypass entries."
legacy_id = "policies.bypass_expiry_not_past"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_files_scoped"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_bypass_files_scoped"
description = "ensure bypass files are scoped under configs/policy"
severity = "error"
category = "check"
intent = "ensure bypass files are scoped under configs/policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move bypass files into configs/policy or remove them."
legacy_id = "policies.bypass_files_scoped"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_hard_gate"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_bypass_hard_gate"
description = "fail when bypass hard gate is enabled and any bypass entries exist"
severity = "error"
category = "check"
intent = "fail when bypass hard gate is enabled and any bypass entries exist"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove all bypass entries or disable hard gate until ready to enforce zero-bypass milestone."
legacy_id = "policies.bypass_hard_gate"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_has_expiry"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_has_expiry"
description = "require bypass entries to declare expiry"
severity = "error"
category = "check"
intent = "require bypass entries to declare expiry"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add non-expired expiry to each bypass entry."
legacy_id = "policies.bypass_has_expiry"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_has_owner"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_has_owner"
description = "require bypass entries to declare owner"
severity = "error"
category = "check"
intent = "require bypass entries to declare owner"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add valid owner to each bypass entry."
legacy_id = "policies.bypass_has_owner"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_has_reason"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_has_reason"
description = "require specific bypass reasons and forbid vague `because` entries"
severity = "error"
category = "check"
intent = "require specific bypass reasons and forbid vague `because` entries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add specific justifications and avoid vague `because` reasons."
legacy_id = "policies.bypass_has_reason"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_has_test_coverage"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_bypass_has_test_coverage"
description = "require bypass entries to have declared validating test coverage"
severity = "error"
category = "check"
intent = "require bypass entries to have declared validating test coverage"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Map bypass sources/entries to validating tests in configs/policy/bypass-test-coverage.json."
legacy_id = "policies.bypass_has_test_coverage"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_has_ticket_or_doc_ref"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_has_ticket_or_doc_ref"
description = "require bypass entries to link issue id or local doc reference"
severity = "error"
category = "check"
intent = "require bypass entries to link issue id or local doc reference"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add issue_id or reference a local docs/ADR policy document."
legacy_id = "policies.bypass_has_ticket_or_doc_ref"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_ids_unique"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_bypass_ids_unique"
description = "require unique bypass IDs across policy files"
severity = "error"
category = "check"
intent = "require unique bypass IDs across policy files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Deduplicate bypass IDs/keys across configs/policy."
legacy_id = "policies.bypass_ids_unique"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_inventory_deterministic"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_inventory_deterministic"
description = "require deterministic bypass inventory output ordering"
severity = "error"
category = "check"
intent = "require deterministic bypass inventory output ordering"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep bypass inventory files and entries stably ordered."
legacy_id = "policies.bypass_inventory_deterministic"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_inventory_growth_requires_ticket"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_inventory_growth_requires_ticket"
description = "fail inventory growth without explicit bypass approval/ticket entry"
severity = "error"
category = "check"
intent = "fail inventory growth without explicit bypass approval/ticket entry"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add explicit bypass approval in configs/policy/bypass-new-entry-approvals.json or reduce bypass count."
legacy_id = "policies.bypass_inventory_growth_requires_ticket"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_inventory_present"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_inventory_present"
description = "require bypass inventory registry and sources to exist"
severity = "error"
category = "check"
intent = "require bypass inventory registry and sources to exist"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Create bypass inventory SSOT registry/types and keep it in sync."
legacy_id = "policies.bypass_inventory_present"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_inventory_schema_valid"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_inventory_schema_valid"
description = "validate bypass inventory sources against schemas"
severity = "error"
category = "check"
intent = "validate bypass inventory sources against schemas"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix malformed bypass JSON/TOML inventory sources or schema drift."
legacy_id = "policies.bypass_inventory_schema_valid"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_issue_id_format"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_issue_id_format"
description = "enforce bypass issue id format"
severity = "error"
category = "check"
intent = "enforce bypass issue id format"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use ISSUE-<TOKEN> issue id format."
legacy_id = "policies.bypass_issue_id_format"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_mainline_strict_mode"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_bypass_mainline_strict_mode"
description = "optional strict mode: fail on any bypass entry when enabled"
severity = "error"
category = "check"
intent = "optional strict mode: fail on any bypass entry when enabled"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Enable only after bypass count reaches zero or acceptable strict milestone."
legacy_id = "policies.bypass_mainline_strict_mode"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_new_entries_forbidden"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_new_entries_forbidden"
description = "forbid new bypass entries unless explicitly approved"
severity = "error"
category = "check"
intent = "forbid new bypass entries unless explicitly approved"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce bypass count or add temporary approvals in configs/policy/bypass-new-entry-approvals.json."
legacy_id = "policies.bypass_new_entries_forbidden"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_no_blank_justifications"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_no_blank_justifications"
description = "forbid blank bypass justifications"
severity = "error"
category = "check"
intent = "forbid blank bypass justifications"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add concise non-empty justifications for bypass entries."
legacy_id = "policies.bypass_no_blank_justifications"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_no_direct_script_runs"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_no_direct_script_runs"
description = "forbid bypasses for direct script runs policy"
severity = "error"
category = "check"
intent = "forbid bypasses for direct script runs policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove direct-script-run bypasses and use atlasctl commands."
legacy_id = "policies.bypass_no_direct_script_runs"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_no_network_guard"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_no_network_guard"
description = "forbid bypasses for network guard policy"
severity = "error"
category = "check"
intent = "forbid bypasses for network guard policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove network-guard bypasses and use explicit network policy flags."
legacy_id = "policies.bypass_no_network_guard"
groups = ["fast", "network", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_no_new_files"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_no_new_files"
description = "forbid unregistered new bypass files under configs/policy"
severity = "error"
category = "check"
intent = "forbid unregistered new bypass files under configs/policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Register or remove newly introduced bypass files."
legacy_id = "policies.bypass_no_new_files"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_no_security_or_pinning"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_no_security_or_pinning"
description = "forbid bypasses in security and image pinning policy areas"
severity = "error"
category = "check"
intent = "forbid bypasses in security and image pinning policy areas"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove bypasses for security/image pinning policy areas."
legacy_id = "policies.bypass_no_security_or_pinning"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_no_unpinned_images"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_no_unpinned_images"
description = "forbid bypasses for unpinned images policy"
severity = "error"
category = "check"
intent = "forbid bypasses for unpinned images policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove unpinned-image bypasses and pin images."
legacy_id = "policies.bypass_no_unpinned_images"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_owner_in_owners_registry"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_owner_in_owners_registry"
description = "ensure bypass owners resolve to owner registry ids"
severity = "error"
category = "check"
intent = "ensure bypass owners resolve to owner registry ids"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use owner ids in configs/meta/owners.json or configured aliases."
legacy_id = "policies.bypass_owner_in_owners_registry"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_policy_name_known"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_policy_name_known"
description = "require bypass policy/rule names to be known"
severity = "error"
category = "check"
intent = "require bypass policy/rule names to be known"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use declared policy or rule names."
legacy_id = "policies.bypass_policy_name_known"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_readme_complete"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_readme_complete"
description = "require configs/policy README to list every bypass source file"
severity = "error"
category = "check"
intent = "require configs/policy README to list every bypass source file"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update configs/policy/README.md with complete bypass source list."
legacy_id = "policies.bypass_readme_complete"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_readme_sorted"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_readme_sorted"
description = "require bypass source list in configs/policy README to be sorted"
severity = "error"
category = "check"
intent = "require bypass source list in configs/policy README to be sorted"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Sort bypass file entries in configs/policy/README.md."
legacy_id = "policies.bypass_readme_sorted"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_removal_milestones_defined"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_bypass_removal_milestones_defined"
description = "require bypass removal milestone SSOT file"
severity = "error"
category = "check"
intent = "require bypass removal milestone SSOT file"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Define removal milestones in configs/policy/bypass-removal-milestones.json."
legacy_id = "policies.bypass_removal_milestones_defined"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_removal_plan_required"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_removal_plan_required"
description = "require removal plans for bypass entries"
severity = "error"
category = "check"
intent = "require removal plans for bypass entries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add removal_plan for each bypass entry."
legacy_id = "policies.bypass_removal_plan_required"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_replacement_mechanism"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_replacement_mechanism"
description = "require replacement_mechanism on bypass entries"
severity = "error"
category = "check"
intent = "require replacement_mechanism on bypass entries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add replacement_mechanism to bypass entries."
legacy_id = "policies.bypass_replacement_mechanism"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_schema_valid"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_schema_valid"
description = "validate bypass JSON sources against schemas"
severity = "error"
category = "check"
intent = "validate bypass JSON sources against schemas"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix malformed bypass JSON or schema drift."
legacy_id = "policies.bypass_schema_valid"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_scope_valid"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_scope_valid"
description = "enforce valid bypass scope"
severity = "error"
category = "check"
intent = "enforce valid bypass scope"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use only documented bypass scopes."
legacy_id = "policies.bypass_scope_valid"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_severity_expiry_windows"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_severity_expiry_windows"
description = "require tighter expiry windows for P0/P1 bypasses"
severity = "error"
category = "check"
intent = "require tighter expiry windows for P0/P1 bypasses"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce expiry horizon for P0/P1 bypasses."
legacy_id = "policies.bypass_severity_expiry_windows"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_severity_levels"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_severity_levels"
description = "require bypass severity levels P0-P3"
severity = "error"
category = "check"
intent = "require bypass severity levels P0-P3"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add severity to bypass entries."
legacy_id = "policies.bypass_severity_levels"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_tokens_linked"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_bypass_tokens_linked"
description = "forbid ALLOWLIST/TEMP/HACK tokens without linked bypass ids"
severity = "error"
category = "check"
intent = "forbid ALLOWLIST/TEMP/HACK tokens without linked bypass ids"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Link tokens to OPS-BYPASS-* or ATLAS-EXC-* identifiers."
legacy_id = "policies.bypass_tokens_linked"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_bypass_usage_heatmap"
domain = "policies"
area = "bypass"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_bypass_usage_heatmap"
description = "emit bypass usage heatmap report"
severity = "error"
category = "check"
intent = "emit bypass usage heatmap report"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Review bypass usage report and reduce hotspots."
legacy_id = "policies.bypass_usage_heatmap"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_culprits_empty_on_release_tags"
domain = "policies"
area = "culprits"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_culprits_empty_on_release_tags"
description = "require zero policy culprits on release tags"
severity = "error"
category = "check"
intent = "require zero policy culprits on release tags"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Release tags must ship without bypass culprits."
legacy_id = "policies.culprits_empty_on_release_tags"
groups = ["ci", "fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_culprits_nonincrease_on_main"
domain = "policies"
area = "culprits"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_policies_culprits_nonincrease_on_main"
description = "forbid bypass count increases on main"
severity = "error"
category = "check"
intent = "forbid bypass count increases on main"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce or approve bypass growth before merging to main."
legacy_id = "policies.culprits_nonincrease_on_main"
groups = ["ci", "fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_dependency_exceptions_remove_by_issue"
domain = "policies"
area = "dependency"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_dependency_exceptions_remove_by_issue"
description = "require dependency exceptions to include remove_by and issue_id"
severity = "error"
category = "check"
intent = "require dependency exceptions to include remove_by and issue_id"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add `remove_by` and valid `issue_id` to dependency exceptions."
legacy_id = "policies.dependency_exceptions_remove_by_issue"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_no_inline_bypass_entries"
domain = "policies"
area = "no"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_no_inline_bypass_entries"
description = "forbid inline bypass metadata in source code"
severity = "error"
category = "check"
intent = "forbid inline bypass metadata in source code"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move bypass metadata to configs/policy files."
legacy_id = "policies.no_inline_bypass_entries"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_ops_allowlisted_literals_have_contract_tests"
domain = "policies"
area = "ops"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ops_allowlisted_literals_have_contract_tests"
description = "require allowlisted ops literals to link contract/necessity tests"
severity = "error"
category = "check"
intent = "require allowlisted ops literals to link contract/necessity tests"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add contract_test and necessity_test paths for every literal allowlist entry."
legacy_id = "policies.ops_allowlisted_literals_have_contract_tests"
groups = ["fast", "ops", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_ops_bypass_allowlist_files_have_owner"
domain = "policies"
area = "ops"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ops_bypass_allowlist_files_have_owner"
description = "require structured ops allowlist files to declare owners"
severity = "error"
category = "check"
intent = "require structured ops allowlist files to declare owners"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add top-level owner to ops/_meta/*allowlist.json files."
legacy_id = "policies.ops_bypass_allowlist_files_have_owner"
groups = ["fast", "ops", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_ops_bypass_entries_have_necessity_tests"
domain = "policies"
area = "ops"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ops_bypass_entries_have_necessity_tests"
description = "require structured ops bypass entries to link a necessity test"
severity = "error"
category = "check"
intent = "require structured ops bypass entries to link a necessity test"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add necessity_test paths for structured ops bypass entries."
legacy_id = "policies.ops_bypass_entries_have_necessity_tests"
groups = ["fast", "ops", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_ops_bypass_ledger_domains"
domain = "policies"
area = "ops"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ops_bypass_ledger_domains"
description = "require ops bypass ledger entries to be grouped by domain"
severity = "error"
category = "check"
intent = "require ops bypass ledger entries to be grouped by domain"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add a valid `domain` to each ops/_meta/bypass-ledger.json entry."
legacy_id = "policies.ops_bypass_ledger_domains"
groups = ["fast", "ops", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_ops_bypass_ledger_expiry_not_past"
domain = "policies"
area = "ops"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ops_bypass_ledger_expiry_not_past"
description = "fail expired ops bypass ledger entries"
severity = "error"
category = "check"
intent = "fail expired ops bypass ledger entries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove or renew expired ops bypass ledger entries."
legacy_id = "policies.ops_bypass_ledger_expiry_not_past"
groups = ["fast", "ops", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_ops_bypass_ledger_has_expiry"
domain = "policies"
area = "ops"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ops_bypass_ledger_has_expiry"
description = "require ops bypass ledger entries to declare expires_at"
severity = "error"
category = "check"
intent = "require ops bypass ledger entries to declare expires_at"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add expires_at to every ops/_meta/bypass-ledger.json entry."
legacy_id = "policies.ops_bypass_ledger_has_expiry"
groups = ["fast", "ops", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_ops_bypass_ledger_refs_present"
domain = "policies"
area = "ops"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ops_bypass_ledger_refs_present"
description = "require structured ops allowlist entries to reference ops bypass ledger ids"
severity = "error"
category = "check"
intent = "require structured ops allowlist entries to reference ops bypass ledger ids"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add valid bypass_id references and ledger entries in ops/_meta/bypass-ledger.json."
legacy_id = "policies.ops_bypass_ledger_refs_present"
groups = ["fast", "ops", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_ops_bypass_ledger_sorted"
domain = "policies"
area = "ops"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ops_bypass_ledger_sorted"
description = "require deterministic sorted ops bypass ledger"
severity = "error"
category = "check"
intent = "require deterministic sorted ops bypass ledger"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Sort ops/_meta/bypass-ledger.json entries by id."
legacy_id = "policies.ops_bypass_ledger_sorted"
groups = ["fast", "ops", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_ops_bypass_ledger_task_ids"
domain = "policies"
area = "ops"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.tools.make_enforcement"
callable = "check_ops_bypass_ledger_task_ids"
description = "require concrete refactor task ids on ops bypass ledger entries"
severity = "error"
category = "check"
intent = "require concrete refactor task ids on ops bypass ledger entries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add task_id to every ops/_meta/bypass-ledger.json entry."
legacy_id = "policies.ops_bypass_ledger_task_ids"
groups = ["fast", "ops", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_shell_network_fetch_allowlist_inline_meta"
domain = "policies"
area = "shell"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_shell_network_fetch_allowlist_inline_meta"
description = "require inline owner/why comments for network-fetch shell allowlist entries"
severity = "error"
category = "check"
intent = "require inline owner/why comments for network-fetch shell allowlist entries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Annotate every allowlist line with `# owner=<id>; why=<reason>`."
legacy_id = "policies.shell_network_fetch_allowlist_inline_meta"
groups = ["fast", "network", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_shell_probes_allowlist_inline_meta"
domain = "policies"
area = "shell"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_shell_probes_allowlist_inline_meta"
description = "require inline owner/why comments for shell probe allowlist entries"
severity = "error"
category = "check"
intent = "require inline owner/why comments for shell probe allowlist entries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Annotate every allowlist line with `# owner=<id>; why=<reason>`."
legacy_id = "policies.shell_probes_allowlist_inline_meta"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_policies_tests_bypass_dependency_marked"
domain = "policies"
area = "tests"
gate = "policies"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.domains.policies.make"
callable = "check_policies_tests_bypass_dependency_marked"
description = "require explicit marker when tests depend on bypass files"
severity = "error"
category = "check"
intent = "require explicit marker when tests depend on bypass files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add `# BYPASS_TEST_OK` marker to tests that intentionally read bypass files."
legacy_id = "policies.tests_bypass_dependency_marked"
groups = ["fast", "policies", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_python_lock_lockfile"
domain = "python"
area = "lock"
gate = "python"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_python_lock"
description = "validate python lock format"
severity = "error"
category = "check"
intent = "validate python lock format"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate and normalize python lock entries."
legacy_id = "python.lock"
groups = ["fast", "python", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_python_migration_exceptions_expiry"
domain = "python"
area = "migration"
gate = "python"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_python_migration_exceptions_expiry"
description = "fail on expired python migration exceptions"
severity = "error"
category = "check"
intent = "fail on expired python migration exceptions"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update or remove expired migration exceptions."
legacy_id = "python.migration_exceptions_expiry"
groups = ["fast", "python", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_budget_drift_approval"
domain = "repo"
area = "budget"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.commands.policies.runtime.culprits"
callable = "check_budget_drift_approval"
description = "forbid budget loosening without explicit approval marker"
severity = "error"
category = "check"
intent = "forbid budget loosening without explicit approval marker"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update configs/policy/atlasctl-budgets-baseline.json or add approved budget-loosening marker."
legacy_id = "repo.budget_drift_approval"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_canonical_concept_homes"
domain = "repo"
area = "canonical"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_shape"
callable = "check_canonical_concept_homes"
description = "forbid duplicate top-level concept packages for registry/runner/contracts/output"
severity = "error"
category = "check"
intent = "forbid duplicate top-level concept packages for registry/runner/contracts/output"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep only canonical concept homes: registry, suite, contracts, reporting."
legacy_id = "repo.canonical_concept_homes"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_check_impl_no_cli_imports"
domain = "repo"
area = "check"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.structure.check_structure"
callable = "check_check_impl_no_cli_imports"
description = "forbid direct CLI imports from check implementation files"
severity = "error"
category = "check"
intent = "forbid direct CLI imports from check implementation files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep check implementations pure and route CLI wiring through commands/cli modules."
legacy_id = "repo.check_impl_no_cli_imports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_check_test_coverage"
domain = "repo"
area = "check"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_check_test_coverage"
description = "ensure each registered check has test or golden coverage marker"
severity = "error"
category = "check"
intent = "ensure each registered check has test or golden coverage marker"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add test/golden references for uncovered checks."
legacy_id = "repo.check_test_coverage"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_checks_canonical_location"
domain = "repo"
area = "checks"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.structure.check_structure"
callable = "check_checks_canonical_location"
description = "require check implementations under atlasctl/checks canonical tree"
severity = "error"
category = "check"
intent = "require check implementations under atlasctl/checks canonical tree"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move check_*.py implementations under packages/atlasctl/src/atlasctl/checks/ or extend migration allowlist explicitly."
legacy_id = "repo.checks_canonical_location"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_checks_domain_split"
domain = "repo"
area = "checks"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_shape"
callable = "check_checks_domain_split"
description = "require canonical check domain tree (repo_shape/makefiles/ops/docs/observability/artifacts)"
severity = "error"
category = "check"
intent = "require canonical check domain tree (repo_shape/makefiles/ops/docs/observability/artifacts)"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Create or migrate domain packages under packages/atlasctl/src/atlasctl/checks/."
legacy_id = "repo.checks_domain_split"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_checks_import_lint"
domain = "repo"
area = "checks"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_checks_import_lint"
description = "enforce checks module import boundaries"
severity = "error"
category = "check"
intent = "enforce checks module import boundaries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Restrict checks imports to core/contracts/reporting/adapters/checks."
legacy_id = "repo.checks_import_lint"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_checks_no_cli_imports"
domain = "repo"
area = "checks"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_checks_no_cli_imports"
description = "forbid checks modules from importing cli layer"
severity = "error"
category = "check"
intent = "forbid checks modules from importing cli layer"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep checks pure and independent from cli modules."
legacy_id = "repo.checks_no_cli_imports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_checks_no_command_imports"
domain = "repo"
area = "checks"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_checks_no_command_imports"
description = "forbid checks from importing command modules"
severity = "error"
category = "check"
intent = "forbid checks from importing command modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move reusable logic from commands into runtime/registry modules consumed by both."
legacy_id = "repo.checks_no_command_imports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_checks_no_commands_check_imports"
domain = "repo"
area = "checks"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_checks_no_commands_check_imports"
description = "forbid checks modules from importing commands/check modules"
severity = "error"
category = "check"
intent = "forbid checks modules from importing commands/check modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep checks independent from command adapters; use shared runtime or registry modules."
legacy_id = "repo.checks_no_commands_check_imports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_checks_root_contract"
domain = "repo"
area = "checks"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_shape"
callable = "check_checks_root_contract"
description = "enforce checks root contract (single python root file and module cap)"
severity = "error"
category = "check"
intent = "enforce checks root contract (single python root file and module cap)"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep only __init__.py + registry artifacts at checks root and group modules under domain packages."
legacy_id = "repo.checks_root_contract"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_checks_tree_policy"
domain = "repo"
area = "checks"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.repo.enforcement.structure.checks_tree_policy"
callable = "check_checks_tree_policy"
description = "enforce checks tree depth, module-density budget, and naming hygiene"
severity = "error"
category = "check"
intent = "enforce checks tree depth, module-density budget, and naming hygiene"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split oversized checks directories with `atlasctl dev split-module` and remove misc/utils or duplicated area segments."
legacy_id = "repo.checks_tree_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ci_artifact_upload_policy"
domain = "repo"
area = "ci"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.workflow_contracts"
callable = "check_ci_artifact_upload_policy"
description = "enforce workflow artifact upload roots and always-on policy"
severity = "error"
category = "check"
intent = "enforce workflow artifact upload roots and always-on policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Upload artifacts only from approved roots and always use if: always()."
legacy_id = "repo.ci_artifact_upload_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ci_workflow_policy"
domain = "repo"
area = "ci"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.workflow_contracts"
callable = "check_ci_workflow_policy"
description = "enforce workflow command policy (make/atlasctl wrappers only)"
severity = "error"
category = "check"
intent = "enforce workflow command policy (make/atlasctl wrappers only)"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use make thin wrappers or ./bin/atlasctl in workflows; avoid python -m atlasctl and raw cargo commands."
legacy_id = "repo.ci_workflow_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_cli_argparse_policy"
domain = "repo"
area = "cli"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.argparse_policy"
callable = "check_argparse_policy"
description = "restrict direct argparse parser construction to canonical parser modules"
severity = "error"
category = "check"
intent = "restrict direct argparse parser construction to canonical parser modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move parser construction into cli/parser.py or commands/*/parser.py."
legacy_id = "repo.argparse_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_cli_canonical_paths"
domain = "repo"
area = "cli"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_cli_canonical_paths"
description = "enforce canonical cli parser/dispatch/output path"
severity = "error"
category = "check"
intent = "enforce canonical cli parser/dispatch/output path"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep parser in cli/main.py, dispatch in cli/dispatch.py, and payload formatting in cli/output.py."
legacy_id = "repo.cli_canonical_paths"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_cli_help_deterministic"
domain = "repo"
area = "cli"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_cli_help_output_deterministic"
description = "ensure atlasctl CLI help output is deterministic"
severity = "error"
category = "check"
intent = "ensure atlasctl CLI help output is deterministic"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep CLI help generation stable and free of timestamps."
legacy_id = "repo.cli_help_deterministic"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_cli_import_scope"
domain = "repo"
area = "cli"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_cli_import_scope"
description = "restrict cli imports to commands/core and approved runtime shims"
severity = "error"
category = "check"
intent = "restrict cli imports to commands/core and approved runtime shims"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route feature logic through commands; keep cli as parser/dispatch glue."
legacy_id = "repo.cli_import_scope"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_cli_main_loc_budget"
domain = "repo"
area = "cli"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.structure.check_structure"
callable = "check_cli_main_loc_budget"
description = "enforce LOC budget for cli/main.py"
severity = "error"
category = "check"
intent = "enforce LOC budget for cli/main.py"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move business logic into commands/runtime/engine modules and keep cli/main.py thin."
legacy_id = "repo.cli_main_loc_budget"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_cli_render_boundary"
domain = "repo"
area = "cli"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_cli_render_boundary"
description = "require cli error rendering to live in cli/render.py only"
severity = "error"
category = "check"
intent = "require cli error rendering to live in cli/render.py only"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Define render_error only in atlasctl/cli/render.py and import it from callers."
legacy_id = "repo.cli_render_boundary"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_cold_import_budget"
domain = "repo"
area = "cold"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_cold_import_budget"
description = "enforce cold import time budget for atlasctl package"
severity = "error"
category = "check"
intent = "enforce cold import time budget for atlasctl package"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce top-level imports and defer heavy initialization."
legacy_id = "repo.cold_import_budget"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_command_alias_budget"
domain = "repo"
area = "command"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_command_alias_budget"
description = "enforce command alias/name budget"
severity = "error"
category = "check"
intent = "enforce command alias/name budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove duplicate alias identifiers from command surface."
legacy_id = "repo.command_alias_budget"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_command_group_owners"
domain = "repo"
area = "command"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_command_group_owners"
description = "ensure every command group maps to a valid owner id"
severity = "error"
category = "check"
intent = "ensure every command group maps to a valid owner id"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update configs/meta/owners.json command_groups mapping and align with command registry owners."
legacy_id = "repo.command_group_owners"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_command_metadata_contract"
domain = "repo"
area = "command"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_command_metadata_contract"
description = "ensure command metadata includes touches/tools/effect declarations"
severity = "error"
category = "check"
intent = "ensure command metadata includes touches/tools/effect declarations"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add touches/tools/effect metadata in cli registry."
legacy_id = "repo.command_metadata_contract"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_command_module_cli_intent"
domain = "repo"
area = "command"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 250
module = "atlasctl.checks.repo.contracts.naming_hygiene"
callable = "check_command_module_cli_intent"
description = "enforce command.py modules as CLI entry shims only"
severity = "error"
category = "check"
intent = "enforce command.py modules as CLI entry shims only"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Ensure command.py files include configure_* parser and run_* command entrypoints."
legacy_id = "repo.command_module_cli_intent"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_command_ownership_docs"
domain = "repo"
area = "command"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_command_ownership_docs"
description = "ensure command owners are documented"
severity = "error"
category = "check"
intent = "ensure command owners are documented"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Document all command owners in packages/atlasctl/docs/ownership.md."
legacy_id = "repo.command_ownership_docs"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_command_scripts_registry"
domain = "repo"
area = "command"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_scripts_and_docker"
callable = "check_command_scripts_registry"
description = "enforce command-invoked shell scripts are registered with owner and valid naming"
severity = "error"
category = "check"
intent = "enforce command-invoked shell scripts are registered with owner and valid naming"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Register every command-invoked .sh in configs/scripts/registry.json with valid owner and naming."
legacy_id = "repo.command_scripts_registry"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_command_test_coverage"
domain = "repo"
area = "command"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_command_test_coverage"
description = "ensure each command has explicit test coverage marker"
severity = "error"
category = "check"
intent = "ensure each command has explicit test coverage marker"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add at least one test mentioning each command."
legacy_id = "repo.command_test_coverage"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_commands_check_no_domain_imports"
domain = "repo"
area = "commands"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_commands_check_no_domain_imports"
description = "forbid commands/check modules from importing domain checks directly"
severity = "error"
category = "check"
intent = "forbid commands/check modules from importing domain checks directly"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Resolve checks through checks.registry and selectors, not checks.domains modules."
legacy_id = "repo.commands_check_no_domain_imports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_commands_help_docs_drift"
domain = "repo"
area = "commands"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_command_help_docs_drift"
description = "check command help/docs drift"
severity = "error"
category = "check"
intent = "check command help/docs drift"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate docs/_generated/cli.md from current CLI surface."
legacy_id = "repo.command_help_docs_drift"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_commands_import_lint"
domain = "repo"
area = "commands"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_command_import_lint"
description = "enforce command module import boundaries"
severity = "error"
category = "check"
intent = "enforce command module import boundaries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Restrict command imports to core/contracts/checks/adapters/commands/cli."
legacy_id = "repo.command_import_lint"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_commands_no_check_impl_imports"
domain = "repo"
area = "commands"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_commands_no_check_impl_imports"
description = "forbid commands from importing check implementations directly"
severity = "error"
category = "check"
intent = "forbid commands from importing check implementations directly"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Resolve checks through registry and engine selectors rather than direct check module imports."
legacy_id = "repo.commands_no_check_impl_imports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_commands_surface_stability"
domain = "repo"
area = "commands"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_command_surface_stability"
description = "enforce strict command surface compatibility against commands golden"
severity = "error"
category = "check"
intent = "enforce strict command surface compatibility against commands golden"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate commands goldens intentionally via `python -m atlasctl.cli gen goldens`."
legacy_id = "repo.command_surface_stability"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_compileall_gate"
domain = "repo"
area = "compileall"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_compileall_gate"
description = "ensure atlasctl source compiles with compileall"
severity = "error"
category = "check"
intent = "ensure atlasctl source compiles with compileall"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Fix syntax/import issues until python -m compileall passes."
legacy_id = "repo.compileall_gate"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_config_generated_headers_and_checksums"
domain = "repo"
area = "config"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_config_compiler"
callable = "check_config_generated_headers_and_checksums"
description = "detect hand-edits/stale files under configs/_generated via headers and checksums"
severity = "error"
category = "check"
intent = "detect hand-edits/stale files under configs/_generated via headers and checksums"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Re-run `atlasctl configs gen` and avoid manual edits under configs/_generated."
legacy_id = "repo.config_generated_headers_and_checksums"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_config_generated_no_human_refs"
domain = "repo"
area = "config"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_config_compiler"
callable = "check_config_generated_no_human_refs"
description = "forbid human-facing docs/workflows/makefiles from referencing configs/_generated directly"
severity = "error"
category = "check"
intent = "forbid human-facing docs/workflows/makefiles from referencing configs/_generated directly"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reference `atlasctl configs ...` commands instead of configs/_generated paths."
legacy_id = "repo.config_generated_no_human_refs"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_config_lock_discipline"
domain = "repo"
area = "config"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_config_compiler"
callable = "check_config_lock_discipline"
description = "verify config compiler lock artifacts for toolchain/helm/pinned queries"
severity = "error"
category = "check"
intent = "verify config compiler lock artifacts for toolchain/helm/pinned queries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep toolchain/helm/pinned query lock artifacts present and valid."
legacy_id = "repo.config_lock_discipline"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_config_migration_cutoff_legacy_locations"
domain = "repo"
area = "config"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_config_compiler"
callable = "check_config_migration_cutoff_legacy_locations"
description = "forbid legacy config inventory locations after migration cutoff"
severity = "error"
category = "check"
intent = "forbid legacy config inventory locations after migration cutoff"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Delete legacy configs/inventory paths after new config pipeline is green."
legacy_id = "repo.config_migration_cutoff_legacy_locations"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_console_script_entry"
domain = "repo"
area = "console"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_console_script_entry"
description = "ensure atlasctl console script entry exists and points to callable target"
severity = "error"
category = "check"
intent = "ensure atlasctl console script entry exists and points to callable target"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Set [project.scripts] atlasctl = \"atlasctl.cli.main:main\" and ensure target is importable."
legacy_id = "repo.console_script_entry"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_contract_import_boundaries"
domain = "repo"
area = "contract"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_contract_import_boundaries"
description = "enforce contracts/core-contracts import boundaries"
severity = "error"
category = "check"
intent = "enforce contracts/core-contracts import boundaries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Commands/checks should import schema contracts from atlasctl.contracts only."
legacy_id = "repo.contract_import_boundaries"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_contracts_namespace_purpose"
domain = "repo"
area = "contracts"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 250
module = "atlasctl.checks.repo.contracts.naming_hygiene"
callable = "check_contracts_namespace_purpose"
description = "enforce contracts namespace for schema and validation modules only"
severity = "error"
category = "check"
intent = "enforce contracts namespace for schema and validation modules only"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep random non-schema logic out of atlasctl/contracts and move it to proper domains."
legacy_id = "repo.contracts_namespace_purpose"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_core_no_bash_subprocess"
domain = "repo"
area = "core"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.shell_policy"
callable = "check_core_no_bash_subprocess"
description = "forbid subprocess.run(['bash'|'sh', ...]) in core logic"
severity = "error"
category = "check"
intent = "forbid subprocess.run(['bash'|'sh', ...]) in core logic"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use core.exec wrappers; do not invoke bash/sh directly in core."
legacy_id = "repo.core_no_bash_subprocess"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_core_no_command_imports"
domain = "repo"
area = "core"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_core_no_command_imports"
description = "forbid core modules from importing command/cli layers"
severity = "error"
category = "check"
intent = "forbid core modules from importing command/cli layers"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep core independent from command and cli glue layers."
legacy_id = "repo.core_no_command_imports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dead_module_reachability"
domain = "repo"
area = "dead"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.tools.reachability"
callable = "check_dead_module_reachability_allowlist"
description = "enforce dead module candidates are explicitly allowlisted"
severity = "error"
category = "check"
intent = "enforce dead module candidates are explicitly allowlisted"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update configs/policy/dead-modules-allowlist.json with intended exceptions."
legacy_id = "repo.dead_module_reachability"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dead_modules"
domain = "repo"
area = "dead"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.tools.reachability"
callable = "check_dead_modules_report_runs"
description = "ensure dead modules analyzer runs and returns canonical payload"
severity = "error"
category = "check"
intent = "ensure dead modules analyzer runs and returns canonical payload"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep policies/dead_modules.py runnable and deterministic."
legacy_id = "repo.dead_modules"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dependency_declarations"
domain = "repo"
area = "dependency"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.repo.contracts.dependencies"
callable = "check_dependency_declarations"
description = "ensure pyproject dependency declarations match imports"
severity = "error"
category = "check"
intent = "ensure pyproject dependency declarations match imports"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add missing dependencies or remove unused declarations."
legacy_id = "repo.dependency_declarations"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dependency_gate_targets"
domain = "repo"
area = "dependency"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_dependency_gate_targets"
description = "ensure dependency gate make targets exist"
severity = "error"
category = "check"
intent = "ensure dependency gate make targets exist"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Define atlasctl/internal/deps/lock/atlasctl/internal/deps/sync/atlasctl/internal/deps/check-venv/atlasctl/internal/deps/cold-start in makefiles/atlasctl.mk."
legacy_id = "repo.dependency_gate_targets"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dependency_owner_justification"
domain = "repo"
area = "dependency"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_dependency_owner_justification"
description = "ensure each dependency has owner and justification"
severity = "error"
category = "check"
intent = "ensure each dependency has owner and justification"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add dependency ownership + justification entries in docs/deps.md."
legacy_id = "repo.dependency_owner_justification"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_deps_command_surface"
domain = "repo"
area = "deps"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_deps_command_surface"
description = "ensure atlasctl deps command surface is runnable"
severity = "error"
category = "check"
intent = "ensure atlasctl deps command surface is runnable"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Wire atlasctl deps parser/runner and keep command import path valid."
legacy_id = "repo.deps_command_surface"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_deps_workflow_doc"
domain = "repo"
area = "deps"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_deps_workflow_doc"
description = "ensure docs/deps.md matches chosen dependency workflow"
severity = "error"
category = "check"
intent = "ensure docs/deps.md matches chosen dependency workflow"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update docs/deps.md and keep requirements.in/requirements.lock.txt in sync."
legacy_id = "repo.deps_workflow_doc"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dir_budget_entries"
domain = "repo"
area = "dir"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.commands.policies.runtime.budgets.dir_entry_budgets"
callable = "check_dir_entry_budgets"
description = "enforce per-directory entries budget in atlasctl src/tests"
severity = "error"
category = "check"
intent = "enforce per-directory entries budget in atlasctl src/tests"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split crowded directories; required reading: packages/atlasctl/docs/architecture/how-to-split-a-module.md."
legacy_id = "repo.dir_budget_entries"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dir_budget_exceptions_documented"
domain = "repo"
area = "dir"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.commands.policies.runtime.culprits"
callable = "check_budget_exceptions_documented"
description = "ensure budget exceptions are documented"
severity = "error"
category = "check"
intent = "ensure budget exceptions are documented"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Document each budget exception path in packages/atlasctl/docs/architecture.md."
legacy_id = "repo.dir_budget_exceptions_documented"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dir_budget_exceptions_sorted"
domain = "repo"
area = "dir"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.commands.policies.runtime.culprits"
callable = "check_budget_exceptions_sorted"
description = "ensure budget exceptions are sorted deterministically"
severity = "error"
category = "check"
intent = "ensure budget exceptions are sorted deterministically"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Sort [[tool.atlasctl.budgets.exceptions]] entries by path in pyproject.toml."
legacy_id = "repo.dir_budget_exceptions_sorted"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dir_budget_loc"
domain = "repo"
area = "dir"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.commands.policies.runtime.budgets.dir_budgets"
callable = "check_loc_per_dir"
description = "enforce per-directory total LOC budget"
severity = "error"
category = "check"
intent = "enforce per-directory total LOC budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move unrelated files into domain subpackages to reduce dir-level LOC density."
legacy_id = "repo.dir_budget_loc"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dir_budget_modules"
domain = "repo"
area = "dir"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.commands.policies.runtime.budgets.dir_budgets"
callable = "check_modules_per_dir"
description = "enforce per-directory python module count budget"
severity = "error"
category = "check"
intent = "enforce per-directory python module count budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split high-density directories into intent-focused subpackages."
legacy_id = "repo.dir_budget_modules"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dir_budget_py_files"
domain = "repo"
area = "dir"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.commands.policies.runtime.budgets.dir_budgets"
callable = "check_py_files_per_dir"
description = "enforce per-directory python file count budget"
severity = "error"
category = "check"
intent = "enforce per-directory python file count budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split high-density directories and keep directory fan-in bounded."
legacy_id = "repo.dir_budget_py_files"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dir_budget_py_scope"
domain = "repo"
area = "dir"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.commands.policies.runtime.budgets.dir_entry_budgets"
callable = "check_py_files_per_dir_budget"
description = "enforce per-directory .py file budget in atlasctl src/tests (excluding __init__.py)"
severity = "error"
category = "check"
intent = "enforce per-directory .py file budget in atlasctl src/tests (excluding __init__.py)"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split module directories and keep <=10 python files per dir; see how-to-split-a-module.md."
legacy_id = "repo.dir_budget_py_scope"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dir_budget_shell_files"
domain = "repo"
area = "dir"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo"
callable = "<lambda>"
description = "enforce per-directory shell file count budget"
severity = "error"
category = "check"
intent = "enforce per-directory shell file count budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move shell scripts into approved layout/ops directories and split crowded directories."
legacy_id = "repo.dir_budget_shell_files"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_dir_count_trend_gate"
domain = "repo"
area = "dir"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.commands.policies.runtime.culprits"
callable = "check_critical_dir_count_trend"
description = "forbid critical directory file/module count drift above baseline"
severity = "error"
category = "check"
intent = "forbid critical directory file/module count drift above baseline"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split critical directories or update configs/policy/atlasctl-dir-count-baseline.json with approval."
legacy_id = "repo.dir_count_trend_gate"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_docs_no_ops_generated_refs"
domain = "repo"
area = "docs"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_docs_no_ops_generated_run_paths"
description = "disallow docs refs to ops generated runtime paths"
severity = "error"
category = "check"
intent = "disallow docs refs to ops generated runtime paths"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Replace generated runtime paths with canonical docs references."
legacy_id = "repo.docs_no_ops_generated_refs"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_duplicate_contract_assertions"
domain = "repo"
area = "duplicate"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_duplicate_contract_assertions"
description = "forbid duplicate contract assertions inside one test module"
severity = "error"
category = "check"
intent = "forbid duplicate contract assertions inside one test module"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Consolidate duplicate validate(schema) assertions into one test."
legacy_id = "repo.duplicate_contract_assertions"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_duplicate_script_names"
domain = "repo"
area = "duplicate"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_duplicate_script_names"
description = "forbid duplicate script stem names"
severity = "error"
category = "check"
intent = "forbid duplicate script stem names"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Rename colliding script names."
legacy_id = "repo.duplicate_script_names"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_effect_boundaries"
domain = "repo"
area = "effect"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.boundaries.effect_boundaries"
callable = "check_forbidden_effect_calls"
description = "forbid direct subprocess/fs/env/network effects outside core boundaries"
severity = "error"
category = "check"
intent = "forbid direct subprocess/fs/env/network effects outside core boundaries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route effects through core.exec/core.process/core.fs/core.runtime.env/core.network."
legacy_id = "repo.effect_boundaries"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_effect_boundary_exceptions_policy"
domain = "repo"
area = "effect"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.boundaries.effect_boundaries"
callable = "check_effect_boundary_exceptions_policy"
description = "enforce explicit sorted effect boundary exceptions with reasons"
severity = "error"
category = "check"
intent = "enforce explicit sorted effect boundary exceptions with reasons"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep configs/policy/effect-boundary-exceptions.json sorted and justified."
legacy_id = "repo.effect_boundary_exceptions_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_env_docs_present"
domain = "repo"
area = "env"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_env_docs_present"
description = "ensure docs/env.md exists and lists canonical env vars"
severity = "error"
category = "check"
intent = "ensure docs/env.md exists and lists canonical env vars"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Create docs/env.md and document canonical runtime environment variables."
legacy_id = "repo.env_docs_present"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_file_complexity_budget"
domain = "repo"
area = "file"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo"
callable = "<lambda>"
description = "enforce complexity heuristic budget in core/cli"
severity = "error"
category = "check"
intent = "enforce complexity heuristic budget in core/cli"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split high-complexity control flow and extract focused helpers."
legacy_id = "repo.file_complexity_budget"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_file_import_budget"
domain = "repo"
area = "file"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo"
callable = "<lambda>"
description = "enforce python import count budget per file"
severity = "error"
category = "check"
intent = "enforce python import count budget per file"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Reduce import fan-in and use lazy imports where needed."
legacy_id = "repo.file_import_budget"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_file_public_symbol_budget"
domain = "repo"
area = "file"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo"
callable = "<lambda>"
description = "enforce public symbol budget per module"
severity = "error"
category = "check"
intent = "enforce public symbol budget per module"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split dumping-ground modules and narrow __all__ exports."
legacy_id = "repo.file_public_symbol_budget"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_folder_intent_contract"
domain = "repo"
area = "folder"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_hygiene"
callable = "check_folder_intent_contract"
description = "require intent marker for checks directories"
severity = "error"
category = "check"
intent = "require intent marker for checks directories"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add README.md or check_*.py module in each checks directory."
legacy_id = "repo.folder_intent_contract"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_forbidden_adjectives"
domain = "repo"
area = "forbidden"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.repo.domains.forbidden_adjectives"
callable = "check_forbidden_adjectives"
description = "forbid banned wording across tracked repository files"
severity = "error"
category = "check"
intent = "forbid banned wording across tracked repository files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Replace banned wording or add explicit approval entries in configs/policy/forbidden-adjectives-approvals.json."
legacy_id = "repo.forbidden_adjectives"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_forbidden_root_files"
domain = "repo"
area = "forbidden"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.domains.repo_root.check_forbidden_root_files"
callable = "run"
description = "forbid junk files at repository root"
severity = "error"
category = "check"
intent = "forbid junk files at repository root"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove forbidden junk files from repository root."
legacy_id = "repo.forbidden_root_files"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_forbidden_root_names"
domain = "repo"
area = "forbidden"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.domains.repo_root.check_forbidden_root_names"
callable = "run"
description = "forbid legacy top-level root names"
severity = "error"
category = "check"
intent = "forbid legacy top-level root names"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove forbidden top-level legacy names from repository root."
legacy_id = "repo.forbidden_root_names"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_forbidden_top_dirs"
domain = "repo"
area = "forbidden"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.repo.native.modules.repo_checks_scripts_and_docker"
callable = "check_forbidden_top_dirs"
description = "forbid top-level forbidden directories"
severity = "error"
category = "check"
intent = "forbid top-level forbidden directories"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove forbidden root directories."
legacy_id = "repo.forbidden_top_dirs"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_generated_dirs_policy"
domain = "repo"
area = "generated"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_generated_dirs_policy"
description = "enforce canonical generated dirs list"
severity = "error"
category = "check"
intent = "enforce canonical generated dirs list"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep generated dirs to canonical locations (docs/_generated, ops/_generated, ops/_generated.example, artifacts/*)."
legacy_id = "repo.generated_dirs_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_import_smoke"
domain = "repo"
area = "import"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_import_smoke"
description = "ensure atlasctl package imports in minimal environment"
severity = "error"
category = "check"
intent = "ensure atlasctl package imports in minimal environment"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep top-level imports light and dependency-safe."
legacy_id = "repo.import_smoke"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_internal_commands_not_public"
domain = "repo"
area = "internal"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_internal_commands_not_public"
description = "ensure unstable/internal commands are not exposed in public docs"
severity = "error"
category = "check"
intent = "ensure unstable/internal commands are not exposed in public docs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Mark internal commands stable=false and exclude them from public docs."
legacy_id = "repo.internal_commands_not_public"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_internal_import_boundaries"
domain = "repo"
area = "internal"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_internal_import_boundaries"
description = "forbid atlasctl.internal imports outside internal namespace"
severity = "error"
category = "check"
intent = "forbid atlasctl.internal imports outside internal namespace"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route shared helpers through public modules instead of atlasctl.internal."
legacy_id = "repo.internal_import_boundaries"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_internal_utils_stdlib_only"
domain = "repo"
area = "internal"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.dependencies"
callable = "check_internal_utils_stdlib_only"
description = "prefer stdlib-only internal utility modules"
severity = "error"
category = "check"
intent = "prefer stdlib-only internal utility modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Replace third-party imports in atlasctl/internal with stdlib equivalents or add a justified exception."
legacy_id = "repo.internal_utils_stdlib_only"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_json_golden_conflicts"
domain = "repo"
area = "json"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_no_conflicting_json_goldens"
description = "forbid conflicting JSON goldens for the same schema surface"
severity = "error"
category = "check"
intent = "forbid conflicting JSON goldens for the same schema surface"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep one .json.golden per schema surface."
legacy_id = "repo.json_golden_conflicts"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_json_goldens_validate_schema"
domain = "repo"
area = "json"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_json_goldens_validate_schema"
description = "require schema validation in JSON golden tests"
severity = "error"
category = "check"
intent = "require schema validation in JSON golden tests"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Call contracts.validate() before asserting JSON golden snapshots."
legacy_id = "repo.json_goldens_validate_schema"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_json_output_deterministic_policy"
domain = "repo"
area = "json"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_json_output_deterministic_policy"
description = "enforce deterministic json.dumps sort_keys policy"
severity = "error"
category = "check"
intent = "enforce deterministic json.dumps sort_keys policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use core/runtime/serialize.dumps_json or pass sort_keys=True to json.dumps."
legacy_id = "repo.json_output_deterministic_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_layout_domain_alias_cleanup"
domain = "repo"
area = "layout"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 250
module = "atlasctl.checks.repo.contracts.naming_hygiene"
callable = "check_layout_domain_alias_cleanup"
description = "forbid deprecated layout registry aliases"
severity = "error"
category = "check"
intent = "forbid deprecated layout registry aliases"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use domain-specific check packages and remove deprecated checks/layout alias modules."
legacy_id = "repo.layout_domain_alias_cleanup"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_layout_domain_readmes"
domain = "repo"
area = "layout"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_shape"
callable = "check_layout_domain_readmes"
description = "ensure each layout check domain includes a README"
severity = "error"
category = "check"
intent = "ensure each layout check domain includes a README"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add README.md to each checks/layout/<domain>/ directory."
legacy_id = "repo.layout_domain_readmes"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_layout_no_legacy_imports"
domain = "repo"
area = "layout"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_shape"
callable = "check_layout_no_legacy_imports"
description = "forbid legacy imports in checks/layout modules"
severity = "error"
category = "check"
intent = "forbid legacy imports in checks/layout modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove atlasctl.legacy imports from layout checks."
legacy_id = "repo.layout_no_legacy_imports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_layout_no_shadow"
domain = "repo"
area = "layout"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.shell_policy"
callable = "check_no_layout_shadow_configs"
description = "enforce no-shadow config policy"
severity = "error"
category = "check"
intent = "enforce no-shadow config policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Resolve shadow config sources reported by atlasctl/layout/no_shadow.py."
legacy_id = "repo.layout_no_shadow"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_legacy_package_absent"
domain = "repo"
area = "legacy"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 250
module = "atlasctl.checks.repo.enforcement.legacy_guard"
callable = "check_legacy_package_absent"
description = "require atlasctl legacy package to be absent"
severity = "error"
category = "check"
intent = "require atlasctl legacy package to be absent"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Delete packages/atlasctl/src/atlasctl/legacy and migrate importers."
legacy_id = "repo.legacy_package_absent"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_legacy_zero_importers"
domain = "repo"
area = "legacy"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.tools.reachability"
callable = "check_no_legacy_importers"
description = "require zero importers of removed atlasctl legacy namespace"
severity = "error"
category = "check"
intent = "require zero importers of removed atlasctl legacy namespace"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove imports/references to atlasctl.legacy."
legacy_id = "repo.legacy_zero_importers"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_main_entrypoint_calls_app_main"
domain = "repo"
area = "main"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.structure.check_structure"
callable = "check_main_entrypoint_calls_app_main"
description = "require __main__ to delegate to atlasctl.app.main"
severity = "error"
category = "check"
intent = "require __main__ to delegate to atlasctl.app.main"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep __main__.py as a thin one-line app.main handoff."
legacy_id = "repo.main_entrypoint_calls_app_main"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_makefiles_no_deep_config_paths"
domain = "repo"
area = "makefiles"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_config_compiler"
callable = "check_makefiles_no_deep_config_paths"
description = "forbid deep hardcoded config paths in makefiles"
severity = "error"
category = "check"
intent = "forbid deep hardcoded config paths in makefiles"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route config resolution through atlasctl configs compiler commands."
legacy_id = "repo.makefiles_no_deep_config_paths"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_managed_artifact_write_roots"
domain = "repo"
area = "managed"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.boundaries.effect_boundaries"
callable = "check_managed_artifact_write_roots"
description = "enforce managed write roots under artifacts and reject out-of-root writes"
severity = "error"
category = "check"
intent = "enforce managed write roots under artifacts and reject out-of-root writes"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep managed write roots under artifacts/ and route writes through core.fs."
legacy_id = "repo.managed_artifact_write_roots"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_migration_progress_regression"
domain = "repo"
area = "migration"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_policies"
callable = "check_migration_progress_regression"
description = "forbid migration progress regression (no new legacy patterns)"
severity = "error"
category = "check"
intent = "forbid migration progress regression (no new legacy patterns)"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use ./bin/atlasctl in docs/makefiles and remove legacy migration wording."
legacy_id = "repo.migration_progress_regression"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_modern_no_legacy_imports"
domain = "repo"
area = "modern"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_no_modern_imports_from_legacy"
description = "forbid modern modules from importing atlasctl.legacy"
severity = "error"
category = "check"
intent = "forbid modern modules from importing atlasctl.legacy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Migrate callers to canonical modules under atlasctl.core/commands/checks."
legacy_id = "repo.modern_no_legacy_imports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_modern_no_legacy_obs_imports"
domain = "repo"
area = "modern"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_no_legacy_obs_imports_in_modern"
description = "forbid modern modules from importing atlasctl.legacy.obs"
severity = "error"
category = "check"
intent = "forbid modern modules from importing atlasctl.legacy.obs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Migrate observability imports to atlasctl.observability."
legacy_id = "repo.modern_no_legacy_obs_imports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_module_budget_domains"
domain = "repo"
area = "module"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.commands.policies.runtime.budgets.module_budgets"
callable = "check_modules_per_domain"
description = "enforce module count budget per top-level atlasctl domain"
severity = "error"
category = "check"
intent = "enforce module count budget per top-level atlasctl domain"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split high-density top-level domains and relocate modules by control-plane ownership."
legacy_id = "repo.module_budget_domains"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_module_size"
domain = "repo"
area = "module"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo.enforcement.package_shape"
callable = "check_module_size"
description = "enforce module size budget"
severity = "error"
category = "check"
intent = "enforce module size budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Split oversized modules into focused submodules."
legacy_id = "repo.module_size"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_modules_reachability"
domain = "repo"
area = "modules"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.tools.reachability"
callable = "check_repo_check_modules_registered"
description = "ensure repo check modules are imported and reachable via registry"
severity = "error"
category = "check"
intent = "ensure repo check modules are imported and reachable via registry"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Import new repo check modules in checks/repo/__init__.py."
legacy_id = "repo.check_module_reachability"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_network_default_deny"
domain = "repo"
area = "network"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_network_default_deny_policy"
description = "enforce network-forbidden-by-default command policy"
severity = "error"
category = "check"
intent = "enforce network-forbidden-by-default command policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Require explicit --allow-network for network-capable commands and keep default deny."
legacy_id = "repo.network_default_deny"
groups = ["fast", "network", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_adhoc_python"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1200
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_no_adhoc_python"
description = "forbid ad-hoc python files outside package boundaries"
severity = "error"
category = "check"
intent = "forbid ad-hoc python files outside package boundaries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Migrate ad-hoc python files into package modules."
legacy_id = "repo.no_adhoc_python"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_core_integration_dir"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_forbidden_core_integration_dir"
description = "forbid deprecated core/integration namespace"
severity = "error"
category = "check"
intent = "forbid deprecated core/integration namespace"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use top-level atlasctl.adapters for integration concerns."
legacy_id = "repo.no_core_integration_dir"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_deprecated_commands"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_no_deprecated_commands"
description = "forbid deprecated command surfaces before 0.1 release"
severity = "error"
category = "check"
intent = "forbid deprecated command surfaces before 0.1 release"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove compat/migration/legacy top-level commands before release."
legacy_id = "repo.no_deprecated_commands"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_deprecated_namespace_dirs"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_forbidden_deprecated_namespace_dirs"
description = "forbid deprecated atlasctl/check report obs directories"
severity = "error"
category = "check"
intent = "forbid deprecated atlasctl/check report obs directories"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove deprecated namespace directories and keep checks/reporting/observability as canonical roots."
legacy_id = "repo.no_deprecated_namespace_dirs"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_deprecated_namespaces"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_forbidden_deprecated_namespaces"
description = "forbid imports from atlasctl.check/report/obs namespaces"
severity = "error"
category = "check"
intent = "forbid imports from atlasctl.check/report/obs namespaces"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use atlasctl.checks and atlasctl.reporting canonical namespaces."
legacy_id = "repo.no_deprecated_namespaces"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_direct_bash_invocations"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_no_direct_bash_invocations"
description = "forbid direct bash script calls in docs/makefiles"
severity = "error"
category = "check"
intent = "forbid direct bash script calls in docs/makefiles"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use atlasctl commands instead of bash scripts/... invocations."
legacy_id = "repo.no_direct_bash_invocations"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_direct_env_reads_outside_runtime_env"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_no_direct_env_reads_outside_runtime_env"
description = "forbid direct env reads outside runtime env module"
severity = "error"
category = "check"
intent = "forbid direct env reads outside runtime env module"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use atlasctl runtime env helpers; only temporary allowlisted legacy callsites are permitted."
legacy_id = "repo.no_direct_env_reads_outside_runtime_env"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_direct_python_invocations"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_no_direct_python_invocations"
description = "forbid direct python script calls in docs/makefiles"
severity = "error"
category = "check"
intent = "forbid direct python script calls in docs/makefiles"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use atlasctl command entrypoints instead of python path/to/script.py."
legacy_id = "repo.no_direct_python_invocations"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_direct_script_runs"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.repo_root.check_no_direct_script_runs"
callable = "run"
description = "forbid direct scripts/ or ops/ invocations in GitHub workflows"
severity = "error"
category = "check"
intent = "forbid direct scripts/ or ops/ invocations in GitHub workflows"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Invoke workflows through make targets instead of direct scripts/ops paths."
legacy_id = "repo.no_direct_script_runs"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_duplicate_command_impl_patterns"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_no_duplicate_command_implementation_patterns"
description = "forbid duplicate command implementation patterns"
severity = "error"
category = "check"
intent = "forbid duplicate command implementation patterns"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Pick one command implementation pattern and remove duplicate modules."
legacy_id = "repo.no_duplicate_command_impl_patterns"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_duplicate_command_names"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_no_duplicate_command_names"
description = "ensure command names are unique"
severity = "error"
category = "check"
intent = "ensure command names are unique"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Rename duplicate command/alias entries."
legacy_id = "repo.no_duplicate_command_names"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_empty_dirs_or_pointless_nests"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_hygiene"
callable = "check_no_empty_dirs_or_pointless_nests"
description = "forbid empty directories and pointless single-child nesting under src/atlasctl"
severity = "error"
category = "check"
intent = "forbid empty directories and pointless single-child nesting under src/atlasctl"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Delete empty directories and flatten single-child nests without modules or README markers."
legacy_id = "repo.no_empty_dirs_or_pointless_nests"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_empty_packages"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_hygiene"
callable = "check_no_empty_packages"
description = "forbid empty non-legacy packages without README"
severity = "error"
category = "check"
intent = "forbid empty non-legacy packages without README"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add a real module or README.md to package directories."
legacy_id = "repo.no_empty_packages"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_environ_mutation"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo.enforcement.cwd_usage"
callable = "check_no_environ_mutation"
description = "forbid os.environ mutation in checks runtime"
severity = "error"
category = "check"
intent = "forbid os.environ mutation in checks runtime"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Pass environment values through context/capabilities and avoid mutating process env."
legacy_id = "repo.no_environ_mutation"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_exec_python_outside_packages"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1500
module = "atlasctl.checks.repo.native.modules.repo_checks_scripts_and_docker"
callable = "check_no_executable_python_outside_packages"
description = "forbid executable python outside package boundaries"
severity = "error"
category = "check"
intent = "forbid executable python outside package boundaries"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move script into package module or remove executable bit."
legacy_id = "repo.no_exec_python_outside_packages"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_forbidden_paths"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.repo_root.check_forbidden_paths"
callable = "run"
description = "forbid legacy root path references in tracked text surfaces"
severity = "error"
category = "check"
intent = "forbid legacy root path references in tracked text surfaces"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove forbidden legacy path references from make/docs/workflows."
legacy_id = "repo.no_forbidden_paths"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_large_binary_files"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_no_large_binary_files"
description = "forbid large tracked binary files except approved fixtures"
severity = "error"
category = "check"
intent = "forbid large tracked binary files except approved fixtures"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Store large binaries outside git or document approved fixture exceptions."
legacy_id = "repo.no_large_binary_files"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_legacy_command_names"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_no_legacy_command_names"
description = "forbid command names containing legacy"
severity = "error"
category = "check"
intent = "forbid command names containing legacy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove legacy command names and keep internal legacy reporting under `atlasctl internal legacy inventory`."
legacy_id = "repo.no_legacy_command_names"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_legacy_module_paths"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_no_legacy_module_paths"
description = "forbid legacy module paths in atlasctl src tree"
severity = "error"
category = "check"
intent = "forbid legacy module paths in atlasctl src tree"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Delete or move modules out of any */legacy/* path."
legacy_id = "repo.no_legacy_module_paths"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_models_shim_when_model_canonical"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_no_models_shim_when_model_canonical"
description = "forbid `models` shim modules when canonical package is `model`"
severity = "error"
category = "check"
intent = "forbid `models` shim modules when canonical package is `model`"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Migrate imports/usages to `core/model` and remove `models` compatibility modules."
legacy_id = "repo.no_models_shim_when_model_canonical"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_nested_same_name_packages"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_shape"
callable = "check_no_nested_same_name_packages"
description = "forbid nested package segments with same name"
severity = "error"
category = "check"
intent = "forbid nested package segments with same name"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Flatten nested same-name package segments (example: checks/checks)."
legacy_id = "repo.no_nested_same_name_packages"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_ops_generated_placeholder"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_no_ops_generated_placeholder"
description = "forbid placeholder generated dirs"
severity = "error"
category = "check"
intent = "forbid placeholder generated dirs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove placeholder generated files/directories."
legacy_id = "repo.no_ops_generated_placeholder"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_os_getcwd_outside_runtime_context"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_no_os_getcwd_outside_runtime_context"
description = "forbid os.getcwd outside runtime context resolution"
severity = "error"
category = "check"
intent = "forbid os.getcwd outside runtime context resolution"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Resolve cwd via runtime context/paths and add temporary allowlist entries only during migration."
legacy_id = "repo.no_os_getcwd_outside_runtime_context"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_path_cwd_usage"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo.enforcement.cwd_usage"
callable = "check_no_path_cwd_usage"
description = "forbid Path.cwd usage outside core.runtime.repo_root.py"
severity = "error"
category = "check"
intent = "forbid Path.cwd usage outside core.runtime.repo_root.py"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use ctx.repo_root or core.runtime.repo_root helpers."
legacy_id = "repo.no_path_cwd_usage"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_path_dot_runtime"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo.enforcement.cwd_usage"
callable = "check_no_path_dot_in_runtime"
description = "forbid dot-path usage in checks runtime"
severity = "error"
category = "check"
intent = "forbid dot-path usage in checks runtime"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Resolve paths from explicit repo_root context instead of current-directory dot paths."
legacy_id = "repo.no_path_dot_runtime"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_placeholder_module_names"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_hygiene"
callable = "check_no_placeholder_module_names"
description = "forbid placeholder-like module filenames in modern code"
severity = "error"
category = "check"
intent = "forbid placeholder-like module filenames in modern code"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Rename modules to intent-revealing names."
legacy_id = "repo.no_placeholder_module_names"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_python_caches_committed"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_repo_no_python_caches_committed"
description = "forbid committed python caches under packages/atlasctl"
severity = "error"
category = "check"
intent = "forbid committed python caches under packages/atlasctl"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove tracked __pycache__/.pyc/.pytest_cache files and keep them ignored."
legacy_id = "repo.no_python_caches_committed"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_repo_root_path_literals"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_no_repo_root_path_literals"
description = "forbid repo-root Path literals outside runtime paths/context"
severity = "error"
category = "check"
intent = "forbid repo-root Path literals outside runtime paths/context"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use runtime paths/context instead of Path(\"configs/...\"), Path(\"ops/...\"), etc."
legacy_id = "repo.no_repo_root_path_literals"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_scripts_dir"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 250
module = "atlasctl.checks.repo.domains.scripts_dir"
callable = "check_scripts_dir_absent"
description = "forbid legacy root scripts dir"
severity = "error"
category = "check"
intent = "forbid legacy root scripts dir"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Migrate scripts into atlasctl package commands."
legacy_id = "repo.no_scripts_dir"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_tracked_ops_generated"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_ops_generated_tracked"
description = "ensure ops/_generated has no tracked files"
severity = "error"
category = "check"
intent = "ensure ops/_generated has no tracked files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Untrack generated files and add to ignore policy."
legacy_id = "repo.no_tracked_ops_generated"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_tracked_timestamp_paths"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_tracked_timestamp_paths"
description = "forbid timestamp-like tracked paths"
severity = "error"
category = "check"
intent = "forbid timestamp-like tracked paths"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove timestamped tracked files/dirs."
legacy_id = "repo.no_tracked_timestamp_paths"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_undocumented_help_commands"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_no_undocumented_help_commands"
description = "forbid undocumented commands in public help surface"
severity = "error"
category = "check"
intent = "forbid undocumented commands in public help surface"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Document command in packages/atlasctl/docs/commands/index.md or mark it internal."
legacy_id = "repo.no_undocumented_help_commands"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_wildcard_exports"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 250
module = "atlasctl.checks.repo.contracts.naming_hygiene"
callable = "check_no_wildcard_exports"
description = "forbid wildcard imports/exports outside public surface"
severity = "error"
category = "check"
intent = "forbid wildcard imports/exports outside public surface"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Replace wildcard imports with explicit module references and __all__."
legacy_id = "repo.no_wildcard_exports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_no_xtask_refs"
domain = "repo"
area = "no"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1000
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_no_xtask_refs"
description = "forbid xtask references"
severity = "error"
category = "check"
intent = "forbid xtask references"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove xtask references and use atlasctl workflows."
legacy_id = "repo.no_xtask_refs"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_configs_newline_policy"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_ops_configs_deterministic_newlines"
description = "enforce LF-only and no trailing whitespace in ops/configs text files"
severity = "error"
category = "check"
intent = "enforce LF-only and no trailing whitespace in ops/configs text files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Normalize files to LF and remove trailing whitespace."
legacy_id = "repo.ops_configs_newline_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_examples_immutable"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_ops_examples_immutable"
description = "enforce immutability of ops examples"
severity = "error"
category = "check"
intent = "enforce immutability of ops examples"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Restore example fixtures to committed canonical content."
legacy_id = "repo.ops_examples_immutable"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_helm_render_inventory_drift"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_ops_workflows"
callable = "check_ops_helm_render_inventory_drift"
description = "enforce ops helm/chart metadata alignment with inventory + values schema presence"
severity = "error"
category = "check"
intent = "enforce ops helm/chart metadata alignment with inventory + values schema presence"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Align ops/inventory/layers.json release metadata with Chart.yaml and keep values.schema.json valid."
legacy_id = "repo.ops_helm_render_inventory_drift"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_helm_versions_pinned"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_ops_workflows"
callable = "check_ops_helm_versions_pinned"
description = "forbid floating helm chart versions and require helm pin manifest shape"
severity = "error"
category = "check"
intent = "forbid floating helm chart versions and require helm pin manifest shape"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use explicit chart/app versions and keep configs/ops/pins/helm.json helm mapping present."
legacy_id = "repo.ops_helm_versions_pinned"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_images_pinned_to_digests_policy"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_ops_workflows"
callable = "check_ops_images_pinned_to_digests_policy"
description = "enforce policy-driven image digest pinning for ops toolchain inventory"
severity = "error"
category = "check"
intent = "enforce policy-driven image digest pinning for ops toolchain inventory"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Pin toolchain image refs to digests or update configs/policy/ops-image-digest-policy.json intentionally."
legacy_id = "repo.ops_images_pinned_to_digests_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_inventory_schema_coverage"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_config_compiler"
callable = "check_ops_inventory_schema_coverage"
description = "require schema coverage/contracts-map entries for ops inventory files"
severity = "error"
category = "check"
intent = "require schema coverage/contracts-map entries for ops inventory files"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add ops/inventory/contracts-map.json entries and schemas for new inventory files."
legacy_id = "repo.ops_inventory_schema_coverage"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_load_thresholds_exist_for_every_suite"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_ops_workflows"
callable = "check_ops_load_thresholds_exist_for_every_suite"
description = "require per-suite load threshold files under ops/load/thresholds"
severity = "error"
category = "check"
intent = "require per-suite load threshold files under ops/load/thresholds"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add ops/load/thresholds/<suite>.thresholds.json for each suite in ops/load/suites/suites.json."
legacy_id = "repo.ops_load_thresholds_exist_for_every_suite"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_namespaces_inventory_manifest_agreement"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_ops_workflows"
callable = "check_ops_namespaces_inventory_manifest_agreement"
description = "ensure namespace SSOT/inventory/chart values agree"
severity = "error"
category = "check"
intent = "ensure namespace SSOT/inventory/chart values agree"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Align configs/ops/namespaces.json, ops/inventory/layers.json, and chart values namespace."
legacy_id = "repo.ops_namespaces_inventory_manifest_agreement"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_observability_assets_public_surfaces"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_ops_workflows"
callable = "check_ops_observability_assets_for_public_surfaces"
description = "ensure observability assets reference every public ops service surface"
severity = "error"
category = "check"
intent = "ensure observability assets reference every public ops service surface"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add observability assets/contracts/dashboards/alerts for missing services."
legacy_id = "repo.ops_observability_assets_public_surfaces"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_ports_and_surfaces_contract"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_ops_workflows"
callable = "check_ops_ports_and_surfaces_contract"
description = "ensure ports and surface inventory align with configs and docs"
severity = "error"
category = "check"
intent = "ensure ports and surface inventory align with configs and docs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Align ops/inventory/layers.json ports with configs/ops/ports.json and keep docs/operations/e2e/stack.md updated."
legacy_id = "repo.ops_ports_and_surfaces_contract"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_ops_workflow_evidence_path_policy"
domain = "repo"
area = "ops"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.modules.repo_checks_ops_workflows"
callable = "check_ops_workflow_evidence_path_policy"
description = "enforce first-class ops workflow outputs under artifacts/runs/<run_id>/ops"
severity = "error"
category = "check"
intent = "enforce first-class ops workflow outputs under artifacts/runs/<run_id>/ops"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use atlasctl.ops.workflows.paths ops_run_root/ops_run_area_dir helpers."
legacy_id = "repo.ops_workflow_evidence_path_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_optional_dependency_groups"
domain = "repo"
area = "optional"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_optional_dependency_groups"
description = "ensure required pyproject optional-dependency groups exist and are non-empty"
severity = "error"
category = "check"
intent = "ensure required pyproject optional-dependency groups exist and are non-empty"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add required [project.optional-dependencies] groups with entries: dev/ci/test/ops/docs."
legacy_id = "repo.optional_dependency_groups"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_optional_dependency_usage_gates"
domain = "repo"
area = "optional"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo.contracts.dependencies"
callable = "check_optional_dependency_usage_gates"
description = "forbid optional dependency usage without explicit allowlist gate"
severity = "error"
category = "check"
intent = "forbid optional dependency usage without explicit allowlist gate"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move dependency to base deps or add justified exception in configs/policy/dependency-exceptions.json."
legacy_id = "repo.optional_dependency_usage_gates"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_output_format_stability"
domain = "repo"
area = "output"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_output_format_stability"
description = "enforce output formatting stability across OS"
severity = "error"
category = "check"
intent = "enforce output formatting stability across OS"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use LF-only snapshots and avoid platform-dependent line separator logic."
legacy_id = "repo.output_format_stability"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_package_has_module_or_readme"
domain = "repo"
area = "package"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_hygiene"
callable = "check_package_has_module_or_readme"
description = "require each non-legacy package to contain a module or README"
severity = "error"
category = "check"
intent = "require each non-legacy package to contain a module or README"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add module implementation or README.md to document empty package."
legacy_id = "repo.package_has_module_or_readme"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_package_max_depth"
domain = "repo"
area = "package"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.commands.policies.runtime.budgets.tree_depth"
callable = "check_tree_depth"
description = "enforce maximum atlasctl package nesting depth"
severity = "error"
category = "check"
intent = "enforce maximum atlasctl package nesting depth"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Flatten deep package hierarchies under packages/atlasctl/src/atlasctl."
legacy_id = "repo.package_max_depth"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_packages_atlasctl_root_shape"
domain = "repo"
area = "packages"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_shape"
callable = "check_atlasctl_package_root_shape"
description = "require atlasctl package root to contain only allowed files and directories"
severity = "error"
category = "check"
intent = "require atlasctl package root to contain only allowed files and directories"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep only LICENSE, README.md, docs/, pyproject.toml, src/, tests/ (+ optional requirements input/lock) in packages/atlasctl root."
legacy_id = "repo.atlasctl_package_root_shape"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_packaging_metadata_completeness"
domain = "repo"
area = "packaging"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_packaging_metadata_completeness"
description = "ensure pyproject packaging metadata is complete (classifiers and project URLs)"
severity = "error"
category = "check"
intent = "ensure pyproject packaging metadata is complete (classifiers and project URLs)"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add required project classifiers and URLs in packages/atlasctl/pyproject.toml."
legacy_id = "repo.packaging_metadata_completeness"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_public_api_doc_exists"
domain = "repo"
area = "public"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 250
module = "atlasctl.checks.repo.contracts.naming_hygiene"
callable = "check_public_api_doc_exists"
description = "require canonical PUBLIC_API.md documentation file"
severity = "error"
category = "check"
intent = "require canonical PUBLIC_API.md documentation file"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add packages/atlasctl/docs/PUBLIC_API.md and keep API docs there."
legacy_id = "repo.public_api_doc_exists"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_public_api_exports"
domain = "repo"
area = "public"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.public_api"
callable = "check_public_api_exports"
description = "enforce docs/PUBLIC_API.md coverage for __all__ exports"
severity = "error"
category = "check"
intent = "enforce docs/PUBLIC_API.md coverage for __all__ exports"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Document exported symbols in docs/PUBLIC_API.md or remove them from __all__."
legacy_id = "repo.public_api_exports"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_public_commands_docs_index"
domain = "repo"
area = "public"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_public_commands_docs_index"
description = "ensure public commands are listed in docs/commands/index.md"
severity = "error"
category = "check"
intent = "ensure public commands are listed in docs/commands/index.md"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add missing public commands to packages/atlasctl/docs/commands/index.md."
legacy_id = "repo.public_commands_docs_index"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_pyproject_minimalism"
domain = "repo"
area = "pyproject"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_pyproject_minimalism"
description = "forbid dead/unknown pyproject tool keys"
severity = "error"
category = "check"
intent = "forbid dead/unknown pyproject tool keys"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove unknown [tool.*] sections or document and allow them explicitly."
legacy_id = "repo.pyproject_minimalism"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_pyproject_no_duplicate_tool_config"
domain = "repo"
area = "pyproject"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_pyproject_no_duplicate_tool_config"
description = "forbid duplicate tool config files beside pyproject"
severity = "error"
category = "check"
intent = "forbid duplicate tool config files beside pyproject"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Remove duplicated tool config files and keep pyproject as SSOT."
legacy_id = "repo.pyproject_no_duplicate_tool_config"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_pyproject_required_blocks"
domain = "repo"
area = "pyproject"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_pyproject_required_blocks"
description = "ensure pyproject contains required project and tool config blocks"
severity = "error"
category = "check"
intent = "ensure pyproject contains required project and tool config blocks"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add required [project]/[tool.*] blocks to packages/atlasctl/pyproject.toml."
legacy_id = "repo.pyproject_required_blocks"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_python_module_help"
domain = "repo"
area = "python"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_python_module_help"
description = "ensure python -m atlasctl --help works"
severity = "error"
category = "check"
intent = "ensure python -m atlasctl --help works"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Ensure atlasctl package entrypoint remains runnable with python -m atlasctl."
legacy_id = "repo.python_module_help"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_python_requires_version_and_ci"
domain = "repo"
area = "python"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_python_requires_version_and_ci"
description = "enforce pyproject requires-python and CI python version alignment"
severity = "error"
category = "check"
intent = "enforce pyproject requires-python and CI python version alignment"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Pin requires-python to >=3.11 and set actions/setup-python python-version: 3.11 in CI."
legacy_id = "repo.python_requires_version_and_ci"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_registry_definition_boundary"
domain = "repo"
area = "registry"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_registry_definition_boundary"
description = "forbid registry modules from importing command/cli/suite/check runtime modules"
severity = "error"
category = "check"
intent = "forbid registry modules from importing command/cli/suite/check runtime modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep registry declarative and independent from runtime command/check implementations."
legacy_id = "repo.registry_definition_boundary"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_registry_generated_readonly"
domain = "repo"
area = "registry"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.structure.check_structure"
callable = "check_registry_generated_readonly"
description = "require REGISTRY.generated.json to be generator-owned"
severity = "error"
category = "check"
intent = "require REGISTRY.generated.json to be generator-owned"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Run ./bin/atlasctl dev regen-registry and commit the regenerated artifacts."
legacy_id = "repo.registry_generated_readonly"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_registry_single_source"
domain = "repo"
area = "registry"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_registry_single_source"
description = "enforce registry-only command/check registration points"
severity = "error"
category = "check"
intent = "enforce registry-only command/check registration points"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Declare commands only in cli/surface_registry.py and checks only in checks/*/__init__.py."
legacy_id = "repo.registry_single_source"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_required_target_shape"
domain = "repo"
area = "required"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.required_proof"
callable = "check_required_target_shape"
description = "enforce package root minimalism and src no-symlink target shape"
severity = "error"
category = "check"
intent = "enforce package root minimalism and src no-symlink target shape"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep package-root items minimal and remove symlinks from src tree."
legacy_id = "repo.required_target_shape"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_requirements_artifact_policy"
domain = "repo"
area = "requirements"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_requirements_artifact_policy"
description = "ensure only route-B requirements artifacts exist"
severity = "error"
category = "check"
intent = "ensure only route-B requirements artifacts exist"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep only requirements.in and requirements.lock.txt in package root for route-B workflow."
legacy_id = "repo.requirements_artifact_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_requirements_sync"
domain = "repo"
area = "requirements"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_requirements_sync_with_pyproject"
description = "ensure requirements files match pyproject dev dependency declarations"
severity = "error"
category = "check"
intent = "ensure requirements files match pyproject dev dependency declarations"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Regenerate requirements.lock.txt from requirements.in and keep pyproject optional-deps dev aligned."
legacy_id = "repo.requirements_sync"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_root_determinism"
domain = "repo"
area = "root"
gate = "repo"
owner = "platform"
speed = "slow"
timeout_ms = 2000
module = "atlasctl.checks.domains.repo_root.check_root_determinism"
callable = "run"
description = "verify deterministic root output across two make root runs"
severity = "error"
category = "check"
intent = "verify deterministic root output across two make root runs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Stabilize generated root outputs so consecutive runs are identical."
legacy_id = "repo.root_determinism"
groups = ["repo", "required", "slow"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_root_shape"
domain = "repo"
area = "root"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 500
module = "atlasctl.checks.domains.repo_root.check_root_shape"
callable = "run"
description = "enforce repository root shape contract from root_whitelist.json"
severity = "error"
category = "check"
intent = "enforce repository root shape contract from root_whitelist.json"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Align root entries with checks/tools/root_shape_whitelist.json."
legacy_id = "repo.root_shape"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_runcontext_single_builder"
domain = "repo"
area = "runcontext"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.import_policy"
callable = "check_runcontext_single_builder"
description = "ensure RunContext is built only in core/context.py"
severity = "error"
category = "check"
intent = "ensure RunContext is built only in core/context.py"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use RunContext.from_args and avoid constructing context-like objects elsewhere."
legacy_id = "repo.runcontext_single_builder"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_script_help_coverage"
domain = "repo"
area = "script"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1500
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_script_help"
description = "validate script help contract coverage"
severity = "error"
category = "check"
intent = "validate script help contract coverage"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add --help contract output to required scripts."
legacy_id = "repo.script_help_coverage"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_script_ownership_coverage"
domain = "repo"
area = "script"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 1500
module = "atlasctl.checks.repo.native.runtime_modules.repo_native_runtime_core"
callable = "check_script_ownership"
description = "validate script ownership coverage"
severity = "error"
category = "check"
intent = "validate script ownership coverage"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Update ownership metadata for uncovered scripts."
legacy_id = "repo.script_ownership_coverage"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_shell_docs_present"
domain = "repo"
area = "shell"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.shell_policy"
callable = "check_shell_docs_present"
description = "require shell directory README and policy docs"
severity = "error"
category = "check"
intent = "require shell directory README and policy docs"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add README.md and POLICY.md under ops/vendor/layout-checks."
legacy_id = "repo.shell_docs_present"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_shell_invocation_boundary"
domain = "repo"
area = "shell"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.shell_policy"
callable = "check_shell_invocation_via_core_exec"
description = "forbid direct shell subprocess invocations outside core.exec"
severity = "error"
category = "check"
intent = "forbid direct shell subprocess invocations outside core.exec"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Route shell invocations through core.exec wrapper helpers."
legacy_id = "repo.shell_invocation_boundary"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_shell_location_policy"
domain = "repo"
area = "shell"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.shell_policy"
callable = "check_shell_location_policy"
description = "forbid shell scripts under atlasctl python package tree"
severity = "error"
category = "check"
intent = "forbid shell scripts under atlasctl python package tree"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move shell scripts to ops/vendor/layout-checks or port them to python."
legacy_id = "repo.shell_location_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_shell_no_direct_python"
domain = "repo"
area = "shell"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.shell_policy"
callable = "check_shell_no_python_direct_calls"
description = "forbid direct python invocation in shell scripts"
severity = "error"
category = "check"
intent = "forbid direct python invocation in shell scripts"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Call atlasctl entrypoints instead of python commands in shell scripts."
legacy_id = "repo.shell_no_direct_python"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_shell_no_network_fetch"
domain = "repo"
area = "shell"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.shell_policy"
callable = "check_shell_no_network_download_tools"
description = "forbid direct curl/wget usage in shell scripts"
severity = "error"
category = "check"
intent = "forbid direct curl/wget usage in shell scripts"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use atlasctl-managed fetch entrypoints or explicit allow annotation."
legacy_id = "repo.shell_no_network_fetch"
groups = ["fast", "network", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_shell_readonly_checks"
domain = "repo"
area = "shell"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.shell_policy"
callable = "check_shell_scripts_readonly"
description = "forbid direct file writes in layout shell checks"
severity = "error"
category = "check"
intent = "forbid direct file writes in layout shell checks"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep layout shell checks read-only and route outputs through stdout/stderr only."
legacy_id = "repo.shell_readonly_checks"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_shell_script_budget"
domain = "repo"
area = "shell"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.shell_policy"
callable = "check_shell_script_budget"
description = "cap total shell script count in repository"
severity = "error"
category = "check"
intent = "cap total shell script count in repository"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Port shell scripts to Python modules and delete duplicates."
legacy_id = "repo.shell_script_budget"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_shell_strict_mode"
domain = "repo"
area = "shell"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.shell_policy"
callable = "check_shell_headers_and_strict_mode"
description = "require shell header and strict mode"
severity = "error"
category = "check"
intent = "require shell header and strict mode"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add #!/usr/bin/env bash and set -euo pipefail to all shell scripts."
legacy_id = "repo.shell_strict_mode"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_single_canonical_runtime_adapters"
domain = "repo"
area = "single"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 400
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_single_canonical_runtime_adapters"
description = "enforce one canonical runtime adapter module per capability"
severity = "error"
category = "check"
intent = "enforce one canonical runtime adapter module per capability"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep a single canonical paths/exec/exec_shell/network module and mark temporary facades as LEGACY."
legacy_id = "repo.single_canonical_runtime_adapters"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_single_registry_module"
domain = "repo"
area = "single"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 250
module = "atlasctl.checks.repo.contracts.naming_hygiene"
callable = "check_single_registry_module"
description = "enforce a single canonical registry.py module"
severity = "error"
category = "check"
intent = "enforce a single canonical registry.py module"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep only packages/atlasctl/src/atlasctl/checks/registry.py as registry.py."
legacy_id = "repo.single_registry_module"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_single_runner_module"
domain = "repo"
area = "single"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 250
module = "atlasctl.checks.repo.contracts.naming_hygiene"
callable = "check_single_runner_module"
description = "enforce a single canonical runner.py module"
severity = "error"
category = "check"
intent = "enforce a single canonical runner.py module"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep only packages/atlasctl/src/atlasctl/checks/runner.py as runner.py."
legacy_id = "repo.single_runner_module"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_stable_command_no_breaking_changes"
domain = "repo"
area = "stable"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.command_contracts"
callable = "check_stable_command_no_breaking_changes"
description = "forbid breaking changes in stable command contracts"
severity = "error"
category = "check"
intent = "forbid breaking changes in stable command contracts"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Avoid breaking stable command metadata or intentionally refresh commands goldens."
legacy_id = "repo.stable_command_no_breaking_changes"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_subprocess_boundary"
domain = "repo"
area = "subprocess"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.boundaries.effect_boundaries"
callable = "check_subprocess_boundary"
description = "restrict subprocess imports to core execution boundary"
severity = "error"
category = "check"
intent = "restrict subprocess imports to core execution boundary"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Use core.exec/core.process for subprocess calls."
legacy_id = "repo.subprocess_boundary"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_suite_inventory_policy"
domain = "repo"
area = "suite"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.suite_inventory"
callable = "check_suite_inventory_policy"
description = "validate suite inventory coverage and required tag policy"
severity = "error"
category = "check"
intent = "validate suite inventory coverage and required tag policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Assign checks to suites and ensure required complete suites include all required checks."
legacy_id = "repo.suite_inventory_policy"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_suite_marker_rules"
domain = "repo"
area = "suite"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_suite_marker_rules"
description = "enforce check-suite-coverage marker file policy"
severity = "error"
category = "check"
intent = "enforce check-suite-coverage marker file policy"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep tests/goldens/check/check-suite-coverage.markers.txt sorted, unique, and only registered check ids."
legacy_id = "repo.suite_marker_rules"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_test_determinism_patterns"
domain = "repo"
area = "test"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_test_determinism_patterns"
description = "forbid nondeterministic test patterns without explicit marker"
severity = "error"
category = "check"
intent = "forbid nondeterministic test patterns without explicit marker"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Replace unstable time/random/env usage or annotate with determinism-allow: reason."
legacy_id = "repo.test_determinism_patterns"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_test_no_duplicated_coverage"
domain = "repo"
area = "test"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_no_duplicated_coverage_paths"
description = "forbid duplicated golden coverage across multiple tests"
severity = "error"
category = "check"
intent = "forbid duplicated golden coverage across multiple tests"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep one canonical test per golden surface and remove duplicate assertions."
legacy_id = "repo.test_no_duplicated_coverage"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_test_no_unmarked_network"
domain = "repo"
area = "test"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_no_unmarked_test_network"
description = "forbid test network usage unless marked"
severity = "error"
category = "check"
intent = "forbid test network usage unless marked"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add @pytest.mark.network or '# network-test: allowed' near intentional network tests."
legacy_id = "repo.test_no_unmarked_network"
groups = ["fast", "network", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_test_ownership_tags"
domain = "repo"
area = "test"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_test_ownership_tags"
description = "ensure tests declare ownership tags or live in domain directories"
severity = "error"
category = "check"
intent = "ensure tests declare ownership tags or live in domain directories"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add '# test-domain: <domain>' header to top-level tests."
legacy_id = "repo.test_ownership_tags"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_test_skip_justification"
domain = "repo"
area = "test"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_no_unjustified_skips"
description = "forbid skipped tests without justification and expiry markers"
severity = "error"
category = "check"
intent = "forbid skipped tests without justification and expiry markers"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add skip-justification and skip-expires markers near skip usage."
legacy_id = "repo.test_skip_justification"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_test_taxonomy_layout"
domain = "repo"
area = "test"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_test_taxonomy_layout"
description = "enforce test taxonomy and placement invariants"
severity = "error"
category = "check"
intent = "enforce test taxonomy and placement invariants"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Place tests under domain folders and align declared # test-taxonomy with placement."
legacy_id = "repo.test_taxonomy_layout"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_test_write_sandbox"
domain = "repo"
area = "test"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_test_write_sandbox"
description = "forbid writes outside temp/artifacts isolation sandbox in tests"
severity = "error"
category = "check"
intent = "forbid writes outside temp/artifacts isolation sandbox in tests"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Write via tmp_path/tempfile or artifacts/isolate run directories only."
legacy_id = "repo.test_write_sandbox"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_tests_no_duplicate_expectations"
domain = "repo"
area = "tests"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.test_guardrails"
callable = "check_test_duplicate_expectations"
description = "forbid duplicate test function names across test modules"
severity = "error"
category = "check"
intent = "forbid duplicate test function names across test modules"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Rename duplicated test_* functions to avoid conflicting expectations."
legacy_id = "repo.tests_no_duplicate_expectations"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_tmp_paths_under_artifacts"
domain = "repo"
area = "tmp"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 800
module = "atlasctl.checks.repo.native.modules.repo_checks_make_and_layout"
callable = "check_tmp_paths_outside_artifacts"
description = "forbid committed tmp paths outside artifacts/"
severity = "error"
category = "check"
intent = "forbid committed tmp paths outside artifacts/"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Move tmp paths under artifacts/ or rename to a durable path."
legacy_id = "repo.tmp_paths_under_artifacts"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_top_level_package_group_mapping"
domain = "repo"
area = "top"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.package_shape"
callable = "check_top_level_package_group_mapping"
description = "require top-level atlasctl packages to map to control-plane groups"
severity = "error"
category = "check"
intent = "require top-level atlasctl packages to map to control-plane groups"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Map new top-level packages to configs/dev/ops/policies/internal in package_shape policy."
legacy_id = "repo.top_level_package_group_mapping"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_top_level_structure"
domain = "repo"
area = "top"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.enforcement.structure.check_top_level_structure"
callable = "check_top_level_structure"
description = "enforce atlasctl top-level package intent and budget"
severity = "error"
category = "check"
intent = "enforce atlasctl top-level package intent and budget"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Keep atlasctl top-level package set within STRUCTURE.md contract."
legacy_id = "repo.top_level_structure"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_type_coverage"
domain = "repo"
area = "type"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 600
module = "atlasctl.checks.repo.contracts.type_coverage"
callable = "check_type_coverage"
description = "enforce minimum type coverage in core/contracts"
severity = "error"
category = "check"
intent = "enforce minimum type coverage in core/contracts"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add function annotations in core/contracts until the threshold is met."
legacy_id = "repo.type_coverage"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_version_matches_pyproject"
domain = "repo"
area = "version"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.contracts.pyproject_contracts"
callable = "check_version_matches_pyproject"
description = "ensure atlasctl package version and --version output match pyproject"
severity = "error"
category = "check"
intent = "ensure atlasctl package version and --version output match pyproject"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Align atlasctl.__version__ with pyproject [project].version and keep --version output stable outside git repos."
legacy_id = "repo.version_matches_pyproject"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]

[[checks]]
id = "checks_repo_workflows_targets_exist"
domain = "repo"
area = "workflows"
gate = "repo"
owner = "platform"
speed = "fast"
timeout_ms = 300
module = "atlasctl.checks.repo.native.workflow_contracts"
callable = "check_workflows_targets_exist"
description = "ensure make targets used by workflows exist"
severity = "error"
category = "check"
intent = "ensure make targets used by workflows exist"
remediation_short = "Review check output and apply the documented fix."
remediation_link = "packages/atlasctl/docs/checks/check-id-migration-rules.md"
result_code = "CHECK_GENERIC"
fix_hint = "Add missing make targets or update workflows to existing targets."
legacy_id = "repo.workflows_targets_exist"
groups = ["fast", "repo", "required"]
effects = ["fs_read"]
external_tools = []
evidence = []
writes_allowed_roots = ["artifacts/evidence/"]
