{
  "schema_version": 1,
  "exceptions": [
    {
      "id": "ATLAS-LAYER-EXC-0001",
      "rule": "e2e_only_calls_ops_run_entrypoints",
      "path": "ops/e2e/scripts/*.sh",
      "owner": "ops-platform",
      "issue": "ISSUE-ATLAS-LAYER-EXC-0001",
      "expiry": "2026-06-30",
      "justification": "Legacy e2e wrappers still call stack and k8s internals during migration to ops/run entrypoints.",
      "replacement_mechanism": "remove_legacy_shim",
      "severity": "P2"
    },
    {
      "id": "ATLAS-LAYER-EXC-0002",
      "rule": "e2e_only_calls_ops_run_entrypoints",
      "path": "ops/e2e/realdata/*.sh",
      "owner": "ops-platform",
      "issue": "ISSUE-ATLAS-LAYER-EXC-0002",
      "expiry": "2026-06-30",
      "justification": "Realdata drill scripts still carry direct wiring to k8s helper internals.",
      "replacement_mechanism": "remove_legacy_shim",
      "severity": "P2"
    },
    {
      "id": "ATLAS-LAYER-EXC-0003",
      "rule": "forbid_helm_upgrade_install_in_e2e",
      "path": "ops/e2e/realdata/*.sh",
      "owner": "ops-platform",
      "issue": "ISSUE-ATLAS-LAYER-EXC-0003",
      "expiry": "2026-06-30",
      "justification": "Realdata upgrade and rollback drills still run direct Helm actions until moved under ops/run.",
      "replacement_mechanism": "refactor_module_boundary",
      "severity": "P2"
    },
    {
      "id": "ATLAS-LAYER-EXC-0005",
      "rule": "forbid_e2e_fixup_kubectl_calls",
      "path": "packages/atlasctl/src/atlasctl/commands/ops/e2e/runtime/deploy_atlas.py",
      "owner": "ops-platform",
      "issue": "ISSUE-ATLAS-LAYER-EXC-0005",
      "expiry": "2026-06-30",
      "justification": "Legacy deploy wrapper still contains cleanup fixups while migration to canonical deploy path completes.",
      "replacement_mechanism": "refactor_module_boundary",
      "severity": "P2"
    },
    {
      "id": "ATLAS-LAYER-EXC-0006",
      "rule": "forbid_e2e_cluster_resource_mutations",
      "path": "ops/e2e/runner/*.sh",
      "owner": "ops-platform",
      "issue": "ISSUE-ATLAS-LAYER-EXC-0006",
      "expiry": "2026-06-30",
      "justification": "Runner store sync and cleanup scripts still use mutating kubectl operations.",
      "replacement_mechanism": "refactor_module_boundary",
      "severity": "P2"
    },
    {
      "id": "ATLAS-LAYER-EXC-0008",
      "rule": "forbid_e2e_fixup_kubectl_calls",
      "path": "ops/e2e/runner/*.sh",
      "owner": "ops-platform",
      "issue": "ISSUE-ATLAS-LAYER-EXC-0008",
      "expiry": "2026-06-30",
      "justification": "Runner cleanup flow still includes delete-pod fixups pending migration to run-level contracts.",
      "replacement_mechanism": "refactor_module_boundary",
      "severity": "P2"
    },
    {
      "id": "ATLAS-LAYER-EXC-0009",
      "rule": "e2e_only_calls_ops_run_entrypoints",
      "path": "ops/e2e/runner/*.sh",
      "owner": "ops-platform",
      "issue": "ISSUE-ATLAS-LAYER-EXC-0009",
      "expiry": "2026-06-30",
      "justification": "Runner scripts still source shared ops library helpers outside ops/run.",
      "replacement_mechanism": "refactor_module_boundary",
      "severity": "P2"
    },
    {
      "id": "ATLAS-LAYER-EXC-0010",
      "rule": "forbid_e2e_cluster_resource_mutations",
      "path": "packages/atlasctl/src/atlasctl/commands/ops/e2e/runtime/deploy_atlas.py",
      "owner": "ops-platform",
      "issue": "ISSUE-ATLAS-LAYER-EXC-0010",
      "expiry": "2026-06-30",
      "justification": "Legacy deploy wrapper still performs namespace and service mutation while migrating to run deploy path.",
      "replacement_mechanism": "refactor_module_boundary",
      "severity": "P2"
    },
    {
      "id": "ATLAS-LAYER-EXC-0007",
      "rule": "e2e_only_calls_ops_run_entrypoints",
      "path": "ops/e2e/k8s/tests/*.sh",
      "owner": "ops-platform",
      "issue": "ISSUE-ATLAS-LAYER-EXC-0007",
      "expiry": "2026-06-30",
      "justification": "Compatibility wrappers still forward into ops/k8s test internals.",
      "replacement_mechanism": "refactor_module_boundary",
      "severity": "P2"
    }
  ]
}
