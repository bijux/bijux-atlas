{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Atlas SLI Definition",
  "type": "object",
  "required": ["id", "name", "kind", "metric", "labels", "window", "source"],
  "additionalProperties": false,
  "properties": {
    "id": {"type": "string", "pattern": "^[a-z0-9-]+$"},
    "name": {"type": "string", "minLength": 3},
    "kind": {"type": "string", "enum": ["availability", "success-rate", "latency", "freshness", "overload"]},
    "metric": {"type": "string", "pattern": "^[a-zA-Z_:][a-zA-Z0-9_:]*$"},
    "labels": {
      "type": "object",
      "additionalProperties": {"type": "string", "minLength": 1}
    },
    "window": {"type": "string", "pattern": "^[0-9]+(m|h|d)$"},
    "source": {"type": "string", "enum": ["prometheus", "k6", "registry"]},
    "description": {"type": "string"}
  }
}
