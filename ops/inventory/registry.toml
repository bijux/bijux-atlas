schema_version = 1

[tags]
vocabulary = ["ops", "repo", "docs", "make", "lint", "internal", "fast", "slow"]

[[checks]]
id = "checks_configs_nextest_toml_present"
domain = "configs"
title = "nextest config exists under configs"
docs = "docs/development/tooling/rust-toolchain.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 600
visibility = "internal"

[[checks]]
id = "checks_configs_required_surface_paths"
domain = "configs"
title = "configs control-plane contract files exist"
docs = "configs/CONTRACT.md"
tags = ["internal", "fast"]
suites = ["deep", "configs"]
effects_required = ["fs_read"]
budget_ms = 600
visibility = "internal"

[[checks]]
id = "checks_configs_schema_paths_present"
domain = "configs"
title = "configs schema and contracts directories exist"
docs = "configs/CONTRACT.md"
tags = ["internal", "fast"]
suites = ["deep", "configs"]
effects_required = ["fs_read"]
budget_ms = 600
visibility = "internal"

[[checks]]
id = "checks_configs_security_deny_toml_present"
domain = "configs"
title = "cargo deny policy config exists under configs security"
docs = "docs/development/tooling/rust-toolchain.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 600
visibility = "internal"

[[checks]]
id = "checks_crate_docs_governance_contract"
domain = "docs"
title = "crate documentation governance contract is enforced"
docs = "docs/governance/metadata/crate-doc-governance.json"
tags = ["docs", "internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2000
visibility = "internal"

[[checks]]
id = "checks_crates_bijux_atlas_cli_owns_umbrella_dispatch"
domain = "crates"
title = "bijux atlas cli exclusively owns umbrella dispatch metadata"
docs = "docs/reference/contracts/plugins/spec.md"
tags = ["fast"]
suites = ["ci", "ci_fast", "local", "deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "public"

[[checks]]
id = "checks_crates_bijux_atlas_help_excludes_dev_commands"
domain = "crates"
title = "bijux atlas help does not expose dev command surfaces"
docs = "docs/reference/contracts/plugins/mode.md"
tags = ["fast"]
suites = ["ci", "ci_fast", "local", "deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "public"

[[checks]]
id = "checks_crates_bijux_atlas_reserved_verbs_exclude_dev"
domain = "crates"
title = "umbrella runtime tests reserve dev verb ownership"
docs = "docs/reference/contracts/plugins/spec.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_crates_bijux_dev_atlas_help_dispatch_present"
domain = "crates"
title = "bijux atlas routes dev control plane to bijux dev atlas help"
docs = "docs/reference/contracts/plugins/mode.md"
tags = ["fast"]
suites = ["ci", "ci_fast", "local", "deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "public"

[[checks]]
id = "checks_crates_bijux_dev_atlas_not_umbrella_binary"
domain = "crates"
title = "dev atlas crate does not define umbrella binary name"
docs = "docs/reference/contracts/plugins/mode.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_crates_command_namespace_ownership_unique"
domain = "crates"
title = "runtime and dev command namespaces have unique ownership"
docs = "docs/reference/contracts/plugins/mode.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_crates_dev_atlas_final_crate_set_contract"
domain = "crates"
title = "dev atlas final crate set contract is present"
docs = "ops/CONTROL_PLANE.md"
tags = ["repo", "internal"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_crates_plugin_conformance_binaries"
domain = "crates"
title = "runtime and dev binaries expose plugin metadata handshake command"
docs = "docs/reference/contracts/plugins/mode.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["subprocess"]
budget_ms = 8000
visibility = "internal"

[[checks]]
id = "checks_dockerfiles_under_canonical_directory_only"
domain = "docker"
title = "dockerfiles live under the canonical docker directory"
docs = "docker/README.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_docs_command_list_matches_contract"
domain = "docs"
title = "runtime command list doc matches runtime command contract"
docs = "docs/reference/contracts/plugins/mode.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_docs_command_surface_docs_exist"
domain = "docs"
title = "runtime and dev command surface docs are present"
docs = "docs/reference/contracts/plugins/mode.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_docs_configs_command_list_matches_snapshot"
domain = "docs"
title = "configs command list doc matches configs command snapshot"
docs = "docs/reference/contracts/plugins/mode.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 800
visibility = "internal"

[[checks]]
id = "checks_docs_control_plane_naming_contract"
domain = "docs"
title = "dev control plane contract freezes runtime and control-plane naming"
docs = "crates/bijux-dev-atlas/docs/CONTRACT.md"
tags = ["docs", "internal"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_docs_dev_command_list_matches_contract"
domain = "docs"
title = "dev command list doc matches dev help command contract"
docs = "docs/reference/contracts/plugins/mode.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_docs_file_naming_conventions"
domain = "docs"
title = "docs files follow deterministic naming conventions"
docs = "docs/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 3000
visibility = "internal"

[[checks]]
id = "checks_docs_index_links"
domain = "docs"
title = "docs index links must resolve"
docs = "docs/INDEX.md"
tags = ["docs", "fast"]
suites = ["docs_fast", "all_fast"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_docs_index_reachability_ledger"
domain = "docs"
title = "docs markdown pages are reachable from index graph and docs ledger is current"
docs = "docs/operations/INDEX.md"
tags = ["docs", "internal"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 3000
visibility = "internal"

[[checks]]
id = "checks_docs_markdown_directory_budgets"
domain = "docs"
title = "docs markdown directory budgets stay within caps"
docs = "docs/CONTRACT.md"
tags = ["docs", "internal"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_docs_markdown_link_targets_exist"
domain = "docs"
title = "docs markdown link targets exist"
docs = "docs/CONTRACT.md"
tags = ["docs", "internal"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2000
visibility = "internal"

[[checks]]
id = "checks_docs_mkdocs_nav_files_exist"
domain = "docs"
title = "mkdocs nav references existing doc files"
docs = "docs/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2000
visibility = "internal"

[[checks]]
id = "checks_docs_mkdocs_yaml_parseable"
domain = "docs"
title = "mkdocs configuration exists and parses"
docs = "docs/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_docs_near_duplicate_filenames"
domain = "docs"
title = "docs disallow near-duplicate filenames in the same directory"
docs = "docs/operations/INDEX.md"
tags = ["docs", "internal"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_docs_no_duplicate_nav_titles"
domain = "docs"
title = "mkdocs nav titles remain globally unique"
docs = "docs/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_docs_no_orphan_markdown_pages"
domain = "docs"
title = "docs markdown pages are referenced by mkdocs nav"
docs = "docs/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 4000
visibility = "internal"

[[checks]]
id = "checks_docs_operations_canonical_concept_paths"
domain = "docs"
title = "operations docs enforce canonical concept paths without duplicates"
docs = "docs/operations/INDEX.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_docs_operations_directory_index_contract"
domain = "docs"
title = "operations docs directories have exactly one index entrypoint"
docs = "docs/operations/INDEX.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_docs_operations_verify_command_quality"
domain = "docs"
title = "operations docs verification commands match docs doctor surface"
docs = "docs/operations/INDEX.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_docs_ops_command_list_matches_snapshot"
domain = "docs"
title = "ops command list doc matches ops command snapshot"
docs = "docs/reference/contracts/plugins/mode.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 800
visibility = "internal"

[[checks]]
id = "checks_docs_ops_operations_duplicate_titles"
domain = "docs"
title = "retired docs subtree must not be reintroduced with duplicate top-level titles"
docs = "docs/operations/INDEX.md"
tags = ["docs", "internal"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_docs_readme_index_contract_presence"
domain = "docs"
title = "docs and ops index contract pages are present"
docs = "docs/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_docs_removed_system_references_absent"
domain = "docs"
title = "docs do not reference removed systems and transition narrative terms"
docs = "docs/CONTRACT.md"
tags = ["docs", "internal"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_docs_scripting_contract_rust_control_plane_lock"
domain = "docs"
title = "scripting architecture doc reflects rust control-plane lock"
docs = "docs/architecture/scripting.md"
tags = ["docs", "internal"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_make_configs_wrappers_delegate_dev_atlas"
domain = "make"
title = "configs make wrappers delegate through bijux dev atlas configs commands"
docs = "makefiles/configs.mk"
tags = ["internal", "slow"]
suites = ["deep", "configs"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_make_docs_wrappers_delegate_dev_atlas"
domain = "make"
title = "docs make wrappers delegate through bijux dev atlas docs commands"
docs = "docs/development/tooling/dev-atlas-docs.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_make_governance_wrappers_bijux_only"
domain = "make"
title = "ci make wrappers route governance through make and bijux only"
docs = "docs/development/tooling/make-workflow-governance-entrypoints.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_make_governance_wrappers_no_direct_cargo"
domain = "make"
title = "governance wrapper makefiles avoid direct cargo commands"
docs = "docs/development/tooling/make-workflow-governance-entrypoints.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_make_no_direct_ops_script_execution"
domain = "make"
title = "make wrappers avoid direct ops script execution"
docs = "makefiles/ops.mk"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_make_ops_wrappers_delegate_dev_atlas"
domain = "make"
title = "ops make wrappers delegate through bijux dev atlas ops commands"
docs = "makefiles/ops.mk"
tags = ["internal", "slow"]
suites = ["deep", "ops"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_make_wrapper_commands"
domain = "make"
title = "make wrapper commands stay canonical"
docs = "makefiles/CONTRACT.md"
tags = ["make", "fast"]
suites = ["make_fast", "all_fast"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_makefiles_no_cd_invocations"
domain = "make"
title = "makefiles avoid cd invocations"
docs = "makefiles/README.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_makefiles_no_direct_fetch_commands"
domain = "make"
title = "makefiles avoid direct curl and wget commands"
docs = "makefiles/README.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_makefiles_no_direct_tool_invocations"
domain = "make"
title = "makefiles avoid direct shell and tool invocations"
docs = "makefiles/README.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_makefiles_no_multiline_recipes"
domain = "make"
title = "makefiles keep wrapper recipes to single lines"
docs = "makefiles/README.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_makefiles_root_includes_sorted"
domain = "make"
title = "root make include lines are sorted deterministically"
docs = "makefiles/README.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_ops_artifacts_gitignore_policy"
domain = "ops"
title = "artifacts root remains gitignored"
docs = ".gitignore"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci", "ci_fast"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_artifacts_not_tracked"
domain = "ops"
title = "ops evidence paths stay empty in repository"
docs = "ops/CONTRACT.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_control_plane_doc_contract"
domain = "ops"
title = "ops control plane definition doc exists and declares invariants"
docs = "ops/CONTROL_PLANE.md"
tags = ["internal", "fast"]
suites = ["deep", "ops", "doctor"]
effects_required = ["fs_read"]
budget_ms = 800
visibility = "internal"

[[checks]]
id = "checks_ops_docs_governance"
domain = "ops"
title = "ops docs governance enforces indexing and drift controls"
docs = "ops/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 3000
visibility = "internal"

[[checks]]
id = "checks_ops_domain_contract_structure"
domain = "ops"
title = "ops domain contracts include invariants and authored generated sections"
docs = "ops/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2500
visibility = "internal"

[[checks]]
id = "checks_ops_evidence_bundle_discipline"
domain = "ops"
title = "ops evidence bundle artifacts remain deterministic and complete"
docs = "ops/_generated.example/MIRROR_POLICY.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2500
visibility = "internal"

[[checks]]
id = "checks_ops_file_usage_and_orphan_contract"
domain = "ops"
title = "ops data artifacts are classified and orphan-free"
docs = "ops/_generated.example/file-usage-report.json"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2000
visibility = "internal"

[[checks]]
id = "checks_ops_final_polish_contracts"
domain = "ops"
title = "ops final polish invariants, models, and walkthrough contracts remain complete"
docs = "ops/OPS_INVARIANTS.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2200
visibility = "internal"

[[checks]]
id = "checks_ops_fixture_governance"
domain = "ops"
title = "ops fixture layout and binary policy remain governed"
docs = "ops/datasets/fixtures/README.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2500
visibility = "internal"

[[checks]]
id = "checks_ops_generated_lifecycle_metadata"
domain = "ops"
title = "generated evidence lifecycle metadata is complete and derivable"
docs = "ops/GENERATED_LIFECYCLE.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_generated_readonly_markers"
domain = "ops"
title = "ops generated files keep readonly generator markers"
docs = "ops/_generated.example/MIRROR_POLICY.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_human_workflow_maturity"
domain = "ops"
title = "ops human workflow contracts and drill ownership remain enforced"
docs = "ops/OPS_CHANGE_REVIEW_CHECKLIST.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2200
visibility = "internal"

[[checks]]
id = "checks_ops_image_references_digest_pinned"
domain = "ops"
title = "ops image references are digest pinned"
docs = "ops/inventory/toolchain.json"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "public"

[[checks]]
id = "checks_ops_internal_registry_consistency"
domain = "ops"
title = "ops internal registry consistency"
docs = "ops/CONTRACT.md"
tags = ["ops", "internal", "slow"]
suites = ["ops_all"]
effects_required = ["fs_read", "git"]
budget_ms = 4000
visibility = "internal"

[[checks]]
id = "checks_ops_inventory_contract_integrity"
domain = "ops"
title = "ops inventory contracts and schemas are consistent and authoritative"
docs = "ops/inventory/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 3000
visibility = "internal"

[[checks]]
id = "checks_ops_makefile_routes_dev_atlas"
domain = "ops"
title = "ops makefile routes through dev atlas command surface"
docs = "makefiles/ops.mk"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_manifest_integrity"
domain = "ops"
title = "ops inventory manifests are valid json with required keys"
docs = "ops/inventory/README.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_minimalism_and_deletion_safety"
domain = "ops"
title = "ops deletion safety declarations and minimal release surface remain enforced"
docs = "ops/MINIMAL_RELEASE_SURFACE.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2200
visibility = "internal"

[[checks]]
id = "checks_ops_no_bash_lib_execution"
domain = "ops"
title = "ops surfaces avoid direct bash library execution"
docs = "ops/README.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2000
visibility = "internal"

[[checks]]
id = "checks_ops_no_behavior_source_files"
domain = "ops"
title = "ops contains no behavior source files outside fixture allowlists"
docs = "ops/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_ops_no_direct_tool_invocations"
domain = "ops"
title = "ops tree avoids direct kubectl helm k6 and kind invocations"
docs = "ops/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_ops_no_executable_bit_files"
domain = "ops"
title = "ops files do not carry executable bits"
docs = "ops/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_ops_no_makefiles"
domain = "ops"
title = "ops tree contains no makefiles"
docs = "ops/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_ops_no_scripts_areas_or_xtask_refs"
domain = "ops"
title = "ops owned surfaces avoid scripts areas and xtask references"
docs = "ops/CONTRACT.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci", "ci_fast"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_portability_environment_contract"
domain = "ops"
title = "ops portability matrix and environment robustness coverage remain enforced"
docs = "ops/PORTABILITY_MATRIX.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 2000
visibility = "internal"

[[checks]]
id = "checks_ops_quarantine_shim_expiration_contract"
domain = "ops"
title = "ops quarantine shim references are retired and absent"
docs = "ops/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_ops_required_files_contracts"
domain = "ops"
title = "ops required files contracts are machine-checkable and satisfied"
docs = "ops/CONTRACT.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 3000
visibility = "internal"

[[checks]]
id = "checks_ops_retired_artifact_path_references_absent"
domain = "ops"
title = "retired ops artifact path references are absent"
docs = "ops/ARTIFACTS.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_runtime_output_roots_under_ops_absent"
domain = "ops"
title = "runtime output roots under ops stay absent"
docs = "ops/ARTIFACTS.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_schema_presence"
domain = "ops"
title = "ops schema baseline is present"
docs = "ops/schema/README.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_ssot_manifests_schema_versions"
domain = "ops"
title = "ops ssot manifests and control plane doc declare schema or version fields"
docs = "ops/CONTROL_PLANE.md"
tags = ["internal", "fast"]
suites = ["deep", "ops"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "internal"

[[checks]]
id = "checks_ops_surface_inventory"
domain = "ops"
title = "ops index inventories top-level surfaces"
docs = "ops/INDEX.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_surface_manifest"
domain = "ops"
title = "ops surface manifest consistency"
docs = "ops/CONTRACT.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_tree_contract"
domain = "ops"
title = "ops contract files are present"
docs = "ops/CONTRACT.md"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_workflow_routes_dev_atlas"
domain = "ops"
title = "atlas dev workflow routes through ops command surface"
docs = ".github/workflows/atlas-dev-rust.yml"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_ops_workflows_github_actions_pinned"
domain = "ops"
title = "workflow github actions are sha pinned and allowlisted"
docs = "ops/inventory/toolchain.json"
tags = ["ops", "fast"]
suites = ["ops_fast", "all_fast", "ci"]
effects_required = ["fs_read"]
budget_ms = 1200
visibility = "public"

[[checks]]
id = "checks_repo_import_boundary"
domain = "repo"
title = "repo import boundary contracts"
docs = "docs/INDEX.md"
tags = ["repo", "lint", "fast"]
suites = ["repo_fast", "all_fast"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "public"

[[checks]]
id = "checks_root_artifacts_bin_binaries_executable_and_version_printable"
domain = "root"
title = "artifacts bin binaries are executable and print version"
docs = "crates/bijux-dev-atlas/docs/ARTIFACTS.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read", "subprocess"]
budget_ms = 8000
visibility = "internal"

[[checks]]
id = "checks_root_cargo_config_contract"
domain = "root"
title = "cargo config enforces deterministic target and terminal defaults"
docs = "docs/development/tooling/rust-toolchain.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 800
visibility = "internal"

[[checks]]
id = "checks_root_clippy_toml_present"
domain = "root"
title = "clippy lint policy exists at repo root"
docs = "docs/development/tooling/rust-toolchain.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 500
visibility = "internal"

[[checks]]
id = "checks_root_dockerfile_pointer_only"
domain = "root"
title = "root dockerfile is absent or a tiny pointer only"
docs = "docs/development/tooling/control-plane.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_root_dockerignore_context_contract"
domain = "root"
title = "dockerignore excludes local build and repository noise"
docs = "docs/development/tooling/build-outputs.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 800
visibility = "internal"

[[checks]]
id = "checks_root_forbidden_retired_directories_absent"
domain = "root"
title = "retired top-level directories are absent"
docs = "docs/development/tooling/control-plane.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_root_makefile_single_include_entrypoint"
domain = "root"
title = "root makefile is a single include entrypoint"
docs = "makefiles/README.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_root_no_scripts_areas_presence_or_references"
domain = "root"
title = "repository avoids scripts areas presence and references"
docs = "docs/development/scripts.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 3000
visibility = "internal"

[[checks]]
id = "checks_root_python_toolchain_toml_absent"
domain = "root"
title = "retired python toolchain ssot file is absent"
docs = "docs/development/tooling/control-plane.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_root_rust_toolchain_toml_contract"
domain = "root"
title = "rust toolchain pin declares minimal profile and required components"
docs = "docs/development/tooling/rust-toolchain.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 800
visibility = "internal"

[[checks]]
id = "checks_root_rustfmt_toml_present"
domain = "root"
title = "rustfmt policy exists at repo root"
docs = "docs/development/tooling/rust-toolchain.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 500
visibility = "internal"

[[checks]]
id = "checks_root_top_level_directories_contract"
domain = "root"
title = "root top-level directories match contract"
docs = "docs/development/tooling/control-plane.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_root_uv_lock_absent"
domain = "root"
title = "retired root uv lockfile is absent"
docs = "docs/development/tooling/control-plane.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1000
visibility = "internal"

[[checks]]
id = "checks_workflows_governance_entrypoints_bijux_only"
domain = "workflows"
title = "atlas dev workflow uses make and bijux governance entrypoints only"
docs = "docs/development/tooling/make-workflow-governance-entrypoints.md"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_workflows_no_direct_docker_build_execution"
domain = "workflows"
title = "workflows avoid direct docker build execution"
docs = ".github/workflows/atlas-dev-rust.yml"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_workflows_no_direct_ops_script_execution"
domain = "workflows"
title = "workflows avoid direct ops script execution"
docs = ".github/workflows/atlas-dev-rust.yml"
tags = ["internal", "slow"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_workflows_ops_entrypoints_bijux_only"
domain = "workflows"
title = "ops workflow entrypoints use make or bijux dev atlas only"
docs = ".github/workflows/atlas-dev-rust.yml"
tags = ["internal", "slow"]
suites = ["deep", "ops"]
effects_required = ["fs_read"]
budget_ms = 1500
visibility = "internal"

[[checks]]
id = "checks_workflows_rust_toolchain_matches_repo_pin"
domain = "workflows"
title = "rust workflow pin matches rust-toolchain.toml"
docs = "docs/development/tooling/rust-toolchain.md"
tags = ["internal", "fast"]
suites = ["deep"]
effects_required = ["fs_read"]
budget_ms = 800
visibility = "internal"

[[suites]]
id = "all_fast"
checks = []
domains = ["ops", "repo", "docs", "make"]
tags_any = ["fast"]

[[suites]]
id = "ci"
checks = [
  "checks_ops_surface_manifest",
  "checks_ops_tree_contract",
  "checks_ops_generated_readonly_markers",
  "checks_ops_schema_presence",
  "checks_ops_manifest_integrity",
  "checks_ops_surface_inventory",
  "checks_ops_artifacts_not_tracked",
  "checks_ops_no_scripts_areas_or_xtask_refs",
  "checks_ops_artifacts_gitignore_policy",
  "checks_ops_makefile_routes_dev_atlas",
  "checks_ops_workflow_routes_dev_atlas",
]
domains = []
tags_any = []

[[suites]]
id = "ci_fast"
checks = [
  "checks_ops_surface_manifest",
  "checks_ops_tree_contract",
  "checks_ops_generated_readonly_markers",
  "checks_ops_schema_presence",
  "checks_ops_manifest_integrity",
  "checks_ops_surface_inventory",
  "checks_ops_artifacts_not_tracked",
  "checks_ops_no_scripts_areas_or_xtask_refs",
  "checks_ops_artifacts_gitignore_policy",
  "checks_ops_makefile_routes_dev_atlas",
  "checks_ops_workflow_routes_dev_atlas",
  "checks_repo_import_boundary",
  "checks_docs_index_links",
  "checks_make_wrapper_commands",
]
domains = []
tags_any = []

[[suites]]
id = "ci_nightly"
checks = []
domains = ["ops", "repo", "docs", "make", "configs", "workflows", "docker", "crates"]
tags_any = []

[[suites]]
id = "ci_pr"
checks = []
domains = ["ops", "repo", "docs", "make", "configs", "workflows", "docker", "crates"]
tags_any = ["fast"]

[[suites]]
id = "configs"
checks = []
domains = ["configs"]
tags_any = []

[[suites]]
id = "deep"
checks = []
domains = ["ops", "repo", "docs", "make"]
tags_any = []

[[suites]]
id = "docs"
checks = []
domains = ["docs"]
tags_any = []

[[suites]]
id = "docs_fast"
checks = []
domains = ["docs"]
tags_any = ["fast"]

[[suites]]
id = "doctor"
checks = [
  "checks_ops_tree_contract",
  "checks_ops_surface_manifest",
  "checks_ops_makefile_routes_dev_atlas",
  "checks_ops_workflow_routes_dev_atlas",
]
domains = []
tags_any = []
[[suites]]
id = "local"
checks = []
domains = ["ops", "repo", "docs", "make"]
tags_any = ["fast"]

[[suites]]
id = "make_fast"
checks = []
domains = ["make"]
tags_any = ["fast"]

[[suites]]
id = "ops"
checks = [
  "checks_make_ops_wrappers_delegate_dev_atlas",
  "checks_workflows_ops_entrypoints_bijux_only",
]
domains = ["ops"]
tags_any = []

[[suites]]
id = "ops_all"
checks = [
  "checks_ops_artifacts_gitignore_policy",
  "checks_ops_artifacts_not_tracked",
  "checks_ops_control_plane_doc_contract",
  "checks_ops_generated_readonly_markers",
  "checks_ops_internal_registry_consistency",
  "checks_ops_makefile_routes_dev_atlas",
  "checks_ops_manifest_integrity",
  "checks_ops_no_bash_lib_execution",
  "checks_ops_no_behavior_source_files",
  "checks_ops_no_executable_bit_files",
  "checks_ops_no_scripts_areas_or_xtask_refs",
  "checks_ops_schema_presence",
  "checks_ops_ssot_manifests_schema_versions",
  "checks_ops_surface_inventory",
  "checks_ops_surface_manifest",
  "checks_ops_tree_contract",
  "checks_ops_workflow_routes_dev_atlas",
]
domains = []
tags_any = []

[[suites]]
id = "ops_fast"
checks = [
  "checks_ops_surface_manifest",
  "checks_ops_tree_contract",
  "checks_ops_generated_readonly_markers",
  "checks_ops_schema_presence",
  "checks_ops_manifest_integrity",
  "checks_ops_surface_inventory",
  "checks_ops_artifacts_not_tracked",
  "checks_ops_no_scripts_areas_or_xtask_refs",
  "checks_ops_artifacts_gitignore_policy",
  "checks_ops_makefile_routes_dev_atlas",
  "checks_ops_workflow_routes_dev_atlas",
]
domains = ["ops"]
tags_any = ["fast"]

[[suites]]
id = "repo_fast"
checks = []
domains = ["repo"]
tags_any = ["fast"]
