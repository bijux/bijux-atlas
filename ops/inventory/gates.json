{
  "schema_version": 1,
  "gates": [
    {"id": "ops.doctor", "action_id": "ops.root.doctor", "category": "root", "description": "baseline inventory and contract health"},
    {"id": "ops.validate", "action_id": "ops.root.check", "category": "root", "description": "full contract validation lane"},
    {"id": "ops.gate.directory-completeness", "action_id": "ops.root.directory-budgets-check", "category": "governance", "description": "directory completeness and budget checks"},
    {"id": "ops.gate.schema-validation", "action_id": "ops.root.schema-check", "category": "schema", "description": "schema validation and drift detection"},
    {"id": "ops.gate.schema-locality", "action_id": "ops.root.schema-check", "category": "schema", "description": "schema references must start with ops/schema/"},
    {"id": "ops.gate.no-external-schema-files", "action_id": "ops.root.schema-check", "category": "schema", "description": "schema files are allowed only under ops/schema/**"},
    {"id": "ops.gate.pin-drift", "action_id": "ops.pins.check", "category": "inventory", "description": "pin drift and coverage checks"},
    {"id": "ops.gate.stack-reproducibility", "action_id": "ops.stack.validate", "category": "stack", "description": "stack reproducibility and profile validation"},
    {"id": "ops.gate.k8s-determinism", "action_id": "ops.k8s.check", "category": "k8s", "description": "k8s render/install determinism checks"},
    {"id": "ops.gate.observe-coverage", "action_id": "ops.observe.validate", "category": "observe", "description": "observability coverage and readiness checks"},
    {"id": "ops.gate.observe-naming", "action_id": "ops.root.naming-check", "category": "governance", "description": "forbid legacy obs domain keys and ids; only observe is allowed after 2026-02-25"},
    {"id": "ops.gate.inventory-registry-role", "action_id": "ops.root.contracts-check", "category": "inventory", "description": "inventory registry files must declare role as authored or generated"},
    {"id": "ops.gate.inventory-registry-uniqueness", "action_id": "ops.root.contracts-check", "category": "inventory", "description": "forbid duplicate semantic registry files for the same inventory contract domain"},
    {"id": "ops.gate.inventory-registry-ordering", "action_id": "ops.root.contracts-check", "category": "inventory", "description": "generated inventory registries must use deterministic stable ordering"},
    {"id": "ops.gate.inventory-schema-coverage", "action_id": "ops.root.schema-check", "category": "inventory", "description": "every inventory artifact must reference an ops/schema/inventory schema"},
    {"id": "ops.gate.inventory-schema-index-coverage", "action_id": "ops.root.schema-check", "category": "inventory", "description": "schema index must include all ops/schema/inventory schemas"},
    {"id": "ops.gate.inventory-owner-fragments-live", "action_id": "ops.root.contracts-check", "category": "inventory", "description": "owner-docs.fragments.json entries must reference live owner docs"},
    {"id": "ops.gate.inventory-tool-registry-uniqueness", "action_id": "ops.root.contracts-check", "category": "inventory", "description": "tools.toml is the only tool probe registry; registry.toml is check catalog only"},
    {"id": "ops.gate.inventory-pin-format", "action_id": "ops.pins.check", "category": "inventory", "description": "toolchain and release pins must conform to inventory pin format rules"},
    {"id": "ops.gate.canonical-directory-names", "action_id": "ops.root.naming-check", "category": "governance", "description": "enforce canonical directory names; contracts/ is allowed and contract/ is forbidden"},
    {"id": "ops.gate.control-plane-drift", "action_id": "ops.root.contracts-check", "category": "docs", "description": "ops/CONTROL_PLANE.md must match control-plane snapshot contract or avoid hardcoded crate lists"},
    {"id": "ops.gate.no-stale-locked-claims", "action_id": "ops.root.contracts-check", "category": "docs", "description": "non-generated contract docs must not contain stale locked list claims"},
    {"id": "ops.gate.dataset-lifecycle", "action_id": "ops.datasets.validate", "category": "datasets", "description": "dataset lifecycle and manifest checks"},
    {"id": "ops.gate.unified-readiness", "action_id": "ops.observe.report", "category": "report", "description": "unified readiness report publication gate"}
  ]
}
